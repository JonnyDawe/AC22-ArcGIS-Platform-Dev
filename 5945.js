"use strict";(self.webpackChunkreveal_js_testing=self.webpackChunkreveal_js_testing||[]).push([[5945],{15945:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ w)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar Error = __webpack_require__(70375);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(61681);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/reactiveUtils.js\nvar reactiveUtils = __webpack_require__(76868);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js\nvar arrayUtils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\nvar subclass = __webpack_require__(40266);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js\nvar hydratedFeatures = __webpack_require__(45043);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js + 1 modules\nvar FeatureTileController3D = __webpack_require__(44675);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js + 1 modules\nvar FeatureLikeLayerView3D = __webpack_require__(58118);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/LayerView3D.js\nvar LayerView3D = __webpack_require__(19654);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js + 2 modules\nvar FeatureTileFetcher3D = __webpack_require__(80529);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 3 modules\nvar Accessor = __webpack_require__(53443);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(78668);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js\nvar dehydratedFeatures = __webpack_require__(48358);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/query/operations/query.js\nvar query = __webpack_require__(28500);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js\nvar Graphic = __webpack_require__(80085);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/workers/WorkerHandle.js\nvar WorkerHandle = __webpack_require__(12916);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js\nvar SpatialReference = __webpack_require__(14685);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/Field.js\nvar Field = __webpack_require__(12512);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/support/PBFDecoder.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass i{constructor(e){this._schedule=e,this._handle=new n(e)}destroy(){this._handle.destroy()}invoke(o,i){return o.buffer&&0!==o.buffer.byteLength?(o.options.sourceSpatialReference&&o.options.sourceSpatialReference instanceof SpatialReference/* default */.Z&&(o.options={...o.options,sourceSpatialReference:o.options.sourceSpatialReference.toJSON()}),this._handle.invoke(o,i).then((o=>this._schedule((()=>{if(o.spatialReference=SpatialReference/* default.fromJSON */.Z.fromJSON(o.spatialReference),o.fields)for(let e=0;e<o.fields.length;e++)o.fields[e]=Field/* default.fromJSON */.Z.fromJSON(o.fields[e]);const i=o.spatialReference;for(const t of o.features)t.uid=Graphic/* default.generateUID */.Z.generateUID(),(0,maybe/* isSome */.pC)(t.geometry)&&(t.geometry.spatialReference=i);return o}))))):Promise.resolve(null)}}class n extends WorkerHandle/* WorkerHandle */.q{constructor(e){super("PBFDecoderWorker","_parseFeatureQuery",e)}getTransferList(e){return[e.buffer]}}\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet d=class extends Accessor/* default */.Z{constructor(e){super(e)}get queryFeaturesDehydrated(){const e=this.layer.capabilities,r=e&&e.query;if(r&&r.supportsFormatPBF){var o,y;(0,maybe/* isNone */.Wi)(this._decoder)&&(this._decoder=new i(this.schedule));const e={sourceSpatialReference:null!=(o=null==(y=this.layer.spatialReference)?void 0:y.toJSON())?o:null,applyTransform:!0,maxStringAttributeLength:1024};return(r,t)=>(0,query.runQuery)(this.layer.parsedUrl,r,"pbf",this._createRequestOptions(t)).then((r=>((0,promiseUtils/* throwIfAborted */.k_)(t),(0,maybe/* isSome */.pC)(this._decoder)?this._decoder.invoke({buffer:r.data,options:e},t.signal):Promise.reject((0,promiseUtils/* createAbortError */.zE)()))))}return(e,r)=>(0,query.executeQuery)(this.layer.parsedUrl,e,this.layer.spatialReference,this._createRequestOptions(r)).then((e=>(0,dehydratedFeatures/* fromFeatureSetJSON */.PA)(e.data)))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=(0,maybe/* destroyMaybe */.SC)(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...null==e?void 0:e.query}}}};(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],d.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],d.prototype,"schedule",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],d.prototype,"queryFeaturesDehydrated",null),d=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D")],d);let h=class extends Accessor/* default */.Z{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],h.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],h.prototype,"queryFeaturesDehydrated",null),h=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceMeshQuery3D")],h);let m=class extends Accessor/* default */.Z{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],m.prototype,"layer",void 0),m=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D")],m);let f=class extends Accessor/* default */.Z{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(dehydratedFeatures/* fromFeatureSetJSON */.PA,(t=>{if(t&&"query-features-json:unsupported"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function q(e,r){return"feature"===e.type&&"feature-layer"===e.source.type?(0,maybe/* isSome */.pC)(e.infoFor3D)?new h({layer:e}):new d({layer:e,schedule:r}):"feature"===e.type&&"memory"===e.source.type||"csv"===e.type||"geojson"===e.type||"wfs"===e.type?new f({layer:e,source:e.source}):"ogc-feature"===e.type?new m({layer:e}):null}(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],f.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],f.prototype,"source",void 0),f=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D")],f);\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DLayerViewContext.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass l{constructor(e){this._memoryCache=null,this._capabilities=null;const r=e.layerView.layer;this.layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField="globalIdField"in r?r.globalIdField:null,this.returnZ=e.returnZ,this.returnM=e.returnM;const t=this.layerView.view.resourceController;this.query=q(r,(e=>t.schedule(e))),t&&this.memoryCacheEnabled&&(this._memoryCache=t.memoryController.newCache(r.uid))}get memoryCacheEnabled(){switch(this.layerView.layer.source.type){case"feature-layer":case"ogc-feature":return!0;case"csv":case"geojson":case"memory":case"wfs":return!1}}destroy(){this._memoryCache=(0,maybe/* destroyMaybe */.SC)(this._memoryCache),this.query.destroy()}createQuery(){const e=this.layerView.layer.createQuery();return e.outFields=this.layerView.availableFields,e.returnZ=this.returnZ,e.returnM=this.returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this.layerView.view.state.viewingMode}get tilingScheme(){return this.layerView.view.featureTiles.tilingScheme}get scheduler(){const e=this.layerView.view.resourceController;return e?e.scheduler:null}get geometryType(){return this.layerView.layer.geometryType}get fullExtent(){return this.layerView.layer.fullExtent}get tileMaxRecordCount(){return this.layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this.layerView.layer.capabilities.query.maxRecordCount}get capabilities(){return (0,maybe/* isSome */.pC)(this._capabilities)||(this._capabilities=(0,FeatureTileFetcher3D/* contextCapabilitiesFromLayer */.AD)(this.layerView.layer)),this._capabilities}logFetchError(e,r){e.error("#fetchTile()",this.layerView.layer,r&&r.message?r.message:r)}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/support/EventedSet.js\nvar EventedSet = __webpack_require__(3659);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/support/updatingProperties.js\nvar updatingProperties = __webpack_require__(57686);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js\nvar basicInterfaces = __webpack_require__(70984);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/layers/FeatureLayerView.js\nvar FeatureLayerView = __webpack_require__(79917);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/layers/LayerView.js\nvar LayerView = __webpack_require__(26216);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js\nvar RefreshableLayerView = __webpack_require__(55068);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet M=class extends((0,RefreshableLayerView/* RefreshableLayerView */.y)((0,FeatureLikeLayerView3D/* FeatureLikeLayerView3D */.R)((0,FeatureLayerView/* FeatureLayerView */.T)((0,LayerView3D/* LayerView3D */.A)(LayerView/* default */.Z))))){constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this.suspendResumeExtentMode="data"}initialize(){this.updatingHandles.add((()=>this.view.floors),(()=>this.processor.filterVisibility.filterChanged())),this.handles.add((0,reactiveUtils/* watch */.YP)((()=>this._updatingRequiredFieldsPromise),(e=>this.updatingHandles.addPromise(e)),reactiveUtils/* syncAndInitial */.tX))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this.fetcherContext=(0,maybe/* destroyMaybe */.SC)(this.fetcherContext)}get maximumNumberOfFeatures(){var e,r;return null!=(e=null==(r=this.controller)?void 0:r.maximumNumberOfFeatures)?e:this._get("maximumNumberOfFeatures")}set maximumNumberOfFeatures(e){this._set("maximumNumberOfFeatures",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){var e,r;let t=0;if(null!=(e=this.controller)&&e.updating){const e=this.controller.updatingRemaining,r=Math.max(this.controller.updatingTotal,this._controllerTotal);r>0&&(t=(r-e)/r,this._controllerTotal=r)}let s=0;if(null!=(r=this.processor)&&r.updating){const e=this.processor.updatingRemaining,r=Math.max(e,this._processorTotal);r>0&&(s=(r-e)/r,this._processorTotal=r)}return.5*(t+s)}get updatePolicy(){if(!this.controller)return basicInterfaces/* UpdatePolicy.ASYNC */.jq.ASYNC;switch(this.controller.mode){case"snapshot":{const e=j[this.layer.geometryType];return null==e||this.controller.serviceDataCount>e?basicInterfaces/* UpdatePolicy.ASYNC */.jq.ASYNC:basicInterfaces/* UpdatePolicy.SYNC */.jq.SYNC}case"tiles":return basicInterfaces/* UpdatePolicy.ASYNC */.jq.ASYNC}}get hasZ(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsZ)&&("returnZ"in e&&null!=e.returnZ?e.returnZ:r.supportsZ)}get hasM(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsM)&&("returnM"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,r){var t;null==(t=this.processor)||t.setObjectIdVisibility(e,r)}createQuery(){return super.createQuery()}queryFeatures(e,r){const t=()=>super.queryFeatures(e,r);return"mesh"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),t):t()}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}createController(){this.fetcherContext=new l({layerView:this,returnZ:this.hasZ,returnM:this.hasM});const e=new FeatureTileController3D/* FeatureTileController3D */.g({layerView:this,context:this.fetcherContext,graphics:new EventedSet/* EventedSet */.g,extent:this.clippingExtent});return this.updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),reactiveUtils/* initial */.nn),this.handles.add((0,reactiveUtils/* watch */.YP)((()=>this.suspended),(r=>{r?e.suspend():e.resume()}),reactiveUtils/* syncAndInitial */.tX)),this.updatingHandles.add((()=>{var e;return null==(e=this.processor)?void 0:e.displayFeatureLimit}),(r=>e.displayFeatureLimit=r),reactiveUtils/* initial */.nn),this.handles.add((0,reactiveUtils/* when */.gx)((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}async doRefresh(e){e&&!this.suspended&&this.controller&&this.controller.refetch(),this.processor.filterVisibility.dirty=!0}getUsedMemory(){var e,r,t,s;return(null!=(e=null==(r=this.processor)?void 0:r.usedMemory)?e:0)+(null!=(t=null==(s=this.controller)?void 0:s.memoryForUnusedFeatures)?t:0)}getUnloadedMemory(){var e,r,t,s,o;return(null!=(e=null==(r=this.processor)?void 0:r.unprocessedMemoryEstimate)?e:0)+(null!=(t=(null==(s=this.controller)?void 0:s.expectedFeatureDiff)*(null==(o=this.processor)?void 0:o.usedMemoryPerFeature))?t:0)}ignoresMemoryFactor(){var e;return null==(e=this.controller)?void 0:e.hasMaximumNumberOfFeaturesOverride}async _queryFeaturesMesh(e,r){await this._validateQueryFeaturesMesh(e);const t=await r();if(e&&e.outStatistics||(0,maybe/* isNone */.Wi)(this.graphics3DProcessor))return t;const o=this.layer.objectIdField,i=this.graphics3DProcessor.graphics3DGraphicsByObjectID,a=[];for(const s of t.features)if(s.geometry){const e=i.get(s.attributes[o]);e&&(s.geometry=(0,hydratedFeatures/* hydrateGeometry */.kB)(e.graphic.geometry),a.push(s))}else a.push(s);return t.features=a,t}async _validateQueryFeaturesMesh(e){if(!e)return;const t=e=>{throw new Error/* default */.Z("feature-layer-view:unsupported-query",`Queries on Mesh feature collection layers do not support \'${e}\'`)},s=["quantizationParameters","geometryPrecision","maxAllowableOffset"];for(const r of s)null!=e[r]&&t(r);"returnM"in e&&e.returnM&&t("returnM"),"returnCentroid"in e&&e.returnCentroid&&t("returnCentroid"),(0,maybe/* isSome */.pC)(e.outSpatialReference)&&!e.outSpatialReference.equals(this.view.spatialReference)&&t("outSpatialReference")}get performanceInfo(){var e,r,t,s,i;const a=null==(e=this.controller)?void 0:e.displayFeatureLimit,l=(0,maybe/* isSome */.pC)(a)&&a.averageSymbolComplexity,n=(0,maybe/* isSome */.pC)(l)?`f:${l.primitivesPerFeature},v:${l.primitivesPerCoordinate}`:"n/a",u={...this._getResourceInfo(),storedFeatures:0,totalVertices:0,partial:this.maximumNumberOfFeaturesExceeded,mode:null!=(r=null==(t=this.controller)?void 0:t.mode)?r:"n/a",symbolComplexity:n,nodes:null!=(s=null==(i=this.controller)?void 0:i.tileDescriptors.length)?s:0};if(this.controller&&u.displayedNumberOfFeatures){const e=this.controller.debug;u.storedFeatures=e.storedFeatures,u.totalVertices=e.totalVertices}return u}get test(){return{updatePolicy:this.updatePolicy,controller:this.controller}}};(0,tslib_es6._)([(0,property/* property */.Cb)()],M.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],M.prototype,"controller",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],M.prototype,"_controllerTotal",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],M.prototype,"_processorTotal",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],M.prototype,"maximumNumberOfFeatures",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],M.prototype,"maximumNumberOfFeaturesExceeded",null),(0,tslib_es6._)([(0,property/* property */.Cb)(updatingProperties/* updatingProgress */.q)],M.prototype,"updatingProgress",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],M.prototype,"updatingProgressValue",null),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],M.prototype,"updatePolicy",null),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],M.prototype,"hasZ",null),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],M.prototype,"hasM",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],M.prototype,"suspendResumeExtentMode",void 0),M=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.3d.layers.FeatureLayerViewBase3D")],M);const j={point:5e3,polygon:500,polyline:1e3},w=M;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js_+_3_modules?')},79917:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "T": () => (/* binding */ O)\n/* harmony export */ });\n/* unused harmony export default */\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(36663);\n/* harmony import */ var _core_deprecate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59801);\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70375);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13802);\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(61681);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78668);\n/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15071);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(40266);\n/* harmony import */ var _layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(51599);\n/* harmony import */ var _layers_support_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(92150);\n/* harmony import */ var _layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(15553);\n/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(17095);\n/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(14136);\n/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(30879);\n/* harmony import */ var _support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(59439);\n/* harmony import */ var _support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(89280);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst P=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].getLogger */ .Z.getLogger("esri.views.layers.FeatureLayerView"),O=i=>{let O=class extends i{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .init */ .S1)(this,["layer.renderer","layer.labelingInfo","layer.elevationInfo.featureExpressionInfo","layer.displayField","filter","featureEffect","layer.timeInfo","layer.floorInfo","timeExtent"],(()=>this._handleRequiredFieldsChange()),!0),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)(this,"view.floors","change",(()=>this._handleRequiredFieldsChange())),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_4__.on)(this,"layer.sublayer","change",(()=>this._handleRequiredFieldsChange()))}get availableFields(){const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return"outFields"in e&&e.outFields?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .fixFields */ .Q0)(t,[...(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .unpackFieldNames */ .Lk)(t,e.outFields),...r]):(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .fixFields */ .Q0)(t,r)}set effect(e){(0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_0__/* .deprecatedProperty */ .Mr)(P,"effect",{replacement:"featureEffect",version:"4.22"}),this.featureEffect=e}get effect(){return (0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_0__/* .deprecatedProperty */ .Mr)(P,"effect",{replacement:"featureEffect",version:"4.22"}),this.featureEffect}get featureEffect(){return this.layer&&"featureEffect"in this.layer?this.layer.featureEffect:null}set featureEffect(e){void 0!==e?this._override("featureEffect",e):this._clearOverride("featureEffect")}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){P.error("#maximumNumberOfFeatures=","Setting maximum number of features is not supported")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error("missing implementation")}createQuery(){const e={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(this.filter)?this.filter.createQuery(e):new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z(e);if("feature"===this.layer.type){const e=(0,_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getFloorFilterClause */ .cx)(this);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(this.timeExtent)&&(t.timeExtent=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(t.timeExtent)?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}queryFeatures(e,t){throw new Error("missing implementation")}queryObjectIds(e,t){throw new Error("missing implementation")}queryFeatureCount(e,t){throw new Error("missing implementation")}queryExtent(e,t){throw new Error("missing implementation")}async fetchPopupFeatures(e,t){const r=this.validateFetchPopupFeatures(t);if(r)throw r;return this.fetchClientPopupFeatures(t)}_loadArcadeModules(e){if(e.get("expressionInfos.length")||Array.isArray(e.content)&&e.content.some((e=>"expression"===e.type)))return (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_15__/* .loadArcade */ .LC)()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set("_updatingRequiredFieldsPromise",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set("_updatingRequiredFieldsPromise",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e="3d"===this.view.type,{layer:t,layer:{fieldsIndex:r,objectIdField:i}}=this,o="renderer"in t&&t.renderer,n="orderBy"in t&&t.orderBy,l=t.featureReduction,u=new Set,p=await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .eachAlways */ .as)([o?o.collectRequiredFields(u,r):null,(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectLabelingFields */ .Mu)(u,t),e?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectElevationFields */ .vl)(u,t):null,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(this.filter)?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectFilterFields */ .Ll)(u,t,this.filter):null,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(this.featureEffect)?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectFilterFields */ .Ll)(u,t,this.featureEffect.filter):null,l?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectFeatureReductionFields */ .ZV)(u,t,l):null,n?(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectOrderByInfos */ .Qj)(u,t,n):null]);if(t.timeInfo&&this.timeExtent&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectFields */ .gd)(u,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),"feature"===t.type&&t.floorInfo&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectFields */ .gd)(u,t.fieldsIndex,[t.floorInfo.floorField]),"subtype-group"===t.type){(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectField */ .AB)(u,r,t.subtypeField);const e=t.sublayers.map((e=>{var t;return Promise.all([null==(t=e.renderer)?void 0:t.collectRequiredFields(u,r),(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectLabelingFields */ .Mu)(u,e)])}));await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .eachAlways */ .as)(e)}for(const s of p)s.error&&P.error(s.error);(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectField */ .AB)(u,r,i),e&&"displayField"in t&&t.displayField&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .collectField */ .AB)(u,r,t.displayField);const f=Array.from(u).sort();this._set("requiredFields",f)}validateFetchPopupFeatures(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isNone */ .Wi)(e))return null;for(const t of e.clientGraphics){const i=t.layer;if("popupEnabled"in i&&!i.popupEnabled)return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("featurelayerview:fetchPopupFeatures","Popups are disabled",{layer:i});if("popupTemplate"in i){if(!(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__/* .getFetchPopupTemplate */ .V)(i,e))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("featurelayerview:fetchPopupFeatures","Layer does not define a popup template",{layer:i})}if(t.isAggregate&&!(i.featureReduction&&"popupTemplate"in i.featureReduction&&i.featureReduction.popupEnabled&&i.featureReduction.popupTemplate))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("featurelayerview:fetchPopupFeatures","Popups are disabled",{layer:i})}}async fetchClientPopupFeatures(e){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(e)?e.clientGraphics:null;if(!t||0===t.length)return[];const r=new Array(t.length),i=new Map,o=await this.createPopupQuery(e);for(let a=0;a<t.length;a++){const n=t[a];if(n.isAggregate){r[a]=n;continue}const{layer:l}=n;if(!("popupEnabled"in l))continue;const u=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .unpackFieldNames */ .Lk)(this.layer.fieldsIndex,o.outFields),p=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__/* .getFetchPopupTemplate */ .V)(l,e);if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(p))continue;const f=await this._loadArcadeModules(p);f&&f.arcadeUtils.hasGeometryOperations(p)||!(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .featureHasFields */ .R9)(u,n)?i.set(n.getObjectId(),a):r[a]=n}if("stream"===this.layer.type||0===i.size)return r.filter(Boolean);o.objectIds=Array.from(i.keys());try{const e=await this.layer.queryFeatures(o);for(const t of e.features){r[i.get(t.getObjectId())]=t}}catch{}return r.filter(Boolean)}async createPopupQuery(e){const t=this.layer.createQuery(),r=new Set;let i=!1;const o=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(e)&&e.clientGraphics?e.clientGraphics.map((e=>e.layer)):[this.layer];for(const a of o){if(!("popupEnabled"in a))continue;const t=(0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__/* .getFetchPopupTemplate */ .V)(a,e);if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(t))continue;const o=await this._loadArcadeModules(t),n=o&&o.arcadeUtils.hasGeometryOperations(t);i=!("point"!==this.layer.geometryType&&!n);const l=await (0,_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_16__/* .getRequiredFields */ .e)(this.layer,t);for(const e of l)r.add(e)}if(t.returnGeometry=i,t.returnZ=i,t.returnM=i,t.outFields=Array.from(r),t.outSpatialReference=this.view.spatialReference,"feature"===this.layer.type){const e=(0,_support_floorFilterUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getFloorFilterClause */ .cx)(this);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(e)&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return t}canResume(){return!!super.canResume()&&(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(this.timeExtent)||!this.timeExtent.isEmpty)}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)()],O.prototype,"_updatingRequiredFieldsPromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({readOnly:!0})],O.prototype,"availableFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)()],O.prototype,"effect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({type:_layers_support_FeatureEffect_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .Z})],O.prototype,"featureEffect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({type:_layers_support_FeatureFilter_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z})],O.prototype,"filter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)(_layers_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_10__/* .combinedViewLayerTimeExtentProperty */ .qG)],O.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)()],O.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({type:Number})],O.prototype,"maximumNumberOfFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({readOnly:!0,type:Boolean})],O.prototype,"maximumNumberOfFeaturesExceeded",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({readOnly:!0})],O.prototype,"requiredFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)()],O.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)()],O.prototype,"view",void 0),O=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_19__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__/* .subclass */ .j)("esri.views.layers.FeatureLayerView")],O),O};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/layers/FeatureLayerView.js?')},55068:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "y": () => (/* binding */ i)\n/* harmony export */ });\n/* unused harmony export default */\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(36663);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13802);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78668);\n/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(76868);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(40266);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst i=i=>{let c=class extends i{initialize(){this.handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isAbortError */ .D_)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].getLogger */ .Z.getLogger(this.declaredClass).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .j)("esri.layers.mixins.RefreshableLayerView")],c),c};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js?')},59439:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "V": () => (/* binding */ d),\n/* harmony export */   "e": () => (/* binding */ t)\n/* harmony export */ });\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61681);\n/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17095);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nasync function t(t,d=t.popupTemplate){if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .pC)(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes("*"))return["*"];const f=n?await (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getFeatureEditFields */ .CH)(t):[],r=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .fixFields */ .Q0)(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .pC)(l)&&l.defaultPopupTemplateEnabled&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .pC)(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/layers/support/popupUtils.js?')}}]);