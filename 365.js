"use strict";(self.webpackChunkreveal_js_testing=self.webpackChunkreveal_js_testing||[]).push([[365],{90365:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ ClosestFacilityTask)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(13802);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js + 1 modules\nvar subclass = __webpack_require__(12571);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js\nvar request = __webpack_require__(66341);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/queryUtils.js\nvar queryUtils = __webpack_require__(48420);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/normalizeUtils.js + 2 modules\nvar normalizeUtils = __webpack_require__(56247);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/networkService.js + 5 modules\nvar networkService = __webpack_require__(76058);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/utils.js\nvar utils = __webpack_require__(84238);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry.js\nvar geometry = __webpack_require__(91957);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js\nvar Graphic = __webpack_require__(80085);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js\nvar JSONSupport = __webpack_require__(49004);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(61681);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js\nvar reader = __webpack_require__(34248);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js\nvar SpatialReference = __webpack_require__(14685);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/DirectionsFeatureSet.js\nvar DirectionsFeatureSet = __webpack_require__(45714);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/FeatureSet.js\nvar FeatureSet = __webpack_require__(51211);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/NAMessage.js\nvar NAMessage = __webpack_require__(89956);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 2 modules\nvar Point = __webpack_require__(53446);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polyline.js\nvar Polyline = __webpack_require__(90819);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polygon.js\nvar Polygon = __webpack_require__(89542);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/rest/support/ClosestFacilitySolveResult.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction d(r){return r.features.map((o=>{const s=SpatialReference/* default.fromJSON */.Z.fromJSON(r.spatialReference),i=Graphic/* default.fromJSON */.Z.fromJSON(o);return (0,maybe/* isSome */.pC)(i.geometry)&&(i.geometry.spatialReference=s),i}))}function f(r){return FeatureSet["default"].fromJSON(r).features.map((r=>r.geometry))}let g=class extends JSONSupport/* JSONSupport */.wq{constructor(r){super(r),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(r){return f(r)}readIncidents(r){return f(r)}readPointBarriers(r,e){return f(e.barriers)}readPolylineBarriers(r){return f(r)}readPolygonBarriers(r){return f(r)}readRoutes(r){return d(r)}};(0,tslib_es6._)([(0,property/* property */.Cb)({type:[DirectionsFeatureSet/* default */.Z]})],g.prototype,"directions",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:[Point/* default */.Z]})],g.prototype,"facilities",void 0),(0,tslib_es6._)([(0,reader/* reader */.r)("facilities")],g.prototype,"readFacilities",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:[Point/* default */.Z]})],g.prototype,"incidents",void 0),(0,tslib_es6._)([(0,reader/* reader */.r)("incidents")],g.prototype,"readIncidents",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:[NAMessage/* default */.Z]})],g.prototype,"messages",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:[Point/* default */.Z]})],g.prototype,"pointBarriers",void 0),(0,tslib_es6._)([(0,reader/* reader */.r)("pointBarriers",["barriers"])],g.prototype,"readPointBarriers",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:[Polyline/* default */.Z]})],g.prototype,"polylineBarriers",void 0),(0,tslib_es6._)([(0,reader/* reader */.r)("polylineBarriers")],g.prototype,"readPolylineBarriers",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:[Polygon/* default */.Z]})],g.prototype,"polygonBarriers",void 0),(0,tslib_es6._)([(0,reader/* reader */.r)("polygonBarriers")],g.prototype,"readPolygonBarriers",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:[Graphic/* default */.Z]})],g.prototype,"routes",void 0),(0,tslib_es6._)([(0,reader/* reader */.r)("routes")],g.prototype,"readRoutes",null),g=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.rest.support.ClosestFacilitySolveResult")],g);var j=g;/* harmony default export */ const ClosestFacilitySolveResult = (j);\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/rest/closestFacility.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst l=(0,queryUtils/* createQueryParamsHelper */.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});async function c(r,c,m){const f=[],p=[],y={},B={},d=(0,utils/* parseUrl */.en)(r);return c.incidents&&c.incidents.features&&(0,networkService/* collectGeometries */.et)(c.incidents.features,p,"incidents.features",y),c.facilities&&c.facilities.features&&(0,networkService/* collectGeometries */.et)(c.facilities.features,p,"facilities.features",y),c.pointBarriers&&c.pointBarriers.features&&(0,networkService/* collectGeometries */.et)(c.pointBarriers.features,p,"pointBarriers.features",y),c.polylineBarriers&&c.polylineBarriers.features&&(0,networkService/* collectGeometries */.et)(c.polylineBarriers.features,p,"polylineBarriers.features",y),c.polygonBarriers&&c.polygonBarriers.features&&(0,networkService/* collectGeometries */.et)(c.polygonBarriers.features,p,"polygonBarriers.features",y),(0,normalizeUtils/* normalizeCentralMeridian */.aX)(p).then((e=>{for(const r in y){const t=y[r];f.push(r),B[r]=e.slice(t[0],t[1])}return (0,networkService/* isInputGeometryZAware */.Wf)(B,f)?(0,networkService/* fetchServiceDescription */.bI)(d.path):Promise.resolve({dontCheck:!0})})).then((r=>{("dontCheck"in r?r.dontCheck:r.hasZ)||(0,networkService/* dropZValuesOffInputGeometry */.ef)(B,f);for(const e in B)B[e].forEach(((r,t)=>{c.get(e)[t].geometry=r}));let t={query:{...d.query,f:"json",...l.toQueryParams(c)}};return m&&(t={...m,...t}),(0,request["default"])(`${d.path}/solveClosestFacility`,t)})).then((e=>ClosestFacilitySolveResult.fromJSON(e.data)))}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/tasks/Task.js\nvar Task = __webpack_require__(42964);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/tasks/ClosestFacilityTask.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nlet ClosestFacilityTask_c=class extends Task/* default */.Z{constructor(r){super(r),this.url=null}solve(r,s){return c(this.url,r,s)}};(0,tslib_es6._)([(0,property/* property */.Cb)()],ClosestFacilityTask_c.prototype,"url",void 0),ClosestFacilityTask_c=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.tasks.ClosestFacilityTask")],ClosestFacilityTask_c);var p=ClosestFacilityTask_c;/* harmony default export */ const ClosestFacilityTask = (p);\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/tasks/ClosestFacilityTask.js_+_2_modules?')}}]);