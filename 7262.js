"use strict";(self.webpackChunkreveal_js_testing=self.webpackChunkreveal_js_testing||[]).push([[7262],{55765:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ d)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 3 modules\nvar Accessor = __webpack_require__(53443);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Evented.js\nvar Evented = __webpack_require__(31355);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Handles.js\nvar Handles = __webpack_require__(44584);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(61681);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js\nvar arrayUtils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\nvar subclass = __webpack_require__(40266);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/PooledArray.js\nvar PooledArray = __webpack_require__(83575);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\nvar aaBoundingRect = __webpack_require__(24568);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/support/Scheduler.js\nvar Scheduler = __webpack_require__(22167);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst _=.05;class a{constructor(){this._extents=new PooledArray/* default */.Z({allocator:t=>t||(0,aaBoundingRect/* create */.Ue)()}),this._tmpExtent=(0,aaBoundingRect/* create */.Ue)(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),(0,aaBoundingRect/* copy */.JG)(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=Scheduler/* noBudget */.G5){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.getItemAt(i);for(let t=i+1;t<e.length;++t){const r=e.getItemAt(t);if(r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const a=(0,aaBoundingRect/* area */.SO)(h),c=(0,aaBoundingRect/* area */.SO)(i),g=this._tmpExtent;(0,aaBoundingRect/* expand */.jn)(h,i,g);const m=a+c;((0,aaBoundingRect/* area */.SO)(g)-m)/m<_&&((0,aaBoundingRect/* copy */.JG)(h,g),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}this._dirty=!1}_contains(t){return this._extents.some((e=>(0,aaBoundingRect/* contains */.r3)(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!(0,aaBoundingRect/* contains */.r3)(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>(0,aaBoundingRect/* containsPoint */.BD)(t,e)))}}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js\nvar basicInterfaces = __webpack_require__(70984);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet c=class extends Accessor/* default */.Z{constructor(){super(...arguments),this.dirtyExtents=new a,this.globalDirty=!1,this.averageExtentUpdateSize=0,this.dirtyGraphicsSet=new Set,this.handles=new Handles/* default */.Z,this.updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new Evented/* default */.Z}setup(e,t,i,s){this.graphicsCoreOwner=e,this.queryGraphicUIDsInExtent=t,this.graphicsCore=i,this.elevationProvider=s;const r=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add([s.on("elevation-change",(e=>this._elevationChanged(e))),this.graphicsCoreOwner.watch("suspended",(()=>this._suspendedChange())),r.registerTask(Scheduler/* TaskPriority.ELEVATION_ALIGNMENT */.T8.ELEVATION_ALIGNMENT,this)])}destroy(){this.dirtyGraphicsSet.clear(),this.handles.destroy(),this.handles=null,this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null}clear(){this.dirtyGraphicsSet.clear(),this.notifyChange("updating")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this.updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this.updateElevation&&(this.globalDirty=!0,this.notifyChange("updating"))}elevationInfoChange(){this.globalDirty=!0,this.notifyChange("updating")}get updating(){return this.running}get running(){return this.dirtyGraphicsSet.size>0||this.dirtyExtents&&!this.dirtyExtents.empty||this.globalDirty}get updatingRemaining(){return this.dirtyGraphicsSet.size+this.dirtyExtents.size*this.averageExtentUpdateSize}runTask(e){for(this.globalDirty&&(this._markAllGraphicsElevationDirty(),this.globalDirty=!1,e.madeProgress()),e.run((()=>this.dirtyExtents.merge(e)));this.running&&!e.done;)this._updateDirtyGraphics(e),this._updateDirtyExtents(e);this.graphicsCoreOwner.view.deconflictor.setDirty(),this.notifyChange("updating")}_updateDirtyGraphics(e){const t=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===basicInterfaces/* UpdatePolicy.ASYNC */.jq.ASYNC;for(const s of this.dirtyGraphicsSet.keys()){const a=this.graphicsCore.getGraphics3DGraphicById(s);if(this.dirtyGraphicsSet.delete(s),(0,maybe/* isSome */.pC)(a)&&(a.alignWithElevation(this.elevationProvider,t,i),e.madeProgress()),e.done)return}}_updateDirtyExtents(e){for(;!this.dirtyExtents.empty&&!e.done;){const t=this.dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit("invalidate-elevation",{extent:t,spatialReference:i});const s=this.dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(t,i,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);(0,maybe/* isSome */.pC)(t)&&t.needsElevationUpdates()&&this.dirtyGraphicsSet.add(e)})),this.averageExtentUpdateSize=.1*(this.dirtyGraphicsSet.size-s)+.9*this.averageExtentUpdateSize,e.madeProgress()}}_markAllGraphicsElevationDirty(){this.dirtyExtents.clear(),this.dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((e,t)=>this.dirtyGraphicsSet.add(t)))}_elevationChanged(e){if("scene"===e.context&&(!this.graphicsCore.layer.elevationInfo||"relative-to-scene"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:t,spatialReference:i}=e;if(this.graphicsCoreOwner.suspended){if(!this.updateElevation){const e=this.graphicsCore.computedExtent;e&&t[2]>e.xmin&&t[0]<e.xmax&&t[3]>e.ymin&&t[1]<e.ymax&&(this.updateElevation=!0)}this.events.emit("invalidate-elevation",{extent:t,spatialReference:i})}else t[0]===-1/0?this.globalDirty=!0:this.dirtyExtents.add(t),this.notifyChange("updating")}};(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],c.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],c.prototype,"updatingRemaining",null),c=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.3d.layers.graphics.Graphics3DElevationAlignment")],c);const d=c;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js_+_1_modules?')},87262:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ A)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js\nvar Graphic = __webpack_require__(80085);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/compilerUtils.js\nvar compilerUtils = __webpack_require__(27755);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/HandleOwner.js\nvar HandleOwner = __webpack_require__(53280);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(61681);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(78668);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/reactiveUtils.js\nvar reactiveUtils = __webpack_require__(76868);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js\nvar arrayUtils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\nvar subclass = __webpack_require__(40266);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js\nvar diffUtils = __webpack_require__(27281);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js\nvar webMercatorUtils = __webpack_require__(39536);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js\nvar renderingInfoUtils = __webpack_require__(67905);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/Query.js\nvar Query = __webpack_require__(14136);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/constants.js\nvar constants = __webpack_require__(9423);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js + 9 modules\nvar Graphics3DCore = __webpack_require__(81804);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js + 1 modules\nvar Graphics3DElevationAlignment = __webpack_require__(55765);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 3 modules\nvar Accessor = __webpack_require__(53443);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Handles.js\nvar Handles = __webpack_require__(44584);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(13802);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/ObservableChangesType.js\nvar ObservableChangesType = __webpack_require__(98722);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/watchUtils.js\nvar watchUtils = __webpack_require__(15071);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/FeatureFilter.js\nvar FeatureFilter = __webpack_require__(15553);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/enums.js\nvar enums = __webpack_require__(12391);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js\nvar QueryEngine = __webpack_require__(42824);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/support/floorFilterUtils.js\nvar floorFilterUtils = __webpack_require__(89280);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/support/Scheduler.js\nvar Scheduler = __webpack_require__(22167);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFilterVisibility.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst m=Logger/* default.getLogger */.Z.getLogger("esri.views.3d.layers.graphics.Graphics3DFilterVisibility");let f=class extends Accessor/* default */.Z{constructor(...e){super(...e),this._dirty=!1,this._querying=!1,this._handles=new Handles/* default */.Z}get updating(){return this._dirty||this._querying||(0,maybe/* isSome */.pC)(this._queryResult)}setup(e,i){this._layerView=e,this._core=i,this._objectIdField=e.layer.objectIdField,this._queryEngine=new QueryEngine/* default */.Z({layerView:this._layerView,priority:Scheduler/* TaskPriority.FILTER_VISIBILITY */.T8.FILTER_VISIBILITY});const t=this._layerView.view.resourceController.scheduler;this._handles.add(t.registerTask(Scheduler/* TaskPriority.FILTER_VISIBILITY */.T8.FILTER_VISIBILITY,this)),this._handles.add((0,watchUtils.on)(i.owner,"loadedGraphics","after-changes",(e=>this._graphicsChanged(e)),(()=>this.dirty=!0))),this.filterChanged()}destroy(){this._handles.destroy(),this._handles=null,this.clear(),this._layerView=null,this._core=null}clear(){this._queryEngine.clear()&&(this._core.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(enums/* VisibilityFlag.FILTER */.P.FILTER))),this._queryResult=null,this._querying=!1),this.dirty=!1}_graphicsChanged(e){this._queryEngine&&0==(e.type&ObservableChangesType/* ObservableChangesType.ADD */.y.ADD)||(this.dirty=!0)}updateVisibility(e){this.active&&(e.hasVisibilityFlag(enums/* VisibilityFlag.FILTER */.P.FILTER,enums/* VisibilityGroup.GRAPHIC */.E.GRAPHIC)||e.setVisibilityFlag(enums/* VisibilityFlag.FILTER */.P.FILTER,!1,enums/* VisibilityGroup.GRAPHIC */.E.GRAPHIC),this.dirty=!0)}filterChanged(){const e=this._recomputeFilter();e!==this._filter&&(this._filter=e,this.dirty=!0)}get active(){return this._filter&&this._core.graphics3DGraphics.size>0}_recomputeFilter(){const e="filter"in this._layerView?this._layerView.filter:null,i="timeExtent"in this._layerView?this._layerView.timeExtent:null,t=(0,floorFilterUtils/* getFloorFilterClause */.cx)(this._layerView);if((0,maybe/* isNone */.Wi)(i)&&(0,maybe/* isNone */.Wi)(t))return e;const r=(0,maybe/* isSome */.pC)(e)?e.clone():new FeatureFilter/* default */.Z;if((0,maybe/* isSome */.pC)(i)&&(r.timeExtent=(0,maybe/* isSome */.pC)(r.timeExtent)?r.timeExtent.intersection(i):i),(0,maybe/* isSome */.pC)(t)){const e=null==r.where||""===r.where;r.where=e?t:`(${r.where}) AND (${t})`}return r}get running(){return this._dirty&&!this._querying||(0,maybe/* isSome */.pC)(this._queryResult)}runTask(e){if(!this.active)return void this.clear();!this._dirty||this._querying||e.done||(this._querying=!0,this.dirty=!1,this._queryEngine.executeQueryForIdSet(this._filter).then((e=>{this._queryResult=e,this._querying=!1})).catch((e=>{if(!(0,promiseUtils/* isAbortError */.D_)(e)){m.warn("FeatureFilter query failed: "+e,{error:e});const i=new Set;this._core.graphics3DGraphics.forEach((e=>i.add(this._getFeatureId(e.graphic)))),this._queryResult=i,this._querying=!1}})),e.madeProgress());const i=this._queryResult;(0,maybe/* isSome */.pC)(i)&&!e.done&&(this._core.modifyGraphics3DGraphicVisibilities((t=>{if(e.done)return!1;const r=i.has(this._getFeatureId(t.graphic));return!!t.setVisibilityFlag(enums/* VisibilityFlag.FILTER */.P.FILTER,r,enums/* VisibilityGroup.GRAPHIC */.E.GRAPHIC)&&(e.madeProgress(),!0)})),e.done||(this._queryResult=null))}_getFeatureId(e){return null==e.objectId?e.attributes[this._objectIdField]:e.objectId}set dirty(e){this._dirty=e}};(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],f.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],f.prototype,"running",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"_dirty",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"_querying",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"_queryResult",void 0),f=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.3d.layers.graphics.Graphics3DFilterVisibility")],f);\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js\nvar Graphics3DFrustumVisibility = __webpack_require__(93760);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js + 2 modules\nvar Graphics3DObjectStates = __webpack_require__(82404);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js\nvar Graphics3DScaleVisibility = __webpack_require__(31153);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js\nvar graphicUtils = __webpack_require__(14923);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js\nvar attributeUtils = __webpack_require__(19405);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js\nvar basicInterfaces = __webpack_require__(70984);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet _=class extends HandleOwner/* HandleOwner */.r{constructor(e){super(e),this.type="graphics-3d",this.elevationFeatureExpressionEnabled=!1,this.dataExtent=null,this.preferredUpdatePolicy=basicInterfaces/* UpdatePolicy.ASYNC */.jq.ASYNC,this.suspendResumeExtent=null}normalizeCtorArgs(e){const t=e.frustumVisibilityEnabled?new Graphics3DFrustumVisibility/* default */.Z:null,i=e.scaleVisibilityEnabled?new Graphics3DScaleVisibility/* default */.Z:null,s=(e.filterVisibilityEnabled||e.timeExtentVisibilityEnabled)&&"multipatch"!==e.owner.layer.geometryType?new f:null,r=e.elevationAlignmentEnabled?new Graphics3DElevationAlignment/* default */.Z:null,{owner:n,updateClippingExtent:a,dataExtent:o,elevationFeatureExpressionEnabled:l,preferredUpdatePolicy:p}=e;return{owner:n,updateClippingExtent:a,dataExtent:o,frustumVisibility:t,scaleVisibility:i,filterVisibility:s,elevationAlignment:r,elevationFeatureExpressionEnabled:l,preferredUpdatePolicy:p}}get featureSpatialReference(){return"featureSpatialReference"in this.owner?this.owner.featureSpatialReference:void 0}initialize(){const e=new Graphics3DCore/* Graphics3DCore */.w({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:this.owner.hasZ,hasM:this.owner.hasM});this._set("graphicsCore",e),this.scaleVisibility&&this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.scaleVisibility.layerMinMaxScaleChangeHandler())),this.filterVisibility&&(this.updatingHandles.add((()=>"filter"in this.owner&&this.owner.filter),(()=>this.filterVisibility.filterChanged())),this.updatingHandles.add((()=>"timeExtent"in this.owner&&this.owner.timeExtent),(()=>this.filterVisibility.filterChanged()))),this.elevationAlignment&&this.updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{(0,diffUtils/* diff */.Hg)(e,t)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this.updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this.updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{(0,diffUtils/* diff */.Hg)(e,t)&&this.graphicsCore.updateLabelingInfo()})),this.updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this.handles.add(this.view.resourceController.memoryController.events.on("quality-changed",(()=>this.notifyChange("displayFeatureLimit"))))}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set("frustumVisibility",(0,maybe/* destroyMaybe */.SC)(this.frustumVisibility)),this._set("scaleVisibility",(0,maybe/* destroyMaybe */.SC)(this.scaleVisibility)),this._set("filterVisibility",(0,maybe/* destroyMaybe */.SC)(this.filterVisibility)),this._set("elevationAlignment",(0,maybe/* destroyMaybe */.SC)(this.elevationAlignment)),this._set("objectStates",(0,maybe/* destroyMaybe */.SC)(this.objectStates)),this._set("graphicsCore",(0,maybe/* destroyMaybe */.SC)(this.graphicsCore)),this._set("owner",null)}get layer(){return this.owner.layer}get suspendResumeExtentMode(){return"suspendResumeExtentMode"in this.owner?this.owner.suspendResumeExtentMode:"computed"}get scaleVisibilitySuspended(){var e;return null==(e=this.scaleVisibility)?void 0:e.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return!this.frustumVisibility.suspended}get suspendInfo(){var e,t;const i={};return null!=(e=this.scaleVisibility)&&e.suspended&&(i.outsideScaleRange=!0),null!=(t=this.frustumVisibility)&&t.suspended&&(i.outsideOfView=!0),i}get updating(){var e,t,i;return!!(null!=(e=this.graphicsCore)&&e.updating||null!=(t=this.frustumVisibility)&&t.updating||null!=(i=this.updatingHandles)&&i.updating)}get updatingRemaining(){var e,t;return null!=(e=null==(t=this.graphicsCore)?void 0:t.updatingRemaining)?e:0}get featureStore(){var e;return null==(e=this.graphicsCore)?void 0:e.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity}get filter(){return"filter"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get drapeSourceType(){return this.owner.drapeSourceType}get updatePolicy(){return this.owner.updatePolicy}get graphics3DGraphics(){var e;return null==(e=this.graphicsCore)?void 0:e.graphics3DGraphics}get graphics3DGraphicsByObjectID(){var e;return null==(e=this.graphicsCore)?void 0:e.graphics3DGraphicsByObjectID}get symbolUpdateType(){var e;return null==(e=this.graphicsCore)?void 0:e.symbolUpdateType}get displayFeatureLimit(){var e;const t=this.view.resourceController.memoryController.memoryFactor,i=null==(e=this.graphicsCore)?void 0:e.displayFeatureLimit;if(1===t)return i;const s=Math.ceil(i.maximumNumberOfFeatures*t),r=Math.ceil(i.maximumTotalNumberOfFeatures*t),n=Math.ceil(i.minimumTotalNumberOfFeatures*t);return{...i,maximumNumberOfFeatures:s,maximumTotalNumberOfFeatures:r,minimumTotalNumberOfFeatures:n}}get usedMemory(){var e,t;return null!=(e=null==(t=this.graphicsCore)?void 0:t.usedMemory)?e:0}get usedMemoryPerFeature(){var e,t;return null!=(e=null==(t=this.graphicsCore)?void 0:t.usedMemoryPerGraphic)?e:0}get unprocessedMemoryEstimate(){var e,t;return null!=(e=null==(t=this.graphicsCore)?void 0:t.unprocessedMemoryEstimate)?e:0}get performanceInfo(){return{core:this.graphicsCore.performanceInfo,elevationUpdating:this.elevationAlignment.updating,visibilityFrustum:!this.frustumVisibility.suspended,visibilityScale:!this.scaleVisibility.suspended}}async setup(){this.frustumVisibility&&this.frustumVisibility.setup(this);const e=this.owner,t=this.owner.view.basemapTerrain,i=(e,t,i)=>this.graphicsCore.spatialIndex.queryGraphicUIDsInExtent(e,t,i);if(this.scaleVisibility&&this.scaleVisibility.setup(this,this.layer,i,this.graphicsCore,t),this.filterVisibility&&("filter"in e||"timeExtent"in e)&&this.filterVisibility.setup(e,this.graphicsCore),this.elevationAlignment){const t=e.view.elevationProvider;this.elevationAlignment.setup(this,i,this.graphicsCore,t)}this._set("objectStates",new Graphics3DObjectStates/* Graphics3DObjectStates */.d(this.graphicsCore)),this._set("labeling",this.owner.view.labeler.addGraphicsOwner(this.graphicsCore,this.scaleVisibility)),this._set("deconfliction",e.view.deconflictor.addGraphicsOwner(this.graphicsCore)),await (0,promiseUtils/* logOnError */.U3)(this.graphicsCore.setup({elevationAlignment:this.elevationAlignment,scaleVisibility:this.scaleVisibility,filterVisibility:this.filterVisibility,deconflictor:this.deconfliction,labeler:this.labeling,objectStates:this.objectStates})),this.updatingHandles.add((()=>this.layer.renderer),(e=>this.updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this.updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this.updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await (0,promiseUtils/* logOnError */.U3)(this.graphicsCore.updateLabelingInfo())}maskOccludee(e){const{set:t,handle:i}=this.objectStates.acquireSet(basicInterfaces/* Object3DState.MaskOccludee */.V_.MaskOccludee,null);return this.objectStates.setUid(t,e.uid),i}highlight(e,i){if(e instanceof Query/* default */.Z){const{set:t,handle:s}=this.objectStates.acquireSet(basicInterfaces/* Object3DState.Highlight */.V_.Highlight,i);return this.owner.queryObjectIds(e).then((e=>this.objectStates.setObjectIds(t,e))),s}if("number"==typeof e||"string"==typeof e)return this.highlight([e],i);if(e instanceof Graphic/* default */.Z)return this.highlight([e],i);if("toArray"in e&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof Graphic/* default */.Z){const t=e;if(null==(0,attributeUtils/* attributeLookup */.g)(this.layer.fieldsIndex,t[0].attributes,i)){const e=t.map((e=>e.uid)),{set:i,handle:s}=this.objectStates.acquireSet(basicInterfaces/* Object3DState.Highlight */.V_.Highlight,null);return this.objectStates.setUids(i,e),s}e=t.map((e=>(0,attributeUtils/* attributeLookup */.g)(this.layer.fieldsIndex,e.attributes,i)))}if("number"==typeof e[0]||"string"==typeof e[0]){const t=e,{set:s,handle:r}=this.objectStates.acquireSet(basicInterfaces/* Object3DState.Highlight */.V_.Highlight,i);return this.objectStates.setObjectIds(s,t),r}}return M}whenGraphicBounds(e,t){var i;return null==(i=this.graphicsCore)?void 0:i.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){var i;return null==(i=this.graphicsCore)?void 0:i.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,i){const s=(0,renderingInfoUtils/* getRenderingInfo */.Kb)(e,{renderer:t,arcade:i});if((0,maybe/* isSome */.pC)(s)&&s.color){const e=s.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}return s}getRenderingInfoAsync(e,t,i,s){return (0,renderingInfoUtils/* getRenderingInfoAsync */.xn)(e,{renderer:t,arcade:i,...s})}getSymbolLayerSize(e,t){var i;return null==(i=this.graphicsCore)?void 0:i.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){var i;null==(i=this.graphicsCore)||i.setObjectIdVisibility(e,t)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.handles.add((0,reactiveUtils/* watch */.YP)((()=>this.suspendResumeExtentMode),(()=>{switch(this.handles.remove(I),this.suspendResumeExtentMode){case"computed":this.handles.add([(0,reactiveUtils/* watch */.YP)((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),reactiveUtils/* initial */.nn),(0,reactiveUtils/* watch */.YP)((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],I);break;case"data":this.handles.add([(0,reactiveUtils/* when */.gx)((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),reactiveUtils/* initial */.nn),(0,reactiveUtils/* watch */.YP)((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent((0,maybe/* unwrap */.Wg)(this.dataExtent))))],I);break;default:(0,compilerUtils/* neverReached */.Bg)(this.suspendResumeExtentMode)}}),reactiveUtils/* initial */.nn))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this.suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!(0,webMercatorUtils/* canProject */.Q8)(e,i))return;e=(0,webMercatorUtils/* project */.iV)(e,i)}return (0,graphicUtils/* enlargeExtent */.Go)(e,t,constants/* SUSPEND_RESUME_EXTENT_OPTIMISM */.ZF,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){this.frustumVisibility&&this.frustumVisibility.setExtent(e),this.scaleVisibility&&this.scaleVisibility.setExtent(e)}};(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],_.prototype,"owner",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"layer",null),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],_.prototype,"updateClippingExtent",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],_.prototype,"elevationFeatureExpressionEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],_.prototype,"graphicsCore",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],_.prototype,"scaleVisibility",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],_.prototype,"filterVisibility",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],_.prototype,"elevationAlignment",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({constructOnly:!0})],_.prototype,"frustumVisibility",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],_.prototype,"deconfliction",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],_.prototype,"labeling",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],_.prototype,"objectStates",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"suspendResumeExtentMode",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"dataExtent",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"scaleVisibilitySuspended",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"suspended",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"legendEnabled",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"suspendInfo",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"updatingRemaining",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"featureStore",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"view",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"loadedGraphics",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"fullOpacity",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"filter",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"slicePlaneEnabled",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"drapeSourceType",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"updatePolicy",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"preferredUpdatePolicy",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],_.prototype,"displayFeatureLimit",null),_=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.3d.layers.graphics.Graphics3DFeatureProcessor")],_);const A=_,I="suspendResumeExtentMode",M={remove(){},pause(){},resume(){}};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js_+_1_modules?')},93760:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ l)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(36663);\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(53443);\n/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44584);\n/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15071);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(40266);\n/* harmony import */ var _geometry_projectionEllipsoid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(25726);\n/* harmony import */ var _support_FrustumExtentIntersection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(11125);\n/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(22167);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst c=1.2;let p=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z{constructor(){super(...arguments),this.suspended=!1,this.extent=null,this.extentIntersectionDirty=!0,this._isVisibleBelowSurface=!1,this.handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,this.graphicsCoreOwner=null,this.updating=!0}setup(e){this.graphicsCoreOwner=e,this.extentIntersection=new _support_FrustumExtentIntersection_js__WEBPACK_IMPORTED_MODULE_9__/* .FrustumExtentIntersection */ .q({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,s=t.basemapTerrain,r=t.resourceController.scheduler;this.handles.add([t.on("resize",(()=>this._viewChange())),t.state.watch("camera",(()=>this._viewChange()),!0),r.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_10__/* .TaskPriority.FRUSTUM_VISIBILITY */ .T8.FRUSTUM_VISIBILITY,this),s.on("elevation-bounds-change",(()=>this._elevationBoundsChange()))]),"local"===t.viewingMode?this.isVisibleBelowSurface=!0:this.handles.add([(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .init */ .S1)(s,["opacity","wireframe"],(()=>this._updateIsVisibleBelowSurface())),(0,_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .init */ .S1)(t,"map.ground.navigationConstraint.type",(()=>this._updateIsVisibleBelowSurface()))])}destroy(){this.graphicsCoreOwner=null,this.extent=null,this.extentIntersection=null,this.handles&&(this.handles.destroy(),this.handles=null)}_setDirty(){this.updating||this._set("updating",!0)}setExtent(e){this.extent=e,this.extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this.extentIntersectionDirty=!0}set isVisibleBelowSurface(e){this._isVisibleBelowSurface=e,this._setDirty(),this.extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s="local"===e.viewingMode,i=e.map.ground&&e.map.ground.navigationConstraint&&"none"===e.map.ground.navigationConstraint.type;this.isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this.extentIntersectionDirty)return;this.extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurface)t=-.3*(0,_geometry_projectionEllipsoid_js__WEBPACK_IMPORTED_MODULE_8__/* .getReferenceEllipsoid */ .Iu)(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.elevationBounds;t=s-Math.max(1,(i-s)*(c-1))}this.extentIntersection.update(this.extent,e.spatialReference,t)}get running(){return this.updating}runTask(){if(this._set("updating",!1),!this.extent)return void this._set("suspended",!1);this._updateExtentIntersection();const e=this.graphicsCoreOwner.view.frustum,t=(0,_geometry_projectionEllipsoid_js__WEBPACK_IMPORTED_MODULE_8__/* .getReferenceEllipsoid */ .Iu)(this.graphicsCoreOwner.view.spatialReference).radius;this._set("suspended",!this.extentIntersection.isVisibleInFrustum(e,t))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)({readOnly:!0})],p.prototype,"suspended",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)({readOnly:!0})],p.prototype,"updating",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .j)("esri.views.3d.layers.graphics.Graphics3DFrustumVisibility")],p);const l=p;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js?')},82404:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "d": () => (/* binding */ s)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/handleUtils.js\nvar handleUtils = __webpack_require__(23148);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js\nvar basicInterfaces = __webpack_require__(70984);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar t;!function(e){e[e.Object=0]="Object",e[e.RenderGeometry=1]="RenderGeometry",e[e.External=2]="External",e[e.COUNT=3]="COUNT"}(t||(t={}));class r{constructor(){this.items=[]}addObject(e,r){this.items.push({type:t.Object,objectStateId:r,object:e})}addRenderGeometry(e,r,o){this.items.push({type:t.RenderGeometry,objectStateId:r,renderGeometry:e,owner:o})}addExternal(e,r){this.items.push({type:t.External,objectStateId:r,remove:e})}remove(e){for(let t=this.items.length-1;t>=0;--t){const r=this.items[t];r.objectStateId===e&&(this._removeObjectStateItem(r),this.items.splice(t,1))}}removeObject(e){for(let r=this.items.length-1;r>=0;--r){const o=this.items[r];o.type===t.Object&&o.object===e&&(this._removeObjectStateItem(o),this.items.splice(r,1))}}removeRenderGeometry(e){for(let r=this.items.length-1;r>=0;--r){const o=this.items[r];o.type===t.RenderGeometry&&o.renderGeometry===e&&(this._removeObjectStateItem(o),this.items.splice(r,1))}}removeAll(){this.items.forEach((e=>{this._removeObjectStateItem(e)})),this.items=[]}_removeObjectStateItem(r){switch(r.type){case t.Object:r.objectStateId.channel===basicInterfaces/* Object3DState.Highlight */.V_.Highlight?r.object.removeHighlight(r.objectStateId):r.objectStateId.channel===basicInterfaces/* Object3DState.MaskOccludee */.V_.MaskOccludee&&r.object.removeOcclude(r.objectStateId);break;case t.RenderGeometry:r.owner.removeRenderGeometryObjectState(r.renderGeometry,r.objectStateId);break;case t.External:r.remove(r.objectStateId)}}}\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new r,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets=null}acquireSet(s,a){const i=new e(s,a);this._stateSets.push(i);const h=(0,handleUtils/* makeHandle */.kB)((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js_+_2_modules?')},42824:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ p)\n/* harmony export */ });\n/* unused harmony export QueryEngine */\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(36663);\n/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(91957);\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(53443);\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(61681);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(40266);\n/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(91772);\n/* harmony import */ var _layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(14215);\n/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(51211);\n/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(14136);\n/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(59659);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst c=_layers_graphics_data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z;let l=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z{constructor(e){super(e),this._dataQueryEngineInstance=null}get queryGeometryType(){switch(this.layer.geometryType){case"multipoint":case"point":case"polygon":case"polyline":return this.layer.geometryType;case"mesh":return"polygon";default:return}}get defaultQueryJSON(){return new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z({outSpatialReference:this.spatialReference}).toJSON()}get dataQueryEngine(){return this._ensureDataQueryEngine()}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,r){return this.dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e),r)}async executeQueryForCount(e,r){return this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),r)}async executeQueryForExtent(e,r){const{count:t,extent:s}=await this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),r);return{count:t,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].fromJSON */ .Z.fromJSON(s)}}async executeQueryForIds(e,r){return this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),r)}async executeQueryForLatestObservations(e,r){const t=await this.dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),r),s=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(t);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,r){const t=await this.dataQueryEngine.executeQuery(this._ensureQueryJSON(e),r),s=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_9__["default"].fromJSON(t);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_12__/* .isNone */ .Wi)(e)?this.defaultQueryJSON:("outSpatialReference"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),e.toJSON())}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e="timeInfo"in this.layer&&this.layer.timeInfo&&this.layer.timeInfo.toJSON()||null,r=this.layer.objectIdField,t=_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .featureGeometryTypeKebabDictionary.toJSON */ .Mk.toJSON(this.queryGeometryType),s=this.layer.fields.map((e=>e.toJSON())),a=this.layerView.view.resourceController.scheduler,n=this.priority,o=this.spatialReference.toJSON(),i=this.layerView.processor.featureStore,{hasZ:u,hasM:l}=this.layerView;return this._dataQueryEngineInstance=new c({hasZ:u,hasM:l,geometryType:t,fields:s,timeInfo:e,spatialReference:o,objectIdField:r,featureStore:i,scheduler:a,priority:n}),this._dataQueryEngineInstance}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({constructOnly:!0})],l.prototype,"layerView",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({constructOnly:!0})],l.prototype,"priority",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({readOnly:!0,aliasOf:"layerView.view.spatialReference"})],l.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({readOnly:!0,aliasOf:"layerView.layer"})],l.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({readOnly:!0})],l.prototype,"queryGeometryType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({readOnly:!0})],l.prototype,"defaultQueryJSON",null),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .j)("esri.views.3d.layers.graphics.QueryEngine")],l);const p=l;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js?')},19405:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "g": () => (/* binding */ n)\n/* harmony export */ });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js?')},89280:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Hp": () => (/* binding */ l),\n/* harmony export */   "cx": () => (/* binding */ o),\n/* harmony export */   "ff": () => (/* binding */ n)\n/* harmony export */ });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction o(o){var n;const l=o.layer;if("floorInfo"in l&&null!=(n=l.floorInfo)&&n.floorField&&"floors"in o.view){return r(o.view.floors,l.floorInfo.floorField)}return null}function n(o,n){var l;return"floorInfo"in n&&null!=(l=n.floorInfo)&&l.floorField?r(o,n.floorInfo.floorField):null}function l(o,n){const{definitionExpression:l}=n;return o?l?`(${l}) AND (${o})`:o:l}function r(o,n){if(null==o||!o.length)return null;const l=o.filter((o=>""!==o)).map((o=>`\'${o}\'`));return l.push("\'\'"),`${n} IN (${l.join(",")}) OR ${n} IS NULL`}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/support/floorFilterUtils.js?')}}]);