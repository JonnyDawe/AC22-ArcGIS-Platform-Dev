"use strict";(self.webpackChunkreveal_js_testing=self.webpackChunkreveal_js_testing||[]).push([[1775],{74710:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "M": () => (/* binding */ r)\n/* harmony export */ });\n/* unused harmony export clone */\n/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67134);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass r{constructor(t){this._geometry=t}next(){const t=this._geometry;return this._geometry=null,t}}function e(r){return t(r)}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/cim/CIMEffects.js?')},20270:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "h": () => (/* binding */ G),\n/* harmony export */   "W": () => (/* binding */ A)\n/* harmony export */ });\n/* harmony import */ var _effects_EffectAddControlPoints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(75707);\n/* harmony import */ var _effects_EffectArrow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59443);\n/* harmony import */ var _effects_EffectBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50880);\n/* harmony import */ var _effects_EffectCut_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(31180);\n/* harmony import */ var _effects_EffectDashes_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(29903);\n/* harmony import */ var _effects_EffectDonut_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32707);\n/* harmony import */ var _effects_EffectJog_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(15593);\n/* harmony import */ var _effects_EffectMove_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(363);\n/* harmony import */ var _effects_EffectOffset_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(40932);\n/* harmony import */ var _effects_EffectReverse_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(7831);\n/* harmony import */ var _effects_EffectRotate_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(50292);\n/* harmony import */ var _effects_EffectScale_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(43842);\n/* harmony import */ var _effects_EffectWave_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(13287);\n/* harmony import */ var _placements_PlacementAlongLineSameSize_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(3038);\n/* harmony import */ var _placements_PlacementAtExtremities_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(13813);\n/* harmony import */ var _placements_PlacementAtRatioPositions_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(75276);\n/* harmony import */ var _placements_PlacementInsidePolygon_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(41959);\n/* harmony import */ var _placements_PlacementOnLine_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(8505);\n/* harmony import */ var _placements_PlacementOnVertices_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(80732);\n/* harmony import */ var _placements_PlacementPolygonCenter_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(73675);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction G(p){if(!p)return null;switch(p.type){case"CIMGeometricEffectAddControlPoints":return _effects_EffectAddControlPoints_js__WEBPACK_IMPORTED_MODULE_0__/* .EffectAddControlPoints.local */ .T.local();case"CIMGeometricEffectArrow":return _effects_EffectArrow_js__WEBPACK_IMPORTED_MODULE_1__/* .EffectArrow.local */ .P.local();case"CIMGeometricEffectBuffer":return _effects_EffectBuffer_js__WEBPACK_IMPORTED_MODULE_2__/* .EffectBuffer.local */ .I.local();case"CIMGeometricEffectCut":return _effects_EffectCut_js__WEBPACK_IMPORTED_MODULE_3__/* .EffectCut.local */ .d.local();case"CIMGeometricEffectDashes":return _effects_EffectDashes_js__WEBPACK_IMPORTED_MODULE_4__/* .EffectDashes.local */ .x.local();case"CIMGeometricEffectDonut":return _effects_EffectDonut_js__WEBPACK_IMPORTED_MODULE_5__/* .EffectDonut.local */ .h.local();case"CIMGeometricEffectJog":return _effects_EffectJog_js__WEBPACK_IMPORTED_MODULE_6__/* .EffectJog.local */ .F.local();case"CIMGeometricEffectMove":return _effects_EffectMove_js__WEBPACK_IMPORTED_MODULE_7__/* .EffectMove.local */ .b.local();case"CIMGeometricEffectOffset":return _effects_EffectOffset_js__WEBPACK_IMPORTED_MODULE_8__/* .EffectOffset.local */ .F.local();case"CIMGeometricEffectReverse":return _effects_EffectReverse_js__WEBPACK_IMPORTED_MODULE_9__/* .EffectReverse.local */ .m.local();case"CIMGeometricEffectRotate":return _effects_EffectRotate_js__WEBPACK_IMPORTED_MODULE_10__/* .EffectRotate.local */ .O.local();case"CIMGeometricEffectScale":return _effects_EffectScale_js__WEBPACK_IMPORTED_MODULE_11__/* .EffectScale.local */ .I.local();case"CIMGeometricEffectWave":return _effects_EffectWave_js__WEBPACK_IMPORTED_MODULE_12__/* .EffectWave.local */ .w.local()}return null}function A(e){if(!e)return null;switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":return _placements_PlacementAlongLineSameSize_js__WEBPACK_IMPORTED_MODULE_13__/* .PlacementAlongLineSameSize.local */ .W.local();case"CIMMarkerPlacementAtExtremities":return _placements_PlacementAtExtremities_js__WEBPACK_IMPORTED_MODULE_14__/* .PlacementAtExtremities.local */ .j.local();case"CIMMarkerPlacementAtRatioPositions":return _placements_PlacementAtRatioPositions_js__WEBPACK_IMPORTED_MODULE_15__/* .PlacementAtRatioPositions.local */ .x.local();case"CIMMarkerPlacementInsidePolygon":return _placements_PlacementInsidePolygon_js__WEBPACK_IMPORTED_MODULE_16__/* .PlacementInsidePolygon.local */ .O.local();case"CIMMarkerPlacementOnLine":return _placements_PlacementOnLine_js__WEBPACK_IMPORTED_MODULE_17__/* .PlacementOnLine.local */ .D.local();case"CIMMarkerPlacementOnVertices":return _placements_PlacementOnVertices_js__WEBPACK_IMPORTED_MODULE_18__/* .PlacementOnVertices.local */ .o.local();case"CIMMarkerPlacementPolygonCenter":return _placements_PlacementPolygonCenter_js__WEBPACK_IMPORTED_MODULE_19__/* .PlacementPolygonCenter.local */ .y.local()}return null}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/cim/CIMOperators.js?')},31775:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "B$": () => (/* binding */ h),\n  "E0": () => (/* binding */ S),\n  "fN": () => (/* binding */ CIMSymbolHelper_p)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/Color.js\nvar Color = __webpack_require__(30936);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(13802);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/mathUtils.js\nvar mathUtils = __webpack_require__(19431);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js\nvar CIMPlacements = __webpack_require__(40709);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\nvar aaBoundingRect = __webpack_require__(24568);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/boundsUtils.js\nvar boundsUtils = __webpack_require__(79880);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js\nvar jsonUtils = __webpack_require__(53736);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/cim/CIMEffects.js\nvar CIMEffects = __webpack_require__(74710);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/cim/CIMOperators.js\nvar CIMOperators = __webpack_require__(20270);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/cim/Rect.js\nvar Rect = __webpack_require__(10927);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst f=Math.PI/180,m=Logger/* default.getLogger */.Z.getLogger("esri.symbols.cim.CIMSymbolDrawHelper");class u{constructor(t){this._t=t}static createIdentity(){return new u([1,0,0,0,1,0])}clone(){const t=this._t;return new u(t.slice())}transform(t){const s=this._t;return[s[0]*t[0]+s[1]*t[1]+s[2],s[3]*t[0]+s[4]*t[1]+s[5]]}static createScale(t,s){return new u([t,0,0,0,s,0])}scale(t,s){const e=this._t;return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=s,e[4]*=s,e[5]*=s,this}scaleRatio(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}static createTranslate(t,s){return new u([0,0,t,0,0,s])}translate(t,s){const e=this._t;return e[2]+=t,e[5]+=s,this}static createRotate(t){const s=Math.cos(t),e=Math.sin(t);return new u([s,-e,0,e,s,0])}rotate(t){return this.multiply(u.createRotate(t))}multiply(t){const s=this._t,e=t._t,i=s[0]*e[0]+s[3]*e[1],r=s[1]*e[0]+s[4]*e[1],a=s[2]*e[0]+s[5]*e[1]+e[2],o=s[0]*e[3]+s[3]*e[4],n=s[1]*e[3]+s[4]*e[4],h=s[2]*e[3]+s[5]*e[4]+e[5];return s[0]=i,s[1]=r,s[2]=a,s[3]=o,s[4]=n,s[5]=h,this}}class p{constructor(t){this._transfos=[],this._sizeTransfos=[],this._transfos.push(t||u.createIdentity()),this._sizeTransfos.push(t?t.scaleRatio():1)}transformPt(t){return this._transfos[this._transfos.length-1].transform(t)}transformSize(t){return t*this._sizeTransfos[this._sizeTransfos.length-1]}back(){return this._transfos[this._transfos.length-1]}push(t,s){const e=s?t.scaleRatio():1;t.multiply(this.back()),this._transfos.push(t),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*e)}pop(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)}drawSymbol(t,s){if(t)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this.drawMultiLayerSymbol(t,s)}}drawMultiLayerSymbol(t,s){if(!t)return;const e=t.symbolLayers;if(!e)return;const i=t.effects;if(i){const t=this.executeEffects(i,s);if(t){let s=t.next();for(;s;)this.drawSymbolLayers(e,s),s=t.next()}}else this.drawSymbolLayers(e,s)}executeEffects(t,s){const e=1;let i=new CIMEffects/* SimpleGeometryCursor */.M(s);for(const r of t){const t=(0,CIMOperators/* getEffectOperator */.h)(r);t&&(i=t.execute(i,r,e))}return i}drawSymbolLayers(t,s){let e=t.length;for(;e--;){const i=t[e];if(!i||!1===i.enable)continue;const r=i.effects;if(r){const t=this.executeEffects(r,s);if(t){let s=t.next();for(;s;)this.drawSymbolLayer(i,s),s=t.next()}}else this.drawSymbolLayer(i,s)}}drawSymbolLayer(t,s){switch(t.type){case"CIMSolidFill":this.drawSolidFill(s,t.color);break;case"CIMHatchFill":this.drawHatchFill(t,s);break;case"CIMSolidStroke":this.drawSolidStroke(s,t.color,t.width,t.capStyle,t.joinStyle,t.miterLimit);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawMarkerLayer(t,s)}}drawHatchFill(t,s){const e=1,i=this._buildHatchPolyline(t,s,e);i&&(this.pushClipPath(s),this.drawMultiLayerSymbol(t.lineSymbol,i),this.popClipPath())}drawMarkerLayer(t,s){const e=t.markerPlacement;if(e){const i=(0,CIMOperators/* getPlacementOperator */.W)(e);if(i){const r="CIMMarkerPlacementInsidePolygon"===e.type;r&&this.pushClipPath(s);const a=1,o=i.execute(s,e,a);if(o){let s=o.next();for(;s;)this.drawMarker(t,s),s=o.next()}r&&this.popClipPath()}}else{const e=new CIMPlacements/* Placement */.u;e.tx=s.x,e.ty=s.y,this.drawMarker(t,e)}}drawMarker(t,s){switch(t.type){case"CIMCharacterMarker":case"CIMPictureMarker":this.drawPictureMarker(t,s);break;case"CIMVectorMarker":this.drawVectorMarker(t,s)}}drawPictureMarker(t,s){if(!t)return;const e=t.size||10,i=u.createIdentity(),r=t.anchorPoint;if(r){let s=r.x,a=r.y;"Absolute"!==t.anchorPointUnits&&(s*=e,a*=e),i.translate(-s,-a)}t.rotation&&i.rotate(t.rotation*f),i.translate(t.offsetX||0,t.offsetY||0),i.translate(s.tx,s.ty),this.push(i,!1),this.drawImage(t.url,e,t.scaleX),this.pop()}drawVectorMarker(t,s){if(!t)return;const e=t.markerGraphics;if(!e)return;const i=t.size,r=t.frame,a=r?r.ymax-r.ymin:0,o=i&&a?i/a:1,n=u.createIdentity();r&&n.translate(.5*-(r.xmax+r.xmin),.5*-(r.ymax+r.ymin));const h=t.anchorPoint;if(h){let s=h.x,e=h.y;"Absolute"!==t.anchorPointUnits?r&&(s*=r.xmax-r.xmin,e*=r.ymax-r.ymin):(s/=o,e/=o),n.translate(-s,-e)}1!==o&&n.scale(o,o),t.rotation&&n.rotate(t.rotation*f),n.translate(t.offsetX||0,t.offsetY||0),n.translate(s.tx,s.ty),this.push(n,t.scaleSymbolsProportionally);for(const l of e)l&&l.symbol&&l.geometry||m.error("Invalid marker graphic",l),this.drawSymbol(l.symbol,l.geometry);this.pop()}_buildHatchPolyline(t,i,r){let a=(void 0!==t.separation?t.separation:4)*r,o=void 0!==t.rotation?t.rotation:0;if(0===a)return null;a<0&&(a=-a);let n=0;const h=.5*a;for(;n>h;)n-=a;for(;n<-h;)n+=a;const l=(0,aaBoundingRect/* create */.Ue)();(0,boundsUtils/* getBoundsXY */.$P)(l,i),l[0]-=h,l[1]-=h,l[2]+=h,l[3]+=h;const c=[[l[0],l[1]],[l[0],l[3]],[l[2],l[3]],[l[2],l[1]]];for(;o>180;)o-=180;for(;o<0;)o+=180;const m=Math.cos(o*f),u=Math.sin(o*f),p=-a*u,_=a*m;let y,d,x,M;n=(void 0!==t.offsetX?t.offsetX*r:0)*u-(void 0!==t.offsetY?t.offsetY*r:0)*m,y=x=Number.MAX_VALUE,d=M=-Number.MAX_VALUE;for(const s of c){const t=s[0],e=s[1],i=m*t+u*e,r=-u*t+m*e;y=Math.min(y,i),x=Math.min(x,r),d=Math.max(d,i),M=Math.max(M,r)}x=Math.floor(x/a)*a;let b=m*y-u*x-p*n/a,P=u*y+m*x-_*n/a,w=m*d-u*x-p*n/a,g=u*d+m*x-_*n/a;const S=1+Math.round((M-x)/a),C=[];for(let s=0;s<S;s++)b+=p,P+=_,w+=p,g+=_,C.push([[b,P],[w,g]]);return{paths:C}}}class _ extends p{constructor(){super(),this.reset()}reset(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0}envelope(){return new Rect/* default */.Z(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}drawSolidFill(t){if(t&&!(this._clipCount>0))if((0,jsonUtils/* isPolygon */.oU)(t))this._processPath(t.rings,0);else if((0,jsonUtils/* isPolyline */.l9)(t))this._processPath(t.paths,0);else if((0,jsonUtils/* isExtent */.YX)(t)){const s=d(t);s&&this._processPath(s.rings,0)}}drawSolidStroke(t,s,e){if(!t||this._clipCount>0)return;const o=.5*this.transformSize(e);if((0,jsonUtils/* isPolygon */.oU)(t))this._processPath(t.rings,o);else if((0,jsonUtils/* isPolyline */.l9)(t))this._processPath(t.paths,o);else if((0,jsonUtils/* isExtent */.YX)(t)){const s=d(t);s&&this._processPath(s.rings,o)}}pushClipPath(t){this.drawSolidFill(t),++this._clipCount}popClipPath(){--this._clipCount}drawImage(t,s,e){const i=s/2;this._merge(this.transformPt([0,0]),i)}_processPath(t,s){if(t)for(const e of t){const t=e?e.length:0;if(t>1){this._merge(this.transformPt(e[0]),s);for(let i=1;i<t;++i)this._merge(this.transformPt(e[i]),s)}}}_merge(t,s){t[0]-s<this._xmin&&(this._xmin=t[0]-s),t[0]+s>this._xmax&&(this._xmax=t[0]+s),t[1]-s<this._ymin&&(this._ymin=t[1]-s),t[1]+s>this._ymax&&(this._ymax=t[1]+s)}}class CIMSymbolDrawHelper_y extends p{constructor(t,s){super(s),this._ctx=t}drawSolidFill(t,s){if(!t)return;if((0,jsonUtils/* isPolygon */.oU)(t))this._buildPath(t.rings,!0);else if((0,jsonUtils/* isPolyline */.l9)(t))this._buildPath(t.paths,!0);else{if(!(0,jsonUtils/* isExtent */.YX)(t))return;this._buildPath(d(t).rings,!0)}const e=this._ctx;e.fillStyle="string"==typeof s?s:"rgba("+Math.round(s[0])+","+Math.round(s[1])+","+Math.round(s[2])+","+s[3]/255+")",e.fill("evenodd")}drawSolidStroke(t,s,e,o,n,h){if(!t||!s||0===e)return;if((0,jsonUtils/* isPolygon */.oU)(t))this._buildPath(t.rings,!0);else if((0,jsonUtils/* isPolyline */.l9)(t))this._buildPath(t.paths,!1);else{if(!(0,jsonUtils/* isExtent */.YX)(t))return;this._buildPath(d(t).rings,!0)}const l=this._ctx;l.strokeStyle="string"==typeof s?s:"rgba("+Math.round(s[0])+","+Math.round(s[1])+","+Math.round(s[2])+","+s[3]/255+")",l.lineWidth=this.transformSize(e)+.5,this._setCapStyle(o),this._setJoinStyle(n),l.miterLimit=h,l.stroke()}pushClipPath(t){if(this._ctx.save(),(0,jsonUtils/* isPolygon */.oU)(t))this._buildPath(t.rings,!0);else if((0,jsonUtils/* isPolyline */.l9)(t))this._buildPath(t.paths,!0);else{if(!(0,jsonUtils/* isExtent */.YX)(t))return;this._buildPath(d(t).rings,!0)}this._ctx.clip("evenodd")}popClipPath(){this._ctx.restore()}drawImage(t,s,e){}_buildPath(t,s){const e=this._ctx;if(e.beginPath(),t)for(const i of t){const t=i?i.length:0;if(t>1){let r=this.transformPt(i[0]);e.moveTo(r[0],r[1]);for(let s=1;s<t;++s)r=this.transformPt(i[s]),e.lineTo(r[0],r[1]);s&&e.closePath()}}}_setCapStyle(t){switch(t){case"Butt":this._ctx.lineCap="butt";break;case"Round":this._ctx.lineCap="round";break;case"Square":this._ctx.lineCap="square"}}_setJoinStyle(t){switch(t){case"Bevel":this._ctx.lineJoin="bevel";break;case"Round":this._ctx.lineJoin="round";break;case"Miter":this._ctx.lineJoin="miter"}}}const d=t=>t?{spatialReference:t.spatialReference,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:null;\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/cim/packingUtils.js\nvar packingUtils = __webpack_require__(20);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst c=Math.PI,l=c/2,CIMSymbolHelper_m=4,y=Logger/* default.getLogger */.Z.getLogger("esri.symbols.cim.CIMSymbolHelper");function CIMSymbolHelper_f(e,t){switch(t.type){case"CIMSymbolReference":{const r={type:"point",x:0,y:0};e.drawSymbol(t.symbol,r);break}case"CIMPointSymbol":{const r={type:"point",x:0,y:0};e.drawSymbol(t,r);break}case"CIMTextSymbol":break;case"CIMVectorMarker":{const r=new CIMPlacements/* Placement */.u;e.drawMarker(t,r);break}}return e.envelope()}class h{static getEnvelope(e){const t=new _;if(Array.isArray(e)){let r;for(const o of e)r?r.union(CIMSymbolHelper_f(t,o)):r=CIMSymbolHelper_f(t,o);return r}return CIMSymbolHelper_f(t,e)}static getTextureAnchor(e){const t=this.getEnvelope(e);if(!t||t.width<=0||t.height<=0)return[0,0,0];const r=96/72,o=(t.x+.5*t.width)*r,s=-(t.y+.5*t.height)*r,a=t.width*r+2,i=t.height*r+2;return[o/a,s/i,i]}static rasterize(e,t,r,s=!0){const n=r||this.getEnvelope(t);if(!n||n.width<=0||n.height<=0)return[null,0,0,0,0];const c=96/72,l=(n.x+.5*n.width)*c,m=(n.y+.5*n.height)*c;e.width=n.width*c,e.height=n.height*c,r||(e.width+=2,e.height+=2);const y=e.getContext("2d"),f=u.createScale(c,-c);f.translate(.5*e.width-l,.5*e.height+m);const h=new CIMSymbolDrawHelper_y(y,f);switch(t.type){case"CIMPointSymbol":{const e={type:"point",x:0,y:0};h.drawSymbol(t,e);break}case"CIMVectorMarker":{const e=new CIMPlacements/* Placement */.u;h.drawMarker(t,e);break}}const p=y.getImageData(0,0,e.width,e.height),S=new Uint8Array(p.data);if(s){let e;for(let t=0;t<S.length;t+=4)e=S[t+3]/255,S[t]=S[t]*e,S[t+1]=S[t+1]*e,S[t+2]=S[t+2]*e}return[S,e.width,e.height,-l/e.width,-m/e.height]}static fromSimpleMarker(e){const t=100,r=50;let o,s;const a=e.style;if("circle"===a||"esriSMSCircle"===a){const e=.25;let t=Math.acos(1-e/r),a=Math.ceil(c/t/4);0===a&&(a=1),t=l/a,a*=4;const i=[];i.push([r,0]);for(let o=1;o<a;o++)i.push([r*Math.cos(o*t),-r*Math.sin(o*t)]);i.push([r,0]),o={rings:[i]},s={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("cross"===a||"esriSMSCross"===a){const e=0;o={rings:[[[e,r],[e,e],[r,e],[r,-e],[e,-e],[e,-r],[-e,-r],[-e,-e],[-r,-e],[-r,e],[-e,e],[-e,r],[e,r]]]},s={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("diamond"===a||"esriSMSDiamond"===a)o={rings:[[[-r,0],[0,r],[r,0],[0,-r],[-r,0]]]},s={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("square"===a||"esriSMSSquare"===a)o={rings:[[[-r,-r],[-r,r],[r,r],[r,-r],[-r,-r]]]},s={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("x"===a||"esriSMSX"===a){const e=0;o={rings:[[[0,e],[r-e,r],[r,r-e],[e,0],[r,e-r],[r-e,-r],[0,-e],[e-r,-r],[-r,e-r],[-e,0],[-r,r-e],[e-r,r],[0,e]]]},s={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("triangle"===a||"esriSMSTriangle"===a){const e=t*.5773502691896257,r=-e,a=2/3*t,i=a-t;o={rings:[[[r,i],[0,a],[e,i],[r,i]]]},s={xmin:r,ymin:i,xmax:e,ymax:a}}else"arrow"!==a&&"esriSMSArrow"!==a||(o={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},s={xmin:-r,ymin:-r,xmax:r,ymax:r});let i;if(o&&s){const t=[{type:"CIMSolidFill",enable:!0,color:e.color}];e.outline&&t.push({type:"CIMSolidStroke",enable:!0,width:e.outline.width,color:e.outline.color});const r={type:"CIMPolygonSymbol",symbolLayers:t};i={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:e.angle,size:e.size,offsetX:e.xoffset,offsetY:e.yoffset,frame:s,markerGraphics:[{type:"CIMMarkerGraphic",geometry:o,symbol:r}]}]}}return i}static fromCIMHatchFill(e){const t=void 0!==e.separation?e.separation:CIMSymbolHelper_m,r=t/2;let o=this._getLineSymbolPeriod(e.lineSymbol)||CIMSymbolHelper_m;for(;o<4;)o*=2;const s=o/2;return{type:"CIMVectorMarker",frame:{xmin:-s,xmax:s,ymin:-r,ymax:r},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-s,0],[s,0]]]},symbol:e.lineSymbol}],size:t}}static _getLineSymbolPeriod(e){if(e){const t=this._getEffectsRepeat(e.effects);if(t)return t;if(e.symbolLayers)for(const r of e.symbolLayers){const e=this._getEffectsRepeat(r.effects);if(e)return e;if(r){const e=this._getPlacementRepeat(r.markerPlacement);if(e)return e}}}return 0}static _getEffectsRepeat(e){if(e)for(const t of e)if(t)switch(t.type){case"CIMGeometricEffectDashes":{const e=t.dashTemplate;if(e&&e.length){let t=0;for(const r of e)t+=r;return 1&e.length&&(t*=2),t}break}case"CIMGeometricEffectWave":return t.period;default:y.error(`unsupported geometric effect type ${t.type}`)}return 0}static _getPlacementRepeat(e){if(e)switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineVariableSize":{const t=e.placementTemplate;if(t&&t.length){let e=0;for(const r of t)e+=r;return 1&t.length&&(e*=2),e}break}}return 0}static fromCIMInsidePolygon(e){const t=e.markerPlacement,r={type:e.type,...e};let o,s,a,i;if(r.markerPlacement=null,r.anchorPoint=null,!0===t.shiftOddRows){s=t.stepX/2,a=t.stepY,i=2*t.stepY;o=[{x:-s,y:0},{x:s,y:0},{x:0,y:a},{x:0,y:-a}].map((e=>({type:"CIMMarkerGraphic",geometry:e,symbol:{type:"CIMPointSymbol",symbolLayers:[r]}})))}else s=t.stepX/2,a=t.stepY/2,i=t.stepY,o=[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMPointSymbol",symbolLayers:[r]}}];return{type:"CIMVectorMarker",frame:{xmin:-s,xmax:s,ymin:-a,ymax:a},markerGraphics:o,size:i}}static getFillColor(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=h.getFillColor(t);if(null!=e)return e}break;case"CIMTextSymbol":return h.getFillColor(e.symbol);case"CIMSolidFill":return e.color}}static getStrokeColor(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=h.getStrokeColor(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return h.getStrokeColor(e.symbol);case"CIMSolidStroke":return e.color}}static getStrokeWidth(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=h.getStrokeWidth(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return h.getStrokeWidth(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}static getSize(e){if(e)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers){const e=h.getSize(r);e>t&&(t=e)}return t}case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":return e.width;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":return e.size}}static getMarkerScaleRatio(e){if(e)switch(e.type){case"CIMVectorMarker":if(!1!==e.scaleSymbolsProportionally&&e.frame){const t=e.frame.ymax-e.frame.ymin;return e.size/t}}return 1}}class CIMSymbolHelper_p{static rasterizeSimpleFill(e,t,o){"solid"!==t&&"none"!==t&&"esriSFSSolid"!==t&&"esriSFSNull"!==t||console.error("Unexpected: style does not require rasterization");const s=(0,mathUtils/* nextPowerOfTwo */.fp)(Math.ceil(o)),a=this._isHorizontalOrVertical(t)?8*s:16*s,i=2*s;e.width=a,e.height=a;const n=e.getContext("2d");n.strokeStyle="#FFFFFF",n.lineWidth=s,n.beginPath(),"vertical"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSVertical"!==t||(n.moveTo(a/2,-i),n.lineTo(a/2,a+i)),"horizontal"!==t&&"cross"!==t&&"esriSFSCross"!==t&&"esriSFSHorizontal"!==t||(n.moveTo(-i,a/2),n.lineTo(a+i,a/2)),"forward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSDiagonalCross"!==t&&"esriSFSForwardDiagonal"!==t||(n.moveTo(-i,-i),n.lineTo(a+i,a+i),n.moveTo(a-i,-i),n.lineTo(a+i,i),n.moveTo(-i,a-i),n.lineTo(i,a+i)),"backward-diagonal"!==t&&"diagonal-cross"!==t&&"esriSFSBackwardDiagonal"!==t&&"esriSFSDiagonalCross"!==t||(n.moveTo(a+i,-i),n.lineTo(-i,a+i),n.moveTo(i,-i),n.lineTo(-i,i),n.moveTo(a+i,a-i),n.lineTo(a-i,a+i)),n.stroke();const c=n.getImageData(0,0,e.width,e.height),l=new Uint8Array(c.data);let m;for(let r=0;r<l.length;r+=4)m=l[r+3]/255,l[r]=l[r]*m,l[r+1]=l[r+1]*m,l[r+2]=l[r+2]*m;return[l,e.width,e.height]}static rasterizeSimpleLine(e,t){let r;switch(t){case"butt":r="Butt";break;case"square":r="Square";break;default:r="Round"}const o="Butt"===r;let s;switch(e){case"dash":case"esriSLSDash":s=o?[4,3]:[3,4];break;case"dash-dot":case"esriSLSDashDot":s=o?[4,3,1,3]:[3,4,0,4];break;case"dot":case"esriSLSDot":s=o?[1,3]:[0,4];break;case"long-dash":case"esriSLSLongDash":s=o?[8,3]:[7,4];break;case"long-dash-dot":case"esriSLSLongDashDot":s=o?[8,3,1,3]:[7,4,0,4];break;case"long-dash-dot-dot":case"esriSLSDashDotDot":s=o?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case"short-dash":case"esriSLSShortDash":s=o?[4,1]:[3,2];break;case"short-dash-dot":case"esriSLSShortDashDot":s=o?[4,1,1,1]:[3,2,0,2];break;case"short-dash-dot-dot":case"esriSLSShortDashDotDot":s=o?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case"short-dot":case"esriSLSShortDot":s=o?[1,1]:[0,2];break;case"solid":case"esriSLSSolid":case"none":y.error("Unexpected: style does not require rasterization"),s=[0,0];break;default:y.error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`),s=[0,0]}return this.rasterizeDash(s,r)}static rasterizeDash(e,t){const r="Butt"===t,o="Square"===t,s=!r&&!o;e.length%2==1&&(e=[...e,...e]);const a=15.5,i=2*a;let c=0;for(const n of e)c+=n;const l=Math.round(c*a),m=new Float32Array(l*i),y=.5*a;let f=0,h=0,p=.5,S=!0;for(const n of e){for(f=h,h+=n*a;p<=h;){let e=.5;for(;e<i;){const t=(e-.5)*l+p-.5,i=s?(e-a)*(e-a):Math.abs(e-a);m[t]=S?r?Math.max(Math.max(f+y-p,i),Math.max(p-h+y,i)):i:s?Math.min((p-f)*(p-f)+i,(p-h)*(p-h)+i):o?Math.min(Math.max(p-f,i),Math.max(h-p,i)):Math.min(Math.max(p-f+y,i),Math.max(h+y-p,i)),e++}p++}S=!S}const d=m.length,M=new Uint8Array(4*d);for(let b=0;b<d;++b){const e=(s?Math.sqrt(m[b]):m[b])/a;(0,packingUtils/* packFloatRGBA */.I)(e,M,4*b)}return[M,l,i]}static _isHorizontalOrVertical(e){return"vertical"===e||"horizontal"===e||"cross"===e||"esriSFSCross"===e||"esriSFSVertical"===e||"esriSFSHorizontal"===e}}class S{static findApplicableOverrides(e,t,r){if(t){if(e.primitiveName){let o=!1;for(const t of r)if(t.primitiveName===e.primitiveName){o=!0;break}if(!o)for(const s of t)s.primitiveName===e.primitiveName&&r.push(s)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const o of e.effects)S.findApplicableOverrides(o,t,r);if(e.symbolLayers)for(const o of e.symbolLayers)S.findApplicableOverrides(o,t,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const o of e.effects)S.findApplicableOverrides(o,t,r);if(e.markerPlacement&&S.findApplicableOverrides(e.markerPlacement,t,r),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const o of e.markerGraphics)S.findApplicableOverrides(o,t,r),S.findApplicableOverrides(o.symbol,t,r)}else"CIMCharacterMarker"===e.type?S.findApplicableOverrides(e.symbol,t,r):"CIMHatchFill"===e.type&&S.findApplicableOverrides(e.lineSymbol,t,r)}}}static applyOverrides(e,t,r,o){if(!t)return;const s=e=>e?e.charAt(0).toLowerCase()+e.substr(1):e;if(e.primitiveName)for(const a of t)if(a.primitiveName===e.primitiveName){const t=s(a.propertyName);if(o&&o.push({cim:e,nocapPropertyName:t,value:e[t]}),a.expression&&(a.value=S.toValue(a.propertyName,a.expression)),r){let t=!1;for(const o of r)o.primitiveName===e.primitiveName&&(t=!0);t||r.push(a)}e[t]=a.value}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const s of e.effects)S.applyOverrides(s,t,r,o);if(e.symbolLayers)for(const s of e.symbolLayers)S.applyOverrides(s,t,r,o);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const s of e.effects)S.applyOverrides(s,t,r,o);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const s of e.markerGraphics)S.applyOverrides(s,t,r,o),S.applyOverrides(s.symbol,t,r,o)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t="";for(const r of e)void 0!==r.value&&(t+=`${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);return t}static toValue(t,r){if("DashTemplate"===t)return r.split(" ").map((e=>Number(e)));if("Color"===t){const t=new Color/* default */.Z(r).toRgba();return t[3]*=255,t}return r}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js_+_1_modules?')}}]);