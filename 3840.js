"use strict";(self.webpackChunkreveal_js_testing=self.webpackChunkreveal_js_testing||[]).push([[3840],{80657:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "q": () => (/* binding */ a)\n/* harmony export */ });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar t,o,r,n={exports:{}};t=n,o=function(){function t(t,r,a,f,e){o(t,r,a||0,f||t.length-1,e||n)}function o(t,n,a,f,e){for(;f>a;){if(f-a>600){var h=f-a+1,i=n-a+1,u=Math.log(h),M=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*M*(h-M)/h)*(i-h/2<0?-1:1);o(t,n,Math.max(a,Math.floor(n-i*M/h+c)),Math.min(f,Math.floor(n+(h-i)*M/h+c)),e)}var s=t[n],x=a,p=f;for(r(t,a,n),e(t[f],s)>0&&r(t,a,f);x<p;){for(r(t,x,p),x++,p--;e(t[x],s)<0;)x++;for(;e(t[p],s)>0;)p--}0===e(t[a],s)?r(t,a,p):r(t,++p,f),p<=n&&(a=p+1),n<=p&&(f=p-1)}}function r(t,o,r){var n=t[o];t[o]=t[r],t[r]=n}function n(t,o){return t<o?-1:t>o?1:0}return t},void 0!==(r=o())&&(t.exports=r);const a=n.exports;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/chunks/quickselect.js?')},33480:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Y": () => (/* binding */ e)\n/* harmony export */ });\n/* unused harmony export lineCentroid */\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(61681);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(t,n){return t?n?4:3:n?3:2}function e(e,o,u,l,N){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__/* .isNone */ .Wi)(o)||!o.lengths.length)return null;const s="upperLeft"===(null==N?void 0:N.originPosition)?-1:1;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const c=e.coords,f=[],i=u?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:T,coords:h}=o,g=n(u,l);let E=0;for(const t of T){const n=r(i,h,E,t,u,l,s);n&&f.push(n),E+=t*g}if(f.sort(((t,n)=>{let e=s*t[2]-s*n[2];return 0===e&&u&&(e=t[4]-n[4]),e})),f.length){let t=6*f[0][2];c[0]=f[0][0]/t,c[1]=f[0][1]/t,u&&(t=6*f[0][4],c[2]=0!==t?f[0][3]/t:0),(c[0]<i[0]||c[0]>i[1]||c[1]<i[2]||c[1]>i[3]||u&&(c[2]<i[4]||c[2]>i[5]))&&(c.length=0)}if(!c.length){const t=o.lengths[0]?I(h,0,T[0],u,l):null;if(!t)return null;c[0]=t[0],c[1]=t[1],u&&t.length>2&&(c[2]=t[2])}return e}function r(t,e,r,I,o,u,l=1){const N=n(o,u);let s=r,c=r+N,f=0,i=0,T=0,h=0,g=0;for(let n=0,m=I-1;n<m;n++,s+=N,c+=N){const n=e[s],r=e[s+1],I=e[s+2],u=e[c],l=e[c+1],N=e[c+2];let E=n*l-u*r;h+=E,f+=(n+u)*E,i+=(r+l)*E,o&&(E=n*N-u*I,T+=(I+N)*E,g+=E),n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n),r<t[2]&&(t[2]=r),r>t[3]&&(t[3]=r),o&&(I<t[4]&&(t[4]=I),I>t[5]&&(t[5]=I))}if(h*l>0&&(h*=-1),g*l>0&&(g*=-1),!h)return null;const E=[f,i,.5*h];return o&&(E[3]=T,E[4]=.5*g),E}function I(t,e,r,I,s){const c=n(I,s);let f=e,i=e+c,T=0,h=0,g=0,E=0;for(let n=0,m=r-1;n<m;n++,f+=c,i+=c){const n=t[f],e=t[f+1],r=t[f+2],s=t[i],c=t[i+1],m=t[i+2],b=I?u(n,e,r,s,c,m):o(n,e,s,c);if(b)if(T+=b,I){const t=N(n,e,r,s,c,m);h+=b*t[0],g+=b*t[1],E+=b*t[2]}else{const t=l(n,e,s,c);h+=b*t[0],g+=b*t[1]}}return T>0?I?[h/T,g/T,E/T]:[h/T,g/T]:r>0?I?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function o(t,n,e,r){const I=e-t,o=r-n;return Math.sqrt(I*I+o*o)}function u(t,n,e,r,I,o){const u=r-t,l=I-n,N=o-e;return Math.sqrt(u*u+l*l+N*N)}function l(t,n,e,r){return[t+.5*(e-t),n+.5*(r-n)]}function N(t,n,e,r,I,o){return[t+.5*(r-t),n+.5*(I-n),e+.5*(o-e)]}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/graphics/centroid.js?')},14215:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ V)\n/* harmony export */ });\n/* unused harmony export Feature */\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70375);\n/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67134);\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(61681);\n/* harmony import */ var _core_MemCache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(40366);\n/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17321);\n/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(37116);\n/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(24568);\n/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(79880);\n/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(53736);\n/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(49756);\n/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(35925);\n/* harmony import */ var _attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(95574);\n/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(66069);\n/* harmony import */ var _QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(10287);\n/* harmony import */ var _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(17519);\n/* harmony import */ var _spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(20592);\n/* harmony import */ var _timeSupport_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(53316);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(34398);\n/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(28790);\n/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(30879);\n/* harmony import */ var _views_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(22167);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction N(e){return e.every((e=>"exceedslimit"!==e.statisticType))}const Z="feature-store:unsupported-query";class H{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const D=new Set,J=new _core_MemCache_js__WEBPACK_IMPORTED_MODULE_2__/* .MemCacheStorage */ .WJ(2e6);let L=0;class V{constructor(e){this.capabilities={query:_QueryEngineCapabilities_js__WEBPACK_IMPORTED_MODULE_12__/* .queryCapabilities */ .g},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on("changed",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new _core_MemCache_js__WEBPACK_IMPORTED_MODULE_2__/* .MemCache */ .Xq(L+++"$$",J)),this.fieldsIndex=new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .Z(e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .removeMaybe */ .hw)(this._frameTask),this.clearCache(),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .destroyMaybe */ .SC)(this._geometryQueryCache),this._changeHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .removeMaybe */ .hw)(this._changeHandle),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .destroyMaybe */ .SC)(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}get fullExtent(){const e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .cleanFromGeometryEngine */ .S2)(this.spatialReference)}:null}get timeExtent(){return this.timeInfo?(this._timeExtent||(this._timeExtent=(0,_timeSupport_js__WEBPACK_IMPORTED_MODULE_20__/* .getTimeExtent */ .R)(this.timeInfo,this.featureStore)),this._timeExtent):null}clearCache(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null}async executeQuery(e={},i){let s,r=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__/* .clone */ .d9)(e);try{r=await this._schedule((()=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .normalizeQuery */ .Up)(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i)}catch(a){if(a!==_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .QUERY_ENGINE_EMPTY_RESULT */ .vF)throw a;s=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z([],null,this)}return s.createQueryResponse(r)}async executeQueryForCount(e={},i){let s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__/* .clone */ .d9)(e);s.returnGeometry=!1,s.returnCentroid=!1,s.outSR=null;try{s=await this._schedule((()=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .normalizeQuery */ .Up)(s,this.definitionExpression,this.spatialReference)),i),s=await this._reschedule((()=>this._checkQuerySupport(s)),i);let e=await this._reschedule((()=>this._executeGeometryQuery(s,i)),i);return e=await this._reschedule((()=>e.executeAggregateIdsQuery(s)),i),e=await this._reschedule((()=>e.executeObjectIdsQuery(s)),i),e=await this._reschedule((()=>e.executeTimeQuery(s)),i),e=await this._reschedule((()=>e.executeAttributesQuery(s)),i),e.createQueryResponseForCount(s)}catch(r){if(r!==_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .QUERY_ENGINE_EMPTY_RESULT */ .vF)throw r;return 0}}async executeQueryForExtent(e={},i){let s,r=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__/* .clone */ .d9)(e);const a=r.outSR;try{r=await this._schedule((()=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .normalizeQuery */ .Up)(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),r.returnGeometry=!0,r.returnCentroid=!1,r.outSR=null,s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.size;if(!e)return{count:e,extent:null};(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .set */ .t8)(W,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .NEGATIVE_INFINITY */ .Gv),this.featureStore.forEachBounds(s.items,(e=>(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .expandWithAABB */ .TC)(W,e)),$);const t={xmin:W[0],ymin:W[1],xmax:W[3],ymax:W[4],spatialReference:(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .cleanFromGeometryEngine */ .S2)(this.spatialReference)};this.hasZ&&isFinite(W[2])&&isFinite(W[5])&&(t.zmin=W[2],t.zmax=W[5]);const n=(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_11__/* .project */ .iV)(t,s.spatialReference,a);if(n.spatialReference=(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .cleanFromGeometryEngine */ .S2)(a||this.spatialReference),n.xmax-n.xmin==0){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .c9)(n.spatialReference);n.xmin-=e,n.xmax+=e}if(n.ymax-n.ymin==0){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .c9)(n.spatialReference);n.ymin-=e,n.ymax+=e}if(this.hasZ&&null!=n.zmin&&null!=n.zmax&&n.zmax-n.zmin==0){const e=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .c9)(n.spatialReference);n.zmin-=e,n.zmax+=e}return{count:e,extent:n}}catch(n){if(n===_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .QUERY_ENGINE_EMPTY_RESULT */ .vF)return{count:0,extent:null};throw n}}async executeQueryForIds(e={},t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e={},i){let s,r=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__/* .clone */ .d9)(e);r.returnGeometry=!1,r.returnCentroid=!1,r.outSR=null;try{r=await this._schedule((()=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .normalizeQuery */ .Up)(r,this.definitionExpression,this.spatialReference)),i),r=await this._reschedule((()=>this._checkQuerySupport(r)),i),s=await this._reschedule((()=>this._executeGeometryQuery(r,i)),i),s=await this._reschedule((()=>s.executeAggregateIdsQuery(r)),i),s=await this._reschedule((()=>s.executeObjectIdsQuery(r)),i),s=await this._reschedule((()=>s.executeTimeQuery(r)),i),s=await this._reschedule((()=>s.executeAttributesQuery(r)),i);const e=s.items,t=new Set;return await this._reschedule((()=>{for(const i of e)t.add(s.featureAdapter.getObjectId(i))}),i),t}catch(a){if(a===_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .QUERY_ENGINE_EMPTY_RESULT */ .vF)return new Set;throw a}}async executeQueryForSnapping(e,t){const{point:i,distance:s,types:a}=e;if(a===_QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* .SnappingTypes.NONE */ .r.NONE)return{candidates:[]};const n=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),u=!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .equals */ .fS)(i.spatialReference,this.spatialReference);u&&await (0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_11__/* .checkProjectionSupport */ ._W)(i.spatialReference,this.spatialReference);const o="number"==typeof s?s:s.x,c="number"==typeof s?s:s.y,h={xmin:i.x-o,xmax:i.x+o,ymin:i.y-c,ymax:i.y+c,spatialReference:i.spatialReference},l=u?(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_11__/* .project */ .iV)(h,this.spatialReference):h;if(!l)return{candidates:[]};const p=(await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .normalizeCentralMeridian */ .aX)((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromJSON */ .im)(i),null,{signal:t}))[0],d=(await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .normalizeCentralMeridian */ .aX)((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromJSON */ .im)(l),null,{signal:t}))[0];if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .isNone */ .Wi)(p)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .isNone */ .Wi)(d))return{candidates:[]};let y=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z(this._searchFeatures(this._getQueryBBoxes(d.toJSON())),null,this);y=await this._reschedule((()=>y.executeObjectIdsQuery(n)),t),y=await this._reschedule((()=>y.executeTimeQuery(n)),t),y=await this._reschedule((()=>y.executeAttributesQuery(n)),t);const m=p.toJSON(),f=u?(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_11__/* .project */ .iV)(m,this.spatialReference):m,_=u?Math.max(l.xmax-l.xmin,l.ymax-l.ymin)/2:s;return y.createSnappingResponse({...e,point:f,distance:_},i.spatialReference)}async executeQueryForLatestObservations(i={},s){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(Z,"Missing timeInfo or timeInfo.trackIdField",{query:i,timeInfo:this.timeInfo});let r,a=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__/* .clone */ .d9)(i);try{a=await this._schedule((()=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .normalizeQuery */ .Up)(a,this.definitionExpression,this.spatialReference)),s),a=await this._reschedule((()=>this._checkQuerySupport(a)),s),r=await this._reschedule((()=>this._executeGeometryQuery(a,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(a)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(a)),s),r=await this._reschedule((()=>r.executeTimeQuery(a)),s),r=await this._reschedule((()=>r.executeAttributesQuery(a)),s),r=await this._reschedule((()=>r.filterLatest()),s)}catch(n){if(n!==_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .QUERY_ENGINE_EMPTY_RESULT */ .vF)throw n;r=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z([],null,this)}return r.createQueryResponse(a)}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(e,t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,valueExpression:r}=t;return(await this._getQueryEngineResultForStats(e,{field:s,valueExpression:r},i)).createUniqueValuesResponse(e,t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(e,t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(e,t)}async _schedule(e,t){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .isSome */ .pC)(this._frameTask)?this._frameTask.schedule(e,t):e(_views_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_18__/* .noBudget */ .G5)}async _reschedule(e,t){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .isSome */ .pC)(this._frameTask)?this._frameTask.reschedule(e,t):e(_views_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_18__/* .noBudget */ .G5)}_getAll(){if(!this._allItems){const e=[];this.featureStore.forEach((t=>e.push(t))),this._allItems=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z(e,null,this)}return this._allItems}async _executeGeometryQuery(e,t){const{geometry:i,outSR:s,spatialRel:r,returnGeometry:a,returnCentroid:u}=e,o=this.featureStore.featureSpatialReference,c=i&&o&&o!==i.spatialReference?(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_11__/* .project */ .iV)(i,o):i,h=a||u,l=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .isValid */ .JY)(s)&&!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .equals */ .fS)(this.spatialReference,s),p=this._geometryQueryCache?l&&h?JSON.stringify({originalFilterGeometry:i,spatialRelationship:r,outSpatialReference:s}):JSON.stringify({originalFilterGeometry:i,spatialRelationship:r}):null;if(p){const e=this._geometryQueryCache.get(p);if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .isUndefined */ .o8)(e))return e}const d=async e=>{if(l&&h){const t=await e.project(s);return p&&this._geometryQueryCache.put(p,t,t.size||1),t}return p&&this._geometryQueryCache.put(p,e,e.size||1),e};if(!c)return d(this._getAll());const y=this.featureAdapter;if("esriSpatialRelDisjoint"===r){const e=this._searchFeatures(this._getQueryBBoxes(i));if(!e.length)return d(this._getAll());let s,a;const n=new Set;for(const t of e)n.add(y.getObjectId(t));await this._reschedule((()=>{let e=0;s=new Array(n.size),this.featureStore.forEach((t=>s[e++]=t)),a=n}),t);const u=await this._reschedule((async()=>{const e=await (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_14__/* .getSpatialQueryOperator */ .cW)(r,c,this.geometryType,this.hasZ,this.hasM),n=t=>!a.has(y.getObjectId(t))||e(y.getGeometry(t));return new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z(await this._runSpatialFilter(s,n,t),i,this)}),t);return d(u)}const m=this._searchFeatures(this._getQueryBBoxes(i));if(!m.length){const e=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z([],i,this);return p&&this._geometryQueryCache.put(p,e,e.size||1),e}if(this._canExecuteSoloPass(c,e))return d(new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z(m,i,this));const f=await (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_14__/* .getSpatialQueryOperator */ .cW)(r,c,this.geometryType,this.hasZ,this.hasM),x=await this._runSpatialFilter(m,(e=>f(y.getGeometry(e))),t);return d(new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z(x,i,this))}async _runSpatialFilter(e,t,i){if(!t)return e;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__/* .isNone */ .Wi)(this._frameTask))return e.filter((e=>t(e)));let s=0;const a=new Array,n=async r=>{for(;s<e.length;){const u=e[s++];t(u)&&(a.push(u),r.madeProgress()),r.done&&await this._reschedule((e=>n(e)),i)}};return this._reschedule((e=>n(e)),i).then((()=>a))}_canExecuteSoloPass(e,t){const{geometryType:i}=this,{spatialRel:s}=t;return (0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_14__/* .canQueryWithRBush */ .hN)(e)&&("esriSpatialRelEnvelopeIntersects"===s||"esriGeometryPoint"===i&&("esriSpatialRelIntersects"===s||"esriSpatialRelContains"===s||"esriSpatialRelWithin"===s))}_getQueryBBoxes(e){if((0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_14__/* .canQueryWithRBush */ .hN)(e)){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .isExtent */ .YX)(e))return[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__/* .fromValues */ .al)(e.xmin,e.ymin,e.xmax,e.ymax)];if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .isPolygon */ .oU)(e))return e.rings.map((e=>(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__/* .fromValues */ .al)(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .getBoundsXY */ .$P)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__/* .create */ .Ue)(),e)]}_searchFeatures(e){for(const s of e)this.featureStore.forEachInBounds(s,(e=>{D.add(e)}));const t=new Array(D.size);let i=0;return D.forEach((e=>t[i++]=e)),D.clear(),t}async _checkStatisticsSupport(t,i){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(Z,"Unsupported query options",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsParamsSupport(i),(0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_14__/* .checkSpatialQuerySupport */ .P0)(t,this.geometryType,this.spatialReference),(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_11__/* .checkProjectionSupport */ ._W)(this.spatialReference,t.outSR)]).then((()=>t))}async _checkStatisticsParamsSupport(t){let i=[];if(t.valueExpression){const{arcadeUtils:e}=await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_17__/* .loadArcade */ .LC)();i=e.extractFieldNames(t.valueExpression)}if(t.field&&i.push(t.field),t.normalizationField&&i.push(t.normalizationField),!i.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(Z,"params should have at least a field or valueExpression",{params:t});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__/* .validateFields */ .Of)(this.fieldsIndex,i,"params contains missing fields")}async _checkQuerySupport(t){if(t.distance<0||null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(Z,"Unsupported query options",{query:t});return Promise.all([this._checkAttributesQuerySupport(t),this._checkStatisticsQuerySupport(t),(0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_14__/* .checkSpatialQuerySupport */ .P0)(t,this.geometryType,this.spatialReference),(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_11__/* .checkProjectionSupport */ ._W)(this.spatialReference,t.outSR)]).then((()=>t))}_checkAttributesQuerySupport(t){const{outFields:i,orderByFields:s,returnDistinctValues:r,outStatistics:a}=t,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(s&&s.length>0){const e=" asc",t=" desc",i=s.map((i=>{const s=i.toLowerCase();return s.indexOf(e)>-1?s.split(e)[0]:s.indexOf(t)>-1?s.split(t)[0]:i})).filter((e=>-1===n.indexOf(e)));(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__/* .validateFields */ .Of)(this.fieldsIndex,i,"orderByFields contains missing fields")}if(i&&i.length>0)(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__/* .validateFields */ .Of)(this.fieldsIndex,i,"outFields contains missing fields");else if(r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(Z,"outFields should be specified for returnDistinctValues",{query:t});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__/* .validateWhere */ .hO)(this.fieldsIndex,t.where)}async _checkStatisticsQuerySupport(t){const{outStatistics:i,groupByFieldsForStatistics:s,having:r}=t,a=s&&s.length,n=i&&i.length;if(r){if(!a||!n)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(Z,"outStatistics and groupByFieldsForStatistics should be specified with having",{query:t});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__/* .validateHaving */ .z4)(this.fieldsIndex,r,i)}if(n){if(!N(i))return;const r=i.map((e=>e.onStatisticField)).filter(Boolean);(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__/* .validateFields */ .Of)(this.fieldsIndex,r,"onStatisticFields contains missing fields"),a&&(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__/* .validateFields */ .Of)(this.fieldsIndex,s,"groupByFieldsForStatistics contains missing fields");for(const s of i){const{onStatisticField:i,statisticType:r}=s;if(("percentile_disc"===r||"percentile_cont"===r)&&"statisticParameters"in s){const{statisticParameters:i}=s;if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(Z,"statisticParamters should be set for percentile type",{definition:s,query:t})}else if("count"!==r&&i&&(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_10__/* .hasInvalidFieldType */ .G3)(i,this.fieldsIndex))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(Z,"outStatistics contains non-numeric fields",{definition:s,query:t})}}}async _getQueryEngineResultForStats(e={},i,s){let r;e=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_1__/* .clone */ .d9)(e);try{e=await this._schedule((()=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .normalizeQuery */ .Up)(e,this.definitionExpression,this.spatialReference)),s),e=await this._reschedule((()=>this._checkStatisticsSupport(e,i)),s),r=await this._reschedule((()=>this._executeGeometryQuery(e,s)),s),r=await this._reschedule((()=>r.executeAggregateIdsQuery(e)),s),r=await this._reschedule((()=>r.executeObjectIdsQuery(e)),s),r=await this._reschedule((()=>r.executeTimeQuery(e)),s),r=await this._reschedule((()=>r.executeAttributesQuery(e)),s)}catch(a){if(a!==_utils_js__WEBPACK_IMPORTED_MODULE_15__/* .QUERY_ENGINE_EMPTY_RESULT */ .vF)throw a;r=new _QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .Z([],null,this)}return r}}const $=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .create */ .Ue)(),W=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .create */ .Ue)();\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js?')},10287:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "g": () => (/* binding */ t)\n/* harmony export */ });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js?')},20592:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "hN": () => (/* binding */ I),\n  "P0": () => (/* binding */ P),\n  "cW": () => (/* binding */ v)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar Error = __webpack_require__(70375);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/contains.js\nvar contains = __webpack_require__(27127);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/intersectsBase.js\nvar intersectsBase = __webpack_require__(68668);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/geometry/support/intersects.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction intersects_n(n){return"mesh"===n?intersectsBase/* extentIntersectsExtent */.h_:(0,intersectsBase/* getFeatureExtentIntersector */.IY)(n)}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js\nvar jsonUtils = __webpack_require__(53736);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\nvar spatialReferenceUtils = __webpack_require__(35925);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/graphics/contains.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function contains_r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,d=0;n<l.length;n++,d+=s)if(!o(t,r,e,i[d],i[d+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let i=o,l=o+e*r;i<l;i+=r){s=i+r,s===l&&(s=o);const n=t[i],e=t[i+1],d=t[s],g=t[s+1];(e<u&&g>=u||g<u&&e>=u)&&n+(u-e)/(g-e)*(d-n)<c&&(f=!f)}return f}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js\nvar featureConversionUtils = __webpack_require__(12065);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js\nvar OptimizedGeometry = __webpack_require__(15540);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js\nvar projectionSupport = __webpack_require__(66069);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/utils.js\nvar utils = __webpack_require__(34398);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst c="feature-store:unsupported-query",R={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},S={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function G(e){return!0===S.spatialRelationship[e]}function g(e){return!0===S.queryGeometry[(0,jsonUtils/* getJsonType */.Ji)(e)]}function j(e){return!0===S.layerGeometry[e]}function h(){return Promise.all(/* import() */[__webpack_require__.e(9067), __webpack_require__.e(8923)]).then(__webpack_require__.bind(__webpack_require__, 8923))}function v(e,n,l,y,c){if((0,jsonUtils/* isPolygon */.oU)(n)&&"esriGeometryPoint"===l&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){const e=(0,featureConversionUtils/* convertFromPolygon */.Uy)(new OptimizedGeometry/* default */.Z,n,!1,!1);return Promise.resolve((r=>t(e,!1,!1,r)))}if((0,jsonUtils/* isPolygon */.oU)(n)&&"esriGeometryMultipoint"===l){const r=(0,featureConversionUtils/* convertFromPolygon */.Uy)(new OptimizedGeometry/* default */.Z,n,!1,!1);if("esriSpatialRelContains"===e)return Promise.resolve((e=>contains_r(r,!1,!1,e,y,c)))}if((0,jsonUtils/* isExtent */.YX)(n)&&"esriGeometryPoint"===l&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return Promise.resolve((e=>(0,contains/* extentContainsPoint */.aV)(n,(0,utils/* getGeometry */.Op)(l,y,c,e))));if((0,jsonUtils/* isExtent */.YX)(n)&&"esriGeometryMultipoint"===l&&"esriSpatialRelContains"===e)return Promise.resolve((e=>(0,contains/* extentContainsMultipoint */.lQ)(n,(0,utils/* getGeometry */.Op)(l,y,c,e))));if((0,jsonUtils/* isExtent */.YX)(n)&&"esriSpatialRelIntersects"===e){const e=intersects_n(l);return Promise.resolve((r=>e(n,(0,utils/* getGeometry */.Op)(l,y,c,r))))}return h().then((r=>{const t=r[R[e]].bind(null,n.spatialReference,n);return e=>t((0,utils/* getGeometry */.Op)(l,y,c,e))}))}async function P(r,t,i){const{spatialRel:s,geometry:o}=r;if(o){if(!G(s))throw new Error/* default */.Z(c,"Unsupported query spatial relationship",{query:r});if((0,spatialReferenceUtils/* isValid */.JY)(o.spatialReference)&&(0,spatialReferenceUtils/* isValid */.JY)(i)){if(!g(o))throw new Error/* default */.Z(c,"Unsupported query geometry type",{query:r});if(!j(t))throw new Error/* default */.Z(c,"Unsupported layer geometry type",{query:r});if(r.outSR)return (0,projectionSupport/* checkProjectionSupport */._W)(r.geometry&&r.geometry.spatialReference,r.outSR)}}}function I(e){if((0,jsonUtils/* isExtent */.YX)(e))return!0;if((0,jsonUtils/* isPolygon */.oU)(e)){for(const r of e.rings){if(5!==r.length)return!1;if(r[0][0]!==r[1][0]||r[0][0]!==r[4][0]||r[2][0]!==r[3][0]||r[0][1]!==r[3][1]||r[0][1]!==r[4][1]||r[1][1]!==r[2][1])return!1}return!0}return!1}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js_+_2_modules?')}}]);