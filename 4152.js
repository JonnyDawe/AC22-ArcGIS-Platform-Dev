"use strict";(self.webpackChunkreveal_js_testing=self.webpackChunkreveal_js_testing||[]).push([[4152,3110,8202,7242,8297],{80085:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ g)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(36663);\n/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(91957);\n/* harmony import */ var _PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80020);\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(95156);\n/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(41151);\n/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82064);\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(61681);\n/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(7958);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(40266);\n/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(53736);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction y(t){if(!t)return null;const e={};for(const r in t){const o=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .fromJSON */ .im)(t[r]);o&&(e[r]=o)}return 0!==Object.keys(e).length?e:null}function m(t){if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_11__/* .isSome */ .pC)(t))return null;const e={};for(const r in t){const o=t[r];o&&(e[r]=o.toJSON())}return 0!==Object.keys(e).length?e:null}let h=class extends((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_3__/* .ClonableMixin */ .J)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__/* .JSONSupport */ .wq)){constructor(...t){super(...t),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_12__/* .generateUID */ .D)(),configurable:!0})}normalizeCtorArgs(t,e,r,o){return t&&!t.declaredClass?t:{geometry:t,symbol:e,attributes:r,popupTemplate:o}}set aggregateGeometries(t){const e=this._get("aggregateGeometries");JSON.stringify(e)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),this._notifyLayer("geometry",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(const e of[this.sourceLayer,this.layer])if(e){if("popupTemplate"in e&&e.popupTemplate)return e.popupTemplate;if(t&&"defaultPopupTemplate"in e&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_11__/* .isSome */ .pC)(e.defaultPopupTemplate))return e.defaultPopupTemplate}return null}getAttribute(t){return this.attributes&&this.attributes[t]}setAttribute(t,e){if(this.attributes){const r=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",r,e,t)}else this.attributes={[t]:e},this._notifyLayer("attributes",void 0,e,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:m(this.aggregateGeometries),geometry:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_11__/* .isSome */ .pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_11__/* .isSome */ .pC)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_11__/* .isSome */ .pC)(this.geometry)&&"mesh"===this.geometry.type&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(t,e,r,o){if(!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:t,oldValue:e,newValue:r};"attributes"===t&&(s.attributeName=o),this.layer.graphicChanged(s)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({value:null,json:{read:y}})],h.prototype,"aggregateGeometries",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({value:null})],h.prototype,"attributes",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({value:null,types:_geometry_js__WEBPACK_IMPORTED_MODULE_0__/* .geometryTypes */ .qM,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .fromJSON */ .im}})],h.prototype,"geometry",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({type:Boolean})],h.prototype,"isAggregate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({clonable:"reference"})],h.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z})],h.prototype,"popupTemplate",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({clonable:"reference"})],h.prototype,"sourceLayer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({value:null,types:_symbols_js__WEBPACK_IMPORTED_MODULE_2__/* .symbolTypes */ .LB})],h.prototype,"symbol",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .Cb)({type:Boolean,value:!0})],h.prototype,"visible",null),h=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_13__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__/* .subclass */ .j)("esri.Graphic")],h),function(t){t.generateUID=_core_uid_js__WEBPACK_IMPORTED_MODULE_12__/* .generateUID */ .D}(h||(h={}));const g=h;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/Graphic.js?')},33455:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ r)\n/* harmony export */ });\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(78668);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass r{constructor(){this.declaredRootClass="esri.arcade.featureSetCollection",this._layerById={},this._layerByName={}}add(e,r,t){this._layerById[r]=t,this._layerByName[e]=t}featureSetByName(e,r=!0,t=["*"]){return void 0===this._layerByName[e]?this.resolvePromise(null):this.resolvePromise(this._layerByName[e])}featureSetById(e,r=!0,t=["*"]){return void 0===this._layerById[e]?this.resolvePromise(null):this.resolvePromise(this._layerById[e])}castToText(){return"object, FeatureSetCollection"}resolvePromise(r){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .resolve */ .DB)(r)}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/arcade/featureSetCollection.js?')},5345:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "constructAssociationMetaDataFeatureSetFromUrl": () => (/* binding */ featureSetUtils_j),\n  "constructFeatureSet": () => (/* binding */ g),\n  "constructFeatureSetFromPortalItem": () => (/* binding */ featureSetUtils_G),\n  "constructFeatureSetFromRelationship": () => (/* binding */ w),\n  "constructFeatureSetFromUrl": () => (/* binding */ T),\n  "convertToFeatureSet": () => (/* binding */ P),\n  "createFeatureSetCollectionFromMap": () => (/* binding */ E),\n  "createFeatureSetCollectionFromService": () => (/* binding */ b),\n  "getPortal": () => (/* binding */ D),\n  "initialiseMetaDataCache": () => (/* binding */ N),\n  "lookupUser": () => (/* binding */ q)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/kernel.js\nvar kernel = __webpack_require__(88256);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js\nvar request = __webpack_require__(66341);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureSetCollection.js\nvar featureSetCollection = __webpack_require__(33455);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/actions/AttributeFilter.js\nvar AttributeFilter = __webpack_require__(62700);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js\nvar Graphic = __webpack_require__(80085);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/languageUtils.js\nvar languageUtils = __webpack_require__(94837);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/actions/Adapted.js\nvar Adapted = __webpack_require__(45712);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/actions/OrderBy.js\nvar OrderBy = __webpack_require__(2441);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/support/FeatureSet.js + 1 modules\nvar FeatureSet = __webpack_require__(24270);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/support/IdSet.js\nvar IdSet = __webpack_require__(77732);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/support/OrderbyClause.js\nvar OrderbyClause = __webpack_require__(7429);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/support/shared.js\nvar shared = __webpack_require__(68673);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/support/sqlUtils.js\nvar sqlUtils = __webpack_require__(62294);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/support/stats.js\nvar stats = __webpack_require__(75718);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/sql/WhereClause.js + 3 modules\nvar WhereClause = __webpack_require__(3362);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/arcade/featureset/support/StatsField.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction a(a){if("function"===a.parseTree.type){if(0===a.parseTree.args.value.length)return{name:a.parseTree.name,expr:null};if(a.parseTree.args.value.length>1)throw new Error("Statistic does not have 1 or 0 Parameters");const n=WhereClause.WhereClause.create((0,sqlUtils/* toWhereClauseFromTree */.XF)(a.parseTree.args.value[0],shared/* FeatureServiceDatabaseType.Standardised */.Bj.Standardised,a.parameters),a.fieldsIndex);return{name:a.parseTree.name,expr:n}}return null}class StatsField_n{clone(){const e=new StatsField_n;return e.field=this.field,e.tofieldname=this.tofieldname,e.typeofstat=this.typeofstat,e.workingexpr=this.workingexpr,e}static parseStatField(e,r,i){const s=new StatsField_n;s.field=e;const o=WhereClause.WhereClause.create(r,i),l=a(o);if(null===l)throw new Error("Invalid Statistic Function");const p=l.name.toUpperCase().trim();if("MIN"===p){if(s.typeofstat="MIN",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("MAX"===p){if(s.typeofstat="MAX",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("COUNT"===p)s.typeofstat="COUNT",s.workingexpr=l.expr;else if("STDEV"===p){if(s.typeofstat="STDDEV",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("SUM"===p){if(s.typeofstat="SUM",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("MEAN"===p){if(s.typeofstat="AVG",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("AVG"===p){if(s.typeofstat="AVG",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else{if("VAR"!==p)throw new Error("Invalid Statistic Function");if(s.typeofstat="VAR",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}return s}toStatisticsName(){switch(this.typeofstat.toUpperCase()){case"MIN":return"min";case"MAX":return"max";case"SUM":return"sum";case"COUNT":default:return"count";case"VAR":return"var";case"STDDEV":return"stddev";case"AVG":return"avg"}}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/MD5.js\nvar MD5 = __webpack_require__(86630);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(78668);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js\nvar SpatialReference = __webpack_require__(14685);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/Field.js\nvar Field = __webpack_require__(12512);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/FieldsIndex.js\nvar FieldsIndex = __webpack_require__(28790);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/arcade/featureset/actions/GroupBy.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction C(e){if(!e)return"COUNT";switch(e.toLowerCase()){case"max":return"MAX";case"var":case"variance":return"VAR";case"avg":case"average":case"mean":return"AVG";case"min":return"MIN";case"sum":return"SUM";case"stdev":case"stddev":return"STDDEV";case"count":return"COUNT"}return"COUNT"}class G extends FeatureSet/* default */.Z{constructor(e){super(e),this._decodedStatsfield=[],this._decodedGroupbyfield=[],this._candosimplegroupby=!0,this.phsyicalgroupbyfields=[],this.objectIdField="ROW__ID",this._internalObjectIdField="ROW__ID",this._adaptedFields=[],this.declaredClass="esri.arcade.featureset.actions.Aggregate",this._uniqueIds=1,this._maxQuery=10,this._maxProcessing=10,this._parent=e.parentfeatureset,this._config=e}isTable(){return!0}_getSet(e){return null===this._wset?this._getFilteredSet("",null,null,null,e).then((e=>(this._wset=e,this._wset))):(0,promiseUtils/* resolve */.DB)(this._wset)}_isInFeatureSet(){return shared/* IdState.InFeatureSet */.dj.InFeatureSet}_nextUniqueName(e){for(;1===e["T"+this._uniqueIds.toString()];)this._uniqueIds++;const t="T"+this._uniqueIds.toString();return e[t]=1,t}_convertToEsriFieldType(e){return e}_initialiseFeatureSet(){const e={};let t=!1,n=1;const r=this._parent?this._parent.getFieldsIndex():new FieldsIndex/* default */.Z([]);for(this.objectIdField="ROW__ID",this.globalIdField="";!1===t;){let e=!1;for(let t=0;t<this._config.groupbyfields.length;t++)if(this._config.groupbyfields[t].name.toLowerCase()===this.objectIdField.toLowerCase()){e=!0;break}if(!1===e)for(let t=0;t<this._config.statsfields.length;t++)if(this._config.statsfields[t].name.toLowerCase()===this.objectIdField.toLowerCase()){e=!0;break}!1===e?t=!0:(this.objectIdField="ROW__ID"+n.toString(),n++)}for(const i of this._config.statsfields){const e=new StatsField_n;e.field=i.name,e.tofieldname=i.name,e.workingexpr=i.expression instanceof WhereClause.WhereClause?i.expression:WhereClause.WhereClause.create(i.expression,r),e.typeofstat=C(i.statistic),this._decodedStatsfield.push(e)}this._decodedGroupbyfield=[];for(const i of this._config.groupbyfields){const e={name:i.name,singlefield:null,tofieldname:i.name,expression:i.expression instanceof WhereClause.WhereClause?i.expression:WhereClause.WhereClause.create(i.expression,r)};this._decodedGroupbyfield.push(e)}if(null!==this._parent){this.geometryType=this._parent.geometryType,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField="";for(const t of this._parent.fields)e[t.name.toUpperCase()]=1;this.types=null}else this.geometryType=shared/* layerGeometryEsriConstants.point */.Qk.point,this.typeIdField="",this.types=null,this.spatialReference=new SpatialReference/* default */.Z({wkid:4326});this.fields=[];const a=new StatsField_n;a.field=this._nextUniqueName(e),a.tofieldname=this.objectIdField,a.workingexpr=WhereClause.WhereClause.create(this._parent.objectIdField,this._parent.getFieldsIndex()),a.typeofstat="MIN",this._decodedStatsfield.push(a);for(const s of this._decodedGroupbyfield){const t=new Field/* default */.Z;if(s.name=this._nextUniqueName(e),t.name=s.tofieldname,t.alias=t.name,(0,sqlUtils/* isSingleField */.y5)(s.expression)){const e=this._parent.getField((0,sqlUtils/* toWhereClause */.zR)(s.expression,shared/* FeatureServiceDatabaseType.Standardised */.Bj.Standardised));if(!e)throw new Error("Field is not present for Aggregation");s.name=e.name,s.singlefield=e.name,this.phsyicalgroupbyfields.push(e.name),t.type=e.type}else{t.type=this._convertToEsriFieldType((0,sqlUtils/* predictType */.DT)(s.expression,this._parent.fields));const e=new Field/* default */.Z;e.name=s.name,e.alias=e.name,this.phsyicalgroupbyfields.push(s.name),this._adaptedFields.push(new Adapted/* SqlExpressionAdapted */.yN(e,s.expression)),this._candosimplegroupby=!1}this.fields.push(t)}if(this._adaptedFields.length>0)for(const i of this._parent.fields)this._adaptedFields.push(new Adapted/* OriginalField */.$X(i));for(let i=0;i<this._decodedStatsfield.length;i++){const t=new Field/* default */.Z;let s=null;const n=this._decodedStatsfield[i];n.field=this._nextUniqueName(e),n.tofieldname===this.objectIdField&&(this._internalObjectIdField=n.field),t.name=n.tofieldname,t.alias=t.name;const r=null!==n.workingexpr&&(0,sqlUtils/* isSingleField */.y5)(n.workingexpr)?(0,sqlUtils/* toWhereClause */.zR)(n.workingexpr,shared/* FeatureServiceDatabaseType.Standardised */.Bj.Standardised):"";switch(this._decodedStatsfield[i].typeofstat){case"SUM":if(""!==r){if(s=this._parent.getField(r),!s)throw new Error("Field is not present for Aggregation");t.type=s.type}else t.type="double";break;case"MIN":case"MAX":if(""!==r){if(s=this._parent.getField(r),!s)throw new Error("Field is not present for Aggregation");t.type=s.type}else t.type="double";break;case"COUNT":t.type="integer";break;case"STDDEV":case"VAR":case"AVG":if(""!==r&&(s=this._parent.getField(r),!s))throw new Error("Field is not present for Aggregation");t.type="double"}this.fields.push(t)}}_canDoAggregates(){return (0,promiseUtils/* resolve */.DB)(!1)}_getFeatures(e,t,i,s){-1!==t&&this._featureCache[t];const n=this._maxQuery;return!0===this._checkIfNeedToExpandKnownPage(e,n)?this._expandPagedSet(e,n,0,0,s).then((()=>this._getFeatures(e,t,i,s))):(0,promiseUtils/* resolve */.DB)("success")}_getFilteredSet(e,t,i,s,l){if(""!==e)return (0,promiseUtils/* resolve */.DB)(new IdSet/* default */.Z([],[],!0,null));let u=null;const f={ordered:!1,nowhereclause:!1};return this._ensureLoaded().then((()=>{if(null!==i)for(let e=0;e<this._decodedStatsfield.length;e++)if(!0===(0,sqlUtils/* scanForField */.hq)(i,this._decodedStatsfield[e].tofieldname)){f.nowhereclause=!0,i=null;break}if(null!==s){f.ordered=!0;for(let e=0;e<this._decodedStatsfield.length;e++)if(!0===s.scanForField(this._decodedStatsfield[e].tofieldname)){s=null,f.ordered=!1;break}if(null!==s)for(const e of this._decodedGroupbyfield)if(null===e.singlefield&&!0===s.scanForField(e.tofieldname)){s=null,f.ordered=!1;break}}return!1===this._candosimplegroupby?(0,promiseUtils/* resolve */.DB)(!1):this._parent._canDoAggregates(this.phsyicalgroupbyfields,this._decodedStatsfield,"",null,null)})).then((e=>{if(e){let e=null;i&&(e=this._reformulateWhereClauseWithoutGroupByFields(i));let t=null;return s&&(t=this._reformulateOrderClauseWithoutGroupByFields(s)),this._parent._getAggregatePagesDataSourceDefinition(this.phsyicalgroupbyfields,this._decodedStatsfield,"",null,e,t,this._internalObjectIdField).then((e=>(this._checkCancelled(l),u=!0===f.nowhereclause?new IdSet/* default */.Z(e._candidates.slice(0).concat(e._known.slice(0)),[],!0===f.ordered&&e._ordered,this._clonePageDefinition(e.pagesDefinition)):new IdSet/* default */.Z(e._candidates.slice(0),e._known.slice(0),!0===f.ordered&&e._ordered,this._clonePageDefinition(e.pagesDefinition)),u)))}let t=this._parent;if(this._adaptedFields.length>0&&(t=new Adapted/* AdaptedFeatureSet */.Xx({parentfeatureset:this._parent,adaptedFields:this._adaptedFields,extraFilter:null})),!0===f.nowhereclause)u=new IdSet/* default */.Z(["GETPAGES"],[],!1,{aggregatefeaturesetpagedefinition:!0,resultOffset:0,resultRecordCount:this._maxQuery,internal:{fullyResolved:!1,workingItem:null,type:"manual",iterator:null,set:[],subfeatureset:new OrderBy/* default */.Z({parentfeatureset:t,orderbyclause:new OrderbyClause/* default */.Z(this.phsyicalgroupbyfields.join(",")+","+this._parent.objectIdField+" ASC")})}});else{let e=t;if(null!==i){let t=null;i&&(t=this._reformulateWhereClauseWithoutGroupByFields(i)),e=new AttributeFilter/* default */.Z({parentfeatureset:e,whereclause:t})}u=new IdSet/* default */.Z(["GETPAGES"],[],!1,{aggregatefeaturesetpagedefinition:!0,resultOffset:0,resultRecordCount:this._maxQuery,internal:{fullyResolved:!1,workingItem:null,type:"manual",iterator:null,set:[],subfeatureset:new OrderBy/* default */.Z({parentfeatureset:e,orderbyclause:new OrderbyClause/* default */.Z(this.phsyicalgroupbyfields.join(",")+","+this._parent.objectIdField+" ASC")})}})}return u}))}_reformulateWhereClauseWithoutStatsFields(e){for(const t of this._decodedStatsfield)e=(0,sqlUtils/* reformulateWithoutField */.bB)(e,t.tofieldname,(0,sqlUtils/* toWhereClause */.zR)(t.workingexpr,shared/* FeatureServiceDatabaseType.Standardised */.Bj.Standardised),this._parent.getFieldsIndex());return e}_reformulateWhereClauseWithoutGroupByFields(e){for(const t of this._decodedGroupbyfield)t.tofieldname!==t.name&&(e=(0,sqlUtils/* reformulateWithoutField */.bB)(e,t.tofieldname,(0,sqlUtils/* toWhereClause */.zR)(t.expression,shared/* FeatureServiceDatabaseType.Standardised */.Bj.Standardised),this._parent.getFieldsIndex()));return e}_reformulateOrderClauseWithoutGroupByFields(e){const t=[];for(const i of this._decodedGroupbyfield)i.tofieldname!==i.name&&t.push({field:i.tofieldname,newfield:i.name});return t.length>0?e.replaceFields(t):e}_clonePageDefinition(e){return null===e?null:!0===e.aggregatefeaturesetpagedefinition?{aggregatefeaturesetpagedefinition:!0,resultRecordCount:e.resultRecordCount,resultOffset:e.resultOffset,internal:e.internal}:this._parent._clonePageDefinition(e)}_refineSetBlock(e,t,i){try{if(!0===this._checkIfNeedToExpandCandidatePage(e,this._maxQuery))return this._expandPagedSet(e,this._maxQuery,0,0,i).then((()=>this._refineSetBlock(e,t,i)));this._checkCancelled(i);const s=e._candidates.length;this._refineKnowns(e,t);e._candidates.length;return e._candidates.length,(0,promiseUtils/* resolve */.DB)(e)}catch(s){return (0,promiseUtils/* reject */.d1)(s)}}_expandPagedSet(e,t,i,s,n){return this._expandPagedSetFeatureSet(e,t,i,s,n)}_getPhysicalPage(t,i,s){return!0===t.pagesDefinition.aggregatefeaturesetpagedefinition?(0,promiseUtils/* create */.Ue)(((e,i)=>{this._sequentialGetPhysicalItem(t,t.pagesDefinition.resultRecordCount,s,[]).then((t=>{e(t)}),i)})):this._getAgregagtePhysicalPage(t,i,s).then((t=>{for(const i of t){const t={geometry:i.geometry,attributes:{}};for(const e of this._decodedGroupbyfield)t.attributes[e.tofieldname]=i.attributes[e.name];for(const e of this._decodedStatsfield)t.attributes[e.tofieldname]=i.attributes[e.field];this._featureCache[t.attributes[this.objectIdField]]=new Graphic/* default */.Z(t)}return t.length}))}_sequentialGetPhysicalItem(e,t,i,s){return (0,promiseUtils/* create */.Ue)(((n,r)=>{null===e.pagesDefinition.internal.iterator&&(e.pagesDefinition.internal.iterator=e.pagesDefinition.internal.subfeatureset.iterator(i)),!0===e.pagesDefinition.internal.fullyResolved||0===t?n(s.length):this._nextAggregateItem(e,t,i,s,(r=>{null===r?n(s.length):(t-=1,n(this._sequentialGetPhysicalItem(e,t,i,s)))}),r)}))}_nextAggregateItem(e,i,s,n,r,a){try{(0,languageUtils.X)(e.pagesDefinition.internal.iterator.next()).then((t=>{if(null===t)if(null!==e.pagesDefinition.internal.workingItem){const t=this._calculateAndAppendAggregateItem(e.pagesDefinition.internal.workingItem);n.push(t),e.pagesDefinition.internal.workingItem=null,e.pagesDefinition.internal.set.push(t.attributes[this.objectIdField]),e.pagesDefinition.internal.fullyResolved=!0,r(null)}else e.pagesDefinition.internal.fullyResolved=!0,r(null);else{const l=this._generateAggregateHash(t);if(null===e.pagesDefinition.internal.workingItem)e.pagesDefinition.internal.workingItem={features:[t],id:l};else{if(l!==e.pagesDefinition.internal.workingItem.id){const s=this._calculateAndAppendAggregateItem(e.pagesDefinition.internal.workingItem);return n.push(s),e.pagesDefinition.internal.workingItem=null,e.pagesDefinition.internal.set.push(s.attributes[this.objectIdField]),i-=1,e.pagesDefinition.internal.workingItem={features:[t],id:l},void r(s)}e.pagesDefinition.internal.workingItem.features.push(t)}this._nextAggregateItem(e,i,s,n,r,a)}}),a)}catch(l){a(l)}}_calculateFieldStat(e,t,i){const s=[];for(let n=0;n<e.features.length;n++)if(null!==t.workingexpr){const i=t.workingexpr.calculateValue(e.features[n]);null!==i&&s.push(i)}else s.push(null);switch(t.typeofstat){case"MIN":i.attributes[t.tofieldname]=(0,stats/* calculateStat */.tj)("min",s,-1);break;case"MAX":i.attributes[t.tofieldname]=(0,stats/* calculateStat */.tj)("max",s,-1);break;case"SUM":i.attributes[t.tofieldname]=(0,stats/* calculateStat */.tj)("sum",s,-1);break;case"COUNT":i.attributes[t.tofieldname]=s.length;break;case"VAR":i.attributes[t.tofieldname]=(0,stats/* calculateStat */.tj)("var",s,-1);break;case"STDDEV":i.attributes[t.tofieldname]=(0,stats/* calculateStat */.tj)("stddev",s,-1);break;case"AVG":i.attributes[t.tofieldname]=(0,stats/* calculateStat */.tj)("avg",s,-1)}return!0}_calculateAndAppendAggregateItem(t){const i={attributes:{},geometry:null};for(const e of this._decodedGroupbyfield){const s=e.singlefield?t.features[0].attributes[e.singlefield]:e.expression.calculateValue(t.features[0]);i.attributes[e.tofieldname]=s}for(const e of this._decodedStatsfield)this._calculateFieldStat(t,e,i);const s=[];for(let e=0;e<this._decodedStatsfield.length;e++)s.push(this._calculateFieldStat(t,this._decodedStatsfield[e],i));return this._featureCache[i.attributes[this.objectIdField]]=new Graphic/* default */.Z({attributes:i.attributes,geometry:i.geometry}),i}_generateAggregateHash(e){let t="";for(const i of this._decodedGroupbyfield){const s=i.singlefield?e.attributes[i.singlefield]:i.expression.calculateValue(e);t+=null==s?":":":"+s.toString()}return (0,MD5/* createMD5Hash */.F)(t,MD5/* outputTypes.String */.M.String)}_stat(){return (0,promiseUtils/* resolve */.DB)({calculated:!1})}getFeatureByObjectId(){return (0,promiseUtils/* resolve */.DB)(null)}static registerAction(){FeatureSet/* default._featuresetFunctions.groupby */.Z._featuresetFunctions.groupby=function(e,t){return new G({parentfeatureset:this,groupbyfields:e,statsfields:t})}}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/actions/SpatialFilter.js\nvar SpatialFilter = __webpack_require__(6685);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/actions/Top.js\nvar Top = __webpack_require__(81273);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/Attachment.js\nvar Attachment = __webpack_require__(56088);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js\nvar jsonUtils = __webpack_require__(53736);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/FeatureLayer.js + 24 modules\nvar FeatureLayer = __webpack_require__(77567);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js\nvar featureConversionUtils = __webpack_require__(12065);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/urlUtils.js\nvar urlUtils = __webpack_require__(3466);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/unitUtils.js\nvar unitUtils = __webpack_require__(17321);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/query/support/AttachmentInfo.js + 1 modules\nvar AttachmentInfo = __webpack_require__(42544);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/AttachmentQuery.js\nvar AttachmentQuery = __webpack_require__(67692);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/query/executeForCount.js\nvar executeForCount = __webpack_require__(78254);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry.js\nvar geometry = __webpack_require__(91957);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/query/operations/query.js\nvar query = __webpack_require__(28500);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/Query.js\nvar Query = __webpack_require__(14136);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/query/executeForIds.js\nvar executeForIds = __webpack_require__(13865);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/query/executeQueryJSON.js\nvar executeQueryJSON = __webpack_require__(96027);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\nvar spatialReferenceUtils = __webpack_require__(35925);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/FeatureSet.js\nvar support_FeatureSet = __webpack_require__(51211);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/RelationshipQuery.js\nvar RelationshipQuery = __webpack_require__(8284);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/normalizeUtils.js + 2 modules\nvar normalizeUtils = __webpack_require__(49756);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/TopFeaturesQuery.js + 1 modules\nvar TopFeaturesQuery = __webpack_require__(12621);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/query/operations/pbfOptimizedFeatureSet.js\nvar pbfOptimizedFeatureSet = __webpack_require__(21425);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/StatisticDefinition.js\nvar StatisticDefinition = __webpack_require__(53631);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/Dictionary.js\nvar Dictionary = __webpack_require__(19249);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/arcade/featureset/sources/FeatureLayerDynamic.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass j extends FeatureSet/* default */.Z{constructor(e){super(e),this.declaredClass="esri.arcade.featureset.sources.FeatureLayerDynamic",this._removeGeometry=!1,this._overrideFields=null,this.formulaCredential=null,this._pageJustIds=!1,this._requestStandardised=!1,this._useDefinitionExpression=!0,e.spatialReference&&(this.spatialReference=e.spatialReference),this._transparent=!0,this._maxProcessing=1e3,this._layer=e.layer,this._wset=null,void 0!==e.outFields&&(this._overrideFields=e.outFields),void 0!==e.includeGeometry&&(this._removeGeometry=!1===e.includeGeometry)}_maxQueryRate(){return shared/* defaultMaxRecords */.tI}end(){return this._layer}optimisePagingFeatureQueries(e){this._pageJustIds=e}convertQueryToLruCacheKey(e){const t=(0,shared/* stableStringify */.hd)(e.toJSON());return (0,MD5/* createMD5Hash */.F)(t,MD5/* outputTypes.String */.M.String)}load(){return null===this._loadPromise&&(this._loadPromise=(0,promiseUtils/* create */.Ue)(((e,t)=>{try{if(!0===this._layer.loaded)return this._initialiseFeatureSet(),void e(this);this._layer.when().then((()=>{try{this._initialiseFeatureSet(),e(this)}catch(r){t(r)}}),t),this._layer.load()}catch(r){t(r)}}))),this._loadPromise}_initialiseFeatureSet(){if(null==this.spatialReference&&(this.spatialReference=this._layer.spatialReference),this.geometryType=this._layer.geometryType,this.fields=this._layer.fields.slice(0),this._layer.outFields)if(1===this._layer.outFields.length&&"*"===this._layer.outFields[0]);else{const e=[];for(const t of this.fields)if("oid"===t.type)e.push(t);else for(const r of this._layer.outFields)if(r.toLowerCase()===t.name.toLowerCase()){e.push(t);break}this.fields=e}else;if(null!==this._overrideFields)if(1===this._overrideFields.length&&"*"===this._overrideFields[0])this._overrideFields=null;else{const e=[],t=[];for(const r of this.fields)if("oid"===r.type)e.push(r),t.push(r.name);else for(const i of this._overrideFields)if(i.toLowerCase()===r.name.toLowerCase()){e.push(r),t.push(r.name);break}this.fields=e,this._overrideFields=t}if(this._layer.source&&this._layer.source.sourceJSON){const e=this._layer.source.sourceJSON.currentVersion;!0===this._layer.source.sourceJSON.useStandardizedQueries?(this._databaseType=shared/* FeatureServiceDatabaseType.StandardisedNoInterval */.Bj.StandardisedNoInterval,null!=e&&e>=10.61&&(this._databaseType=shared/* FeatureServiceDatabaseType.Standardised */.Bj.Standardised)):null!=e&&(e>=10.5&&(this._databaseType=shared/* FeatureServiceDatabaseType.StandardisedNoInterval */.Bj.StandardisedNoInterval,this._requestStandardised=!0),e>=10.61&&(this._databaseType=shared/* FeatureServiceDatabaseType.Standardised */.Bj.Standardised))}this.objectIdField=this._layer.objectIdField;for(const e of this.fields)"global-id"===e.type&&(this.globalIdField=e.name);this.hasM=this._layer.supportsM,this.hasZ=this._layer.supportsZ,this.typeIdField=this._layer.typeIdField,this.types=this._layer.types}_isInFeatureSet(){return shared/* IdState.InFeatureSet */.dj.InFeatureSet}_refineSetBlock(e){return (0,promiseUtils/* resolve */.DB)(e)}_candidateIdTransform(e){return e}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._getFilteredSet("",null,null,null,e))).then((e=>(this._wset=e,e))):(0,promiseUtils/* resolve */.DB)(this._wset)}_runDatabaseProbe(e){return (0,promiseUtils/* create */.Ue)(((t,r)=>{try{this._ensureLoaded().then((()=>{try{const i=new Query/* default */.Z;i.where=e.replace("OBJECTID",this._layer.objectIdField),this._layer.queryObjectIds(i).then((()=>{t(!0)}),(()=>{try{t(!1)}catch(e){r(e)}}))}catch(i){r(i)}}))}catch(i){r(i)}}))}_canUsePagination(){return!(!this._layer.capabilities||!this._layer.capabilities.query||!0!==this._layer.capabilities.query.supportsPagination)}_cacheableFeatureSetSourceKey(){return this._layer.url}pbfSupportedForQuery(e){return!e.outStatistics&&this._layer&&this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsFormatPBF&&!0===this._layer.capabilities.query.supportsQuantizationEditMode}queryPBF(e){return e.quantizationParameters={mode:"edit"},(0,query.executeQueryPBF)(this._layer.parsedUrl,e,new pbfOptimizedFeatureSet/* OptimizedFeatureSetParserContext */.J({})).then((e=>support_FeatureSet["default"].fromJSON((0,featureConversionUtils/* convertToFeatureSet */.cn)(e.data)).unquantize()))}get gdbVersion(){return this._layer&&this._layer.capabilities&&this._layer.capabilities.data&&this._layer.capabilities.data.isVersioned?this._layer.gdbVersion?this._layer.gdbVersion:"SDE.DEFAULT":""}nativeCapabilities(){return{title:this._layer.title,source:this,canQueryRelated:!0,capabilities:this._layer.capabilities,databaseType:this._databaseType,requestStandardised:this._requestStandardised}}executeQuery(e,t){const r="execute"===t?executeQueryJSON/* executeQueryJSON */.e:"executeForCount"===t?executeForCount/* executeForCount */.P:executeForIds/* executeForIds */.G,i="execute"===t&&this.pbfSupportedForQuery(e);let s=null;if(this.recentlyUsedQueries){const t=this.convertQueryToLruCacheKey(e);s=this.recentlyUsedQueries.getFromCache(t),null===s&&(s=!0!==i?r(this._layer.parsedUrl.path,e):this.queryPBF(e),this.recentlyUsedQueries.addToCache(t,s),s=s.catch((e=>{throw this.recentlyUsedQueries.removeFromCache(t),e})))}return this.featureSetQueryInterceptor&&this.featureSetQueryInterceptor.preLayerQueryCallback({layer:this._layer,query:e,method:t}),null===s&&(s=!0!==i?r(this._layer.parsedUrl.path,e):this.queryPBF(e)),s}_getFilteredSet(e,t,r,i,a){return this.databaseType().then((n=>{if(this.isTable()&&t&&null!==e&&""!==e){return new IdSet/* default */.Z([],[],!0,null)}if(this._canUsePagination())return this._getFilteredSetUsingPaging(e,t,r,i,a);let l="",o=!1;null!==i&&this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsOrderBy&&(l=i.constructClause(),o=!0);const u=new Query/* default */.Z;return u.where=null===r?null===t?"1=1":"":(0,sqlUtils/* toWhereClause */.zR)(r,n),this._requestStandardised&&(u.sqlFormat="standard"),u.spatialRelationship=this._makeRelationshipEnum(e),u.outSpatialReference=this.spatialReference,u.orderByFields=""!==l?l.split(","):null,u.geometry=null===t?null:t,u.relationParameter=this._makeRelationshipParam(e),this.executeQuery(u,"executeForIds").then((e=>{null===e&&(e=[]),this._checkCancelled(a);return new IdSet/* default */.Z([],e,o,null)}))}))}_expandPagedSet(e,t,r,i,s){return this._expandPagedSetFeatureSet(e,t,r,i,s)}_getFilteredSetUsingPaging(e,t,r,i,a){try{let n="",l=!1;return null!==i&&this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsOrderBy&&(n=i.constructClause(),l=!0),this.databaseType().then((i=>{let o=null===r?null===t?"1=1":"":(0,sqlUtils/* toWhereClause */.zR)(r,i);this._layer.definitionExpression&&this._useDefinitionExpression&&(o=""!==o?"(("+this._layer.definitionExpression+") AND ("+o+"))":this._layer.definitionExpression);let u=this._maxQueryRate();const h=this._layer.capabilities.query.maxRecordCount;void 0!==h&&h<u&&(u=h);let p=null;if(!0===this._pageJustIds)p=new IdSet/* default */.Z([],["GETPAGES"],l,{spatialRel:this._makeRelationshipEnum(e),relationParam:this._makeRelationshipParam(e),outFields:this._layer.objectIdField,resultRecordCount:u,resultOffset:0,geometry:null===t?null:t,where:o,orderByFields:n,returnGeometry:!1,returnIdsOnly:"false",internal:{set:[],lastRetrieved:0,lastPage:0,fullyResolved:!1}});else{let r=!0;!0===this._removeGeometry&&(r=!1);const i=null!==this._overrideFields?this._overrideFields:this._fieldsIncludingObjectId(this._layer.outFields?this._layer.outFields:["*"]);p=new IdSet/* default */.Z([],["GETPAGES"],l,{spatialRel:this._makeRelationshipEnum(e),relationParam:this._makeRelationshipParam(e),outFields:i.join(","),resultRecordCount:u,resultOffset:0,geometry:null===t?null:t,where:o,orderByFields:n,returnGeometry:r,returnIdsOnly:"false",internal:{set:[],lastRetrieved:0,lastPage:0,fullyResolved:!1}})}return this._expandPagedSet(p,u,0,1,a).then((()=>p))}))}catch(n){return (0,promiseUtils/* reject */.d1)(n)}}_clonePageDefinition(e){return null===e?null:!0!==e.groupbypage?{groupbypage:!1,spatialRel:e.spatialRel,relationParam:e.relationParam,outFields:e.outFields,resultRecordCount:e.resultRecordCount,resultOffset:e.resultOffset,geometry:e.geometry,where:e.where,orderByFields:e.orderByFields,returnGeometry:e.returnGeometry,returnIdsOnly:e.returnIdsOnly,internal:e.internal}:{groupbypage:!0,spatialRel:e.spatialRel,relationParam:e.relationParam,outFields:e.outFields,resultRecordCount:e.resultRecordCount,useOIDpagination:e.useOIDpagination,generatedOid:e.generatedOid,groupByFieldsForStatistics:e.groupByFieldsForStatistics,resultOffset:e.resultOffset,outStatistics:e.outStatistics,geometry:e.geometry,where:e.where,orderByFields:e.orderByFields,returnGeometry:e.returnGeometry,returnIdsOnly:e.returnIdsOnly,internal:e.internal}}_getPhysicalPage(e,t,r){try{const t=e.pagesDefinition.internal.lastRetrieved,i=t,s=e.pagesDefinition.internal.lastPage,a=new Query/* default */.Z;return this._requestStandardised&&(a.sqlFormat="standard"),a.spatialRelationship=e.pagesDefinition.spatialRel,a.relationParameter=e.pagesDefinition.relationParam,a.outFields=e.pagesDefinition.outFields.split(","),a.num=e.pagesDefinition.resultRecordCount,a.start=e.pagesDefinition.internal.lastPage,a.geometry=e.pagesDefinition.geometry,a.where=e.pagesDefinition.where,a.orderByFields=""!==e.pagesDefinition.orderByFields?e.pagesDefinition.orderByFields.split(","):null,a.returnGeometry=e.pagesDefinition.returnGeometry,a.outSpatialReference=this.spatialReference,this.executeQuery(a,"execute").then((a=>{if(this._checkCancelled(r),e.pagesDefinition.internal.lastPage!==s)return"done";for(let t=0;t<a.features.length;t++)e.pagesDefinition.internal.set[i+t]=a.features[t].attributes[this._layer.objectIdField];if(!1===this._pageJustIds)for(let e=0;e<a.features.length;e++)this._featureCache[a.features[e].attributes[this._layer.objectIdField]]=a.features[e];return(void 0===a.exceededTransferLimit&&a.features.length!==e.pagesDefinition.resultRecordCount||!1===a.exceededTransferLimit)&&(e.pagesDefinition.internal.fullyResolved=!0),e.pagesDefinition.internal.lastRetrieved=t+a.features.length,e.pagesDefinition.internal.lastPage+=e.pagesDefinition.resultRecordCount,"done"}))}catch(i){return (0,promiseUtils/* reject */.d1)(i)}}_fieldsIncludingObjectId(e){if(null===e)return[this.objectIdField];const t=e.slice(0);if(t.indexOf("*")>-1)return t;let r=!1;for(const i of t)if(i.toUpperCase()===this.objectIdField.toUpperCase()){r=!0;break}return!1===r&&t.push(this.objectIdField),t}_getFeatures(e,t,r,i){const s=[];try{if(-1!==t&&void 0===this._featureCache[t]&&s.push(t),!0===this._checkIfNeedToExpandKnownPage(e,this._maxProcessingRate()))return this._expandPagedSet(e,this._maxProcessingRate(),0,0,i).then((()=>this._getFeatures(e,t,r,i)));let n=0;for(let i=e._lastFetchedIndex;i<e._known.length;i++){if(e._lastFetchedIndex+=1,n++,void 0===this._featureCache[e._known[i]]){let r=!1;if(null!==this._layer._mode&&void 0!==this._layer._mode){const t=this._layer._mode;if(void 0!==t._featureMap[e._known[i]]){const s=t._featureMap[e._known[i]];null!==s&&(r=!0,this._featureCache[e._known[i]]=s)}}if(!1===r&&(e._known[i]!==t&&s.push(e._known[i]),s.length>=this._maxProcessingRate()-1))break}if(n>=r&&0===s.length)break}if(0===s.length)return (0,promiseUtils/* resolve */.DB)("success");try{const e=new Query/* default */.Z;return this._requestStandardised&&(e.sqlFormat="standard"),e.objectIds=s,e.outFields=null!==this._overrideFields?this._overrideFields:this._fieldsIncludingObjectId(this._layer.outFields?this._layer.outFields:["*"]),e.returnGeometry=!0,!0===this._removeGeometry&&(e.returnGeometry=!1),e.outSpatialReference=this.spatialReference,this.executeQuery(e,"execute").then((e=>{if(this._checkCancelled(i),void 0!==e.error)return (0,promiseUtils/* reject */.d1)(new Error(e.error));for(let t=0;t<e.features.length;t++)this._featureCache[e.features[t].attributes[this._layer.objectIdField]]=e.features[t];return"success"}))}catch(a){return (0,promiseUtils/* reject */.d1)(a)}}catch(a){return (0,promiseUtils/* reject */.d1)(a)}}_getDistinctPages(e,t,r,i,s,a,n,l,o){return this._ensureLoaded().then((()=>this.databaseType())).then((u=>{let h=r.parseTree.column;for(let e=0;e<this._layer.fields.length;e++)if(this._layer.fields[e].name.toLowerCase()===h.toLowerCase()){h=this._layer.fields[e].name;break}const p=new Query/* default */.Z;this._requestStandardised&&(p.sqlFormat="standard");let c=null===a?null===s?"1=1":"":(0,sqlUtils/* toWhereClause */.zR)(a,u);return this._layer.definitionExpression&&this._useDefinitionExpression&&(c=""!==c?"(("+this._layer.definitionExpression+") AND ("+c+"))":this._layer.definitionExpression),p.where=c,p.spatialRelationship=this._makeRelationshipEnum(i),p.relationParameter=this._makeRelationshipParam(i),p.geometry=null===s?null:s,p.returnDistinctValues=!0,p.returnGeometry=!1,p.outFields=[h],this.executeQuery(p,"execute").then((u=>{if(this._checkCancelled(o),!u.hasOwnProperty("features"))return (0,promiseUtils/* reject */.d1)(new Error("Unnexected Result querying statistics from layer"));let d=!1;for(let e=0;e<this._layer.fields.length;e++)if(this._layer.fields[e].name===h){"date"===this._layer.fields[e].type&&(d=!0);break}for(let e=0;e<u.features.length;e++){if(d){const t=u.features[e].attributes[h];null!==t?l.push(new Date(t)):l.push(t)}else l.push(u.features[e].attributes[h]);if(l.length>=n)break}return 0===u.features.length?l:u.features.length===this._layer.capabilities.query.maxRecordCount&&l.length<n?this._getDistinctPages(e+u.features.length,t,r,i,s,a,n,l,o).then((e=>({calculated:!0,result:e}))):l}))}))}_distinctStat(e,t,r,i,s,a,n){return this._getDistinctPages(0,e,t,r,i,s,a,[],n).then((e=>({calculated:!0,result:e})))}isTable(){return this._layer.isTable||null===this._layer.geometryType||"table"===this._layer.type||""===this._layer.geometryType}_countstat(e,t,r,i){return this.databaseType().then((e=>{const s=new Query/* default */.Z;if(this._requestStandardised&&(s.sqlFormat="standard"),this.isTable()&&r&&null!==t&&""!==t)return{calculated:!0,result:0};let a=null===i?null===r?"1=1":"":(0,sqlUtils/* toWhereClause */.zR)(i,e);return this._layer.definitionExpression&&this._useDefinitionExpression&&(a=""!==a?"(("+this._layer.definitionExpression+") AND ("+a+"))":this._layer.definitionExpression),s.where=a,s.where=a,s.spatialRelationship=this._makeRelationshipEnum(t),s.relationParameter=this._makeRelationshipParam(t),s.geometry=null===r?null:r,s.returnGeometry=!1,this.executeQuery(s,"executeForCount").then((e=>({calculated:!0,result:e})))}))}_stats(e,t,r,i,s,a,n){return this._ensureLoaded().then((()=>{const l=this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsSqlExpression,o=this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsStatistics,u=this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsDistinct;return"count"===e?u?this._countstat(e,r,i,s):{calculated:!1}:!1===o||!1===(0,sqlUtils/* isSingleField */.y5)(t)&&!1===l||!1===t.isStandardized?""!==r||null!==s?{calculated:!1}:this._manualStat(e,t,a,n):"distinct"===e?!1===u?""!==r||null!==s?{calculated:!1}:this._manualStat(e,t,a,n):this._distinctStat(e,t,r,i,s,a,n):this.databaseType().then((a=>{if(this.isTable()&&i&&null!==r&&""!==r)return{calculated:!0,result:null};const n=new Query/* default */.Z;this._requestStandardised&&(n.sqlFormat="standard");let l=null===s?null===i?"1=1":"":(0,sqlUtils/* toWhereClause */.zR)(s,a);this._layer.definitionExpression&&this._useDefinitionExpression&&(l=""!==l?"(("+this._layer.definitionExpression+") AND ("+l+"))":this._layer.definitionExpression),n.where=l,n.spatialRelationship=this._makeRelationshipEnum(r),n.relationParameter=this._makeRelationshipParam(r),n.geometry=null===i?null:i;const o=new StatisticDefinition/* default */.Z;o.statisticType=(0,stats/* decodeStatType */.g3)(e),o.onStatisticField=(0,sqlUtils/* toWhereClause */.zR)(t,a),o.outStatisticFieldName="ARCADE_STAT_RESULT",n.returnGeometry=!1;let u="ARCADE_STAT_RESULT";return n.outStatistics=[o],this.executeQuery(n,"execute").then((e=>{if(!e.hasOwnProperty("features")||0===e.features.length)return (0,promiseUtils/* reject */.d1)(new Error("Unnexected Result querying statistics from layer"));let t=!1;for(let r=0;r<e.fields.length;r++)if("ARCADE_STAT_RESULT"===e.fields[r].name.toUpperCase()){u=e.fields[r].name,"date"===e.fields[r].type&&(t=!0);break}if(t){let t=e.features[0].attributes[u];return null!==t&&(t=new Date(e.features[0].attributes[u])),{calculated:!0,result:t}}return{calculated:!0,result:e.features[0].attributes[u]}}))}))}))}_stat(e,t,r,i,s,a,n){return this._stats(e,t,r,i,s,a,n)}_canDoAggregates(e,t){return this._ensureLoaded().then((()=>{let e=!1;const r=this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsSqlExpression;if(void 0!==this._layer.capabilities&&null!==this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsStatistics&&!0===this._layer.capabilities.query.supportsOrderBy&&(e=!0),e)for(let i=0;i<t.length-1;i++)null!==t[i].workingexpr&&(!1===t[i].workingexpr.isStandardized||!1===(0,sqlUtils/* isSingleField */.y5)(t[i].workingexpr)&&!1===r)&&(e=!1);return!1!==e}))}_makeRelationshipEnum(e){if(e.indexOf("esriSpatialRelRelation")>=0)return"relation";switch(e){case"esriSpatialRelRelation":return"relation";case"esriSpatialRelIntersects":return"intersects";case"esriSpatialRelContains":return"contains";case"esriSpatialRelOverlaps":return"overlaps";case"esriSpatialRelWithin":return"within";case"esriSpatialRelTouches":return"touches";case"esriSpatialRelCrosses":return"crosses";case"esriSpatialRelEnvelopeIntersects":return"envelope-intersects"}return e}_makeRelationshipParam(e){return e.indexOf("esriSpatialRelRelation")>=0?e.split(":")[1]:""}_getAggregatePagesDataSourceDefinition(e,t,r,i,a,n,l){return this._ensureLoaded().then((()=>this.databaseType())).then((o=>{let u="",h=!1,p=!1;null!==n&&this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsOrderBy&&(u=n.constructClause(),p=!0),this._layer.capabilities&&this._layer.capabilities.query&&!1===this._layer.capabilities.query.supportsPagination&&(p=!1,h=!0,u=this._layer.objectIdField);const c=[];for(let e=0;e<t.length;e++){const r=new StatisticDefinition/* default */.Z;r.onStatisticField=null!==t[e].workingexpr?(0,sqlUtils/* toWhereClause */.zR)(t[e].workingexpr,o):"",r.outStatisticFieldName=t[e].field,r.statisticType=t[e].toStatisticsName(),c.push(r)}""===u&&(u=e.join(","));let y=this._maxQueryRate();const f=this._layer.capabilities.query.maxRecordCount;void 0!==f&&f<y&&(y=f);let _=null===a?null===i?"1=1":"":(0,sqlUtils/* toWhereClause */.zR)(a,o);this._layer.definitionExpression&&this._useDefinitionExpression&&(_=""!==_?"(("+this._layer.definitionExpression+") AND ("+_+"))":this._layer.definitionExpression);return new IdSet/* default */.Z([],["GETPAGES"],p,{groupbypage:!0,spatialRel:this._makeRelationshipEnum(r),relationParam:this._makeRelationshipParam(r),outFields:["*"],useOIDpagination:h,generatedOid:l,resultRecordCount:y,resultOffset:0,groupByFieldsForStatistics:e,outStatistics:c,geometry:null===i?null:i,where:_,orderByFields:u,returnGeometry:!1,returnIdsOnly:!1,internal:{lastMaxId:-1,set:[],lastRetrieved:0,lastPage:0,fullyResolved:!1}})}))}_getAgregagtePhysicalPage(t,r,i){try{let r=t.pagesDefinition.where;!0===t.pagesDefinition.useOIDpagination&&(r=""!==r?"("+r+") AND ("+t.pagesDefinition.generatedOid+">"+t.pagesDefinition.internal.lastMaxId.toString()+")":t.pagesDefinition.generatedOid+">"+t.pagesDefinition.internal.lastMaxId.toString());const s=t.pagesDefinition.internal.lastRetrieved,a=s,n=t.pagesDefinition.internal.lastPage,l=new Query/* default */.Z;return this._requestStandardised&&(l.sqlFormat="standard"),l.where=r,l.spatialRelationship=t.pagesDefinition.spatialRel,l.relationParameter=t.pagesDefinition.relationParam,l.outFields=t.pagesDefinition.outFields,l.outStatistics=t.pagesDefinition.outStatistics,l.geometry=t.pagesDefinition.geometry,l.groupByFieldsForStatistics=t.pagesDefinition.groupByFieldsForStatistics,l.num=t.pagesDefinition.resultRecordCount,l.start=t.pagesDefinition.internal.lastPage,l.returnGeometry=t.pagesDefinition.returnGeometry,l.orderByFields=""!==t.pagesDefinition.orderByFields?t.pagesDefinition.orderByFields.split(","):null,this.isTable()&&l.geometry&&l.spatialRelationship?(0,promiseUtils/* resolve */.DB)([]):this.executeQuery(l,"execute").then((r=>{if(this._checkCancelled(i),!r.hasOwnProperty("features"))return (0,promiseUtils/* reject */.d1)(new Error("Unnexected Result querying aggregates from layer"));const l=[];if(t.pagesDefinition.internal.lastPage!==n)return[];for(let e=0;e<r.features.length;e++)t.pagesDefinition.internal.set[a+e]=r.features[e].attributes[t.pagesDefinition.generatedOid];for(let t=0;t<r.features.length;t++)l.push(new Graphic/* default */.Z({attributes:r.features[t].attributes,geometry:null}));return!0===t.pagesDefinition.useOIDpagination?0===r.features.length?t.pagesDefinition.internal.fullyResolved=!0:t.pagesDefinition.internal.lastMaxId=r.features[r.features.length-1].attributes[t.pagesDefinition.generatedOid]:(void 0===r.exceededTransferLimit&&r.features.length!==t.pagesDefinition.resultRecordCount||!1===r.exceededTransferLimit)&&(t.pagesDefinition.internal.fullyResolved=!0),t.pagesDefinition.internal.lastRetrieved=s+r.features.length,t.pagesDefinition.internal.lastPage+=t.pagesDefinition.resultRecordCount,l}))}catch(s){return (0,promiseUtils/* reject */.d1)(s)}}static create(e,t,r,i,s){const a=new FeatureLayer["default"]({url:e,outFields:null===t?["*"]:t});return new j({layer:a,spatialReference:r,lrucache:i,interceptor:s})}relationshipMetaData(){return this._layer&&this._layer.source&&this._layer.source.sourceJSON&&this._layer.source.sourceJSON.relationships?this._layer.source.sourceJSON.relationships:[]}serviceUrl(){return (0,shared/* extractServiceUrl */.US)(this._layer.parsedUrl.path)}queryAttachments(e,t,i,s,a){if(this._layer.capabilities.data.supportsAttachment&&this._layer.capabilities.operations.supportsQueryAttachments){const n={objectIds:[e],returnMetadata:a};return(t&&t>0||i&&i>0)&&(n.size=[t&&t>0?t:0,i&&i>0?i:t+1]),s&&s.length>0&&(n.attachmentTypes=s),this.featureSetQueryInterceptor&&this.featureSetQueryInterceptor.preLayerQueryCallback({layer:this._layer,query:n,method:"attachments"}),this._layer.queryAttachments(n).then((t=>{const i=[];return t&&t[e]&&t[e].forEach((t=>{const s=this._layer.parsedUrl.path+"/"+e.toString()+"/attachments/"+t.id.toString();let n=null;a&&t.exifInfo&&(n=Dictionary/* default.convertJsonToArcade */.Z.convertJsonToArcade(t.exifInfo,!0)),i.push(new Attachment/* default */.Z(t.id,t.name,t.contentType,t.size,s,n))})),i}))}return (0,promiseUtils/* resolve */.DB)([])}queryRelatedFeatures(r){const i={f:"json",relationshipId:r.relationshipId.toString(),definitionExpression:r.where,outFields:r.outFields.join(","),returnGeometry:r.returnGeometry.toString()};return void 0!==r.resultOffset&&null!==r.resultOffset&&(i.resultOffset=r.resultOffset.toString()),void 0!==r.resultRecordCount&&null!==r.resultRecordCount&&(i.resultRecordCount=r.resultRecordCount.toString()),r.orderByFields&&(i.orderByFields=r.orderByFields.join(",")),r.objectIds.length>0&&(i.objectIds=r.objectIds.join(",")),r.outSpatialReference&&(i.outSR=JSON.stringify(r.outSpatialReference.toJSON())),this.featureSetQueryInterceptor&&this.featureSetQueryInterceptor.preRequestCallback({layer:this._layer,queryPayload:i,method:"relatedrecords",url:this._layer.parsedUrl.path+"/queryRelatedRecords"}),(0,request["default"])(this._layer.parsedUrl.path+"/queryRelatedRecords",{responseType:"json",query:i}).then((t=>{if(t.data){const r={},i=t.data;if(i&&i.relatedRecordGroups){const t=i.spatialReference;for(const s of i.relatedRecordGroups){const a=s.objectId,n=[];for(const r of s.relatedRecords){r.geometry&&(r.geometry.spatialReference=t);const i=new Graphic/* default */.Z({geometry:r.geometry?(0,jsonUtils/* fromJSON */.im)(r.geometry):null,attributes:r.attributes});n.push(i)}r[a]={features:n,exceededTransferLimit:!0===i.exceededTransferLimit}}}return r}return (0,promiseUtils/* reject */.d1)("Invalid Request")}))}getFeatureByObjectId(e,t){const r=new Query/* default */.Z;return r.outFields=t,r.returnGeometry=!1,r.outSpatialReference=this.spatialReference,r.where=this.objectIdField+"="+e.toString(),this.featureSetQueryInterceptor&&this.featureSetQueryInterceptor.preLayerQueryCallback({layer:this._layer,query:r,method:"execute"}),(0,executeQueryJSON/* executeQueryJSON */.e)(this._layer.parsedUrl.path,r).then((e=>1===e.features.length?e.features[0]:null))}getIdentityUser(){return this.load().then((()=>{var e;const t=null==(e=kernel.id)?void 0:e.findCredential(this._layer.url);return t?t.userId:null}))}getOwningSystemUrl(){return this.load().then((()=>{var e;const r=null==(e=kernel.id)?void 0:e.findServerInfo(this._layer.url);if(r)return (0,promiseUtils/* resolve */.DB)(r.owningSystemUrl);let i=this._layer.url;const s=i.toLowerCase().indexOf("/rest/services");return i=s>-1?i.substring(0,s):i,i?(i+="/rest/info",(0,promiseUtils/* create */.Ue)(((e,r)=>{(0,request["default"])(i,{query:{f:"json"}}).then((t=>{let r="";t.data&&t.data.owningSystemUrl&&(r=t.data.owningSystemUrl),e(r)}),(t=>{e("")}))}))):(0,promiseUtils/* resolve */.DB)("")}))}getDataSourceFeatureSet(){const e=new j({layer:this._layer,spatialReference:this.spatialReference,outFields:this._overrideFields,includeGeometry:!this._removeGeometry,lrucache:this.recentlyUsedQueries,interceptor:this.featureSetQueryInterceptor});return e._useDefinitionExpression=!1,e}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/sources/FeatureLayerMemory.js\nvar FeatureLayerMemory = __webpack_require__(20155);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/arcade/featureset/sources/FeatureLayerRelated.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass u extends FeatureSet/* default */.Z{constructor(e){super(e),this.declaredClass="esri.arcade.featureset.sources.FeatureLayerRelated",this._findObjectId=-1,this._requestStandardised=!1,this._removeGeometry=!1,this._overrideFields=null,this.featureObjectId=null,this.relatedLayer=null,this.relationship=null,e.spatialReference&&(this.spatialReference=e.spatialReference),this._transparent=!0,this._maxProcessing=1e3,this._layer=e.layer,this._wset=null,this._findObjectId=e.objectId,this.featureObjectId=e.objectId,this.relationship=e.relationship,this.relatedLayer=e.relatedLayer,void 0!==e.outFields&&(this._overrideFields=e.outFields),void 0!==e.includeGeometry&&(this._removeGeometry=!1===e.includeGeometry)}_maxQueryRate(){return shared/* defaultMaxRecords */.tI}end(){return this._layer}optimisePagingFeatureQueries(){}load(){return null===this._loadPromise&&(this._loadPromise=(0,promiseUtils/* create */.Ue)(((e,t)=>{(0,promiseUtils/* all */.$6)([this._layer.load(),this.relatedLayer.load()]).then((()=>{this._initialiseFeatureSet(),e(this)}),t)}))),this._loadPromise}nativeCapabilities(){return this.relatedLayer.nativeCapabilities()}_initialiseFeatureSet(){if(null==this.spatialReference&&(this.spatialReference=this._layer.spatialReference),this.geometryType=this.relatedLayer.geometryType,this.fields=this.relatedLayer.fields.slice(0),null!==this._overrideFields)if(1===this._overrideFields.length&&"*"===this._overrideFields[0])this._overrideFields=null;else{const e=[],t=[];for(const r of this.fields)if("oid"===r.type)e.push(r),t.push(r.name);else for(const i of this._overrideFields)if(i.toLowerCase()===r.name.toLowerCase()){e.push(r),t.push(r.name);break}this.fields=e,this._overrideFields=t}const e=this._layer.nativeCapabilities();e&&(this._databaseType=e.databaseType,this._requestStandardised=e.requestStandardised),this.objectIdField=this.relatedLayer.objectIdField,this.globalIdField=this.relatedLayer.globalIdField,this.hasM=this.relatedLayer.supportsM,this.hasZ=this.relatedLayer.supportsZ,this.typeIdField=this.relatedLayer.typeIdField,this.types=this.relatedLayer.types}databaseType(){return this.relatedLayer.databaseType().then((()=>(this._databaseType=this.relatedLayer._databaseType,this._databaseType)))}isTable(){return this.relatedLayer.isTable()}_isInFeatureSet(){return shared/* IdState.InFeatureSet */.dj.InFeatureSet}_candidateIdTransform(e){return e}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._getFilteredSet("",null,null,null,e))).then((e=>(this._wset=e,e))):(0,promiseUtils/* resolve */.DB)(this._wset)}_changeFeature(t){const r={};for(const e of this.fields)r[e.name]=t.attributes[e.name];return new Graphic/* default */.Z({geometry:!0===this._removeGeometry?null:t.geometry,attributes:r})}_getFilteredSet(e,t,i,s,a){return this.databaseType().then((()=>{if(this.isTable()&&t&&null!==e&&""!==e){return new IdSet/* default */.Z([],[],!0,null)}const n=this._layer.nativeCapabilities();if(!1===n.canQueryRelated){return new IdSet/* default */.Z([],[],!0,null)}if(n.capabilities.queryRelated&&n.capabilities.queryRelated.supportsPagination)return this._getFilteredSetUsingPaging(e,t,i,s,a);let l="",d=!1;null!==s&&n.capabilities&&n.capabilities.queryRelated&&!0===n.capabilities.queryRelated.supportsOrderBy&&(l=s.constructClause(),d=!0);const u=new RelationshipQuery/* default */.Z;u.objectIds=[this._findObjectId];const h=null!==this._overrideFields?this._overrideFields:this._fieldsIncludingObjectId(this.relatedLayer.fields?this.relatedLayer.fields.map((e=>e.name)):["*"]);u.outFields=h,u.relationshipId=this.relationship.id,u.where="1=1";let c=!0;return!0===this._removeGeometry&&(c=!1),u.returnGeometry=c,this._requestStandardised&&(u.sqlFormat="standard"),u.outSpatialReference=this.spatialReference,u.orderByFields=""!==l?l.split(","):null,n.source.queryRelatedFeatures(u).then((s=>{this._checkCancelled(a);const n=s[this._findObjectId]?s[this._findObjectId].features:[],l=[];for(let e=0;e<n.length;e++)this._featureCache[n[e].attributes[this.relatedLayer.objectIdField]]=n[e],l.push(n[e].attributes[this.relatedLayer.objectIdField]);const o=t&&null!==e&&""!==e,u=null!=i;return new IdSet/* default */.Z(o||u?l:[],o||u?[]:l,d,null)}))}))}_fieldsIncludingObjectId(e){if(null===e)return[this.objectIdField];const t=e.slice(0);if(t.indexOf("*")>-1)return t;let r=!1;for(const i of t)if(i.toUpperCase()===this.objectIdField.toUpperCase()){r=!0;break}return!1===r&&t.push(this.objectIdField),t}_getFilteredSetUsingPaging(e,t,i,s,a){try{let n="",l=!1;const d=this._layer.nativeCapabilities();return null!==s&&d&&d.capabilities.queryRelated&&!0===d.capabilities.queryRelated.supportsOrderBy&&(n=s.constructClause(),l=!0),this.databaseType().then((()=>{const s="1=1";let o=this._maxQueryRate();const u=d.capabilities.query.maxRecordCount;void 0!==u&&u<o&&(o=u);const h=t&&null!==e&&""!==e,c=null!=i;let p=null,y=!0;!0===this._removeGeometry&&(y=!1);const f=null!==this._overrideFields?this._overrideFields:this._fieldsIncludingObjectId(this.relatedLayer.fields?this.relatedLayer.fields.map((e=>e.name)):["*"]);return p=new IdSet/* default */.Z(h||c?["GETPAGES"]:[],h||c?[]:["GETPAGES"],l,{outFields:f.join(","),resultRecordCount:o,resultOffset:0,objectIds:[this._findObjectId],where:s,orderByFields:n,returnGeometry:y,returnIdsOnly:"false",internal:{set:[],lastRetrieved:0,lastPage:0,fullyResolved:!1}}),this._expandPagedSet(p,o,0,0,a).then((()=>p))}))}catch(n){return (0,promiseUtils/* reject */.d1)(n)}}_expandPagedSet(e,t,r,i,s){return this._expandPagedSetFeatureSet(e,t,r,i,s)}_clonePageDefinition(e){return null===e?null:!0!==e.groupbypage?{groupbypage:!1,outFields:e.outFields,resultRecordCount:e.resultRecordCount,resultOffset:e.resultOffset,where:e.where,objectIds:e.objectIds,orderByFields:e.orderByFields,returnGeometry:e.returnGeometry,returnIdsOnly:e.returnIdsOnly,internal:e.internal}:{groupbypage:!0,outFields:e.outFields,resultRecordCount:e.resultRecordCount,useOIDpagination:e.useOIDpagination,generatedOid:e.generatedOid,groupByFieldsForStatistics:e.groupByFieldsForStatistics,resultOffset:e.resultOffset,outStatistics:e.outStatistics,geometry:e.geometry,where:e.where,objectIds:e.objectIds,orderByFields:e.orderByFields,returnGeometry:e.returnGeometry,returnIdsOnly:e.returnIdsOnly,internal:e.internal}}_getPhysicalPage(e,t,r){try{const t=e.pagesDefinition.internal.lastRetrieved,i=t,s=e.pagesDefinition.internal.lastPage,a=this._layer.nativeCapabilities(),n=new RelationshipQuery/* default */.Z;return!0===this._requestStandardised&&(n.sqlFormat="standard"),n.relationshipId=this.relationship.id,n.objectIds=e.pagesDefinition.objectIds,n.resultOffset=e.pagesDefinition.internal.lastPage,n.resultRecordCount=e.pagesDefinition.resultRecordCount,n.outFields=e.pagesDefinition.outFields.split(","),n.where=e.pagesDefinition.where,n.orderByFields=""!==e.pagesDefinition.orderByFields?e.pagesDefinition.orderByFields.split(","):null,n.returnGeometry=e.pagesDefinition.returnGeometry,n.outSpatialReference=this.spatialReference,a.source.queryRelatedFeatures(n).then((a=>{if(this._checkCancelled(r),e.pagesDefinition.internal.lastPage!==s)return 0;const n=a[this._findObjectId]?a[this._findObjectId].features:[];for(let t=0;t<n.length;t++)e.pagesDefinition.internal.set[i+t]=n[t].attributes[this.relatedLayer.objectIdField];for(let e=0;e<n.length;e++)this._featureCache[n[e].attributes[this.relatedLayer.objectIdField]]=n[e];const l=!a[this._findObjectId]||!1===a[this._findObjectId].exceededTransferLimit;return n.length!==e.pagesDefinition.resultRecordCount&&l&&(e.pagesDefinition.internal.fullyResolved=!0),e.pagesDefinition.internal.lastRetrieved=t+n.length,e.pagesDefinition.internal.lastPage+=e.pagesDefinition.resultRecordCount,n.length}))}catch(i){return (0,promiseUtils/* reject */.d1)(i)}}_getFeatures(e,t,r,i){const s=[];-1!==t&&void 0===this._featureCache[t]&&s.push(t);const a=this._maxQueryRate();if(!0===this._checkIfNeedToExpandKnownPage(e,a))return this._expandPagedSet(e,a,0,0,i).then((()=>this._getFeatures(e,t,r,i)));let n=0;for(let l=e._lastFetchedIndex;l<e._known.length&&(n++,n<=r&&(e._lastFetchedIndex+=1),!("GETPAGES"!==e._known[l]&&void 0===this._featureCache[e._known[l]]&&(e._known[l]!==t&&s.push(e._known[l]),s.length>r)))&&!(n>=r&&0===s.length);l++);return 0===s.length?(0,promiseUtils/* resolve */.DB)("success"):(0,promiseUtils/* reject */.d1)(new Error("Unaccounted for Features. Not in Feature Collection"))}_refineSetBlock(e,t,r){return (0,promiseUtils/* resolve */.DB)(e)}_stat(e,t,r,i,s,a,n){return (0,promiseUtils/* resolve */.DB)({calculated:!1})}get gdbVersion(){return this.relatedLayer.gdbVersion}_canDoAggregates(e,t,r,i,s){return (0,promiseUtils/* resolve */.DB)(!1)}relationshipMetaData(){return this.relatedLayer.relationshipMetaData()}serviceUrl(){return this.relatedLayer.serviceUrl()}queryAttachments(e,t,r,i,s){return this.relatedLayer.queryAttachments(e,t,r,i,s)}getFeatureByObjectId(e,t){return this.relatedLayer.getFeatureByObjectId(e,t)}getOwningSystemUrl(){return this.relatedLayer.getOwningSystemUrl()}getIdentityUser(){return this.relatedLayer.getIdentityUser()}getDataSourceFeatureSet(){return this.relatedLayer}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/arcade/featureset/support/cache.js\nvar cache = __webpack_require__(73566);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/Portal.js + 1 modules\nvar Portal = __webpack_require__(26869);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/PortalItem.js + 2 modules\nvar PortalItem = __webpack_require__(53110);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/arcade/featureSetUtils.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction N(){null===cache/* default.applicationCache */.Z.applicationCache&&(cache/* default.applicationCache */.Z.applicationCache=new cache/* default */.Z)}function F(e,t){if(cache/* default.applicationCache */.Z.applicationCache){const r=cache/* default.applicationCache.getLayerInfo */.Z.applicationCache.getLayerInfo(e);if(r)return r.then((r=>(0,promiseUtils/* resolve */.DB)(new FeatureLayer["default"]({url:e,outFields:t,sourceJSON:r}))));const n=new FeatureLayer["default"]({url:e,outFields:t});let a=(0,promiseUtils/* create */.Ue)(((e,t)=>{n.load().then((()=>{e(n.sourceJSON)}),(e=>{t(e)}))}));return cache/* default.applicationCache */.Z.applicationCache&&(cache/* default.applicationCache.setLayerInfo */.Z.applicationCache.setLayerInfo(e,a),a=a.catch((t=>{throw cache/* default.applicationCache.clearLayerInfo */.Z.applicationCache.clearLayerInfo(e),t}))),a.then((()=>(0,promiseUtils/* resolve */.DB)(n)))}return (0,promiseUtils/* resolve */.DB)(new FeatureLayer["default"]({url:e,outFields:t}))}function T(e,t,r,n,a,s=null){return F(e,["*"]).then((e=>(0,promiseUtils/* resolve */.DB)(g(e,t,r,n,a,s))))}function g(e,t=null,r=null,n=!0,a=null,s=null){return!0===e._hasMemorySource()?new FeatureLayerMemory/* default */.Z({layer:e,spatialReference:t,outFields:r,includeGeometry:n,lrucache:a,interceptor:s}):new j({layer:e,spatialReference:t,outFields:r,includeGeometry:n,lrucache:a,interceptor:s})}function A(e){if(null!==cache/* default.applicationCache */.Z.applicationCache){const t=cache/* default.applicationCache.getLayerInfo */.Z.applicationCache.getLayerInfo(e);if(null!==t)return t}let r=(0,request["default"])(e,{responseType:"json",query:{f:"json"}}).then((e=>{if(e.data){const t=e.data;return (0,promiseUtils/* resolve */.DB)(t)}return (0,promiseUtils/* resolve */.DB)(null)}));return null!==cache/* default.applicationCache */.Z.applicationCache&&(cache/* default.applicationCache.setLayerInfo */.Z.applicationCache.setLayerInfo(e,r),r=r.catch((t=>{throw cache/* default.applicationCache.clearLayerInfo */.Z.applicationCache.clearLayerInfo(e),t}))),r}function featureSetUtils_C(e,r){const n="QUERYDATAELEMTS:"+r.toString()+":"+e;if(null!==cache/* default.applicationCache */.Z.applicationCache){const e=cache/* default.applicationCache.getLayerInfo */.Z.applicationCache.getLayerInfo(n);if(null!==e)return e}let a=(0,request["default"])(e+"/queryDataElements",{method:"post",responseType:"json",query:{layers:JSON.stringify([r.toString()]),f:"json"}}).then((e=>{if(e.data){const t=e.data;if(t.layerDataElements&&t.layerDataElements[0])return t.layerDataElements[0]}throw new Error("Not Found")}));return null!==cache/* default.applicationCache */.Z.applicationCache&&(cache/* default.applicationCache.setLayerInfo */.Z.applicationCache.setLayerInfo(n,a),a=a.catch((e=>{throw cache/* default.applicationCache.clearLayerInfo */.Z.applicationCache.clearLayerInfo(n),e}))),a}function k(e){if(null!==cache/* default.applicationCache */.Z.applicationCache){const t=cache/* default.applicationCache.getLayerInfo */.Z.applicationCache.getLayerInfo(e);if(null!==t)return t}let r=(0,request["default"])(e,{responseType:"json",query:{f:"json"}}).then((e=>{if(e.data){const t=e.data;return t.layers||(t.layers=[]),t.tables||(t.tables=[]),(0,promiseUtils/* resolve */.DB)(t)}return (0,promiseUtils/* resolve */.DB)({layers:[],tables:[]})}));return null!==cache/* default.applicationCache */.Z.applicationCache&&(cache/* default.applicationCache.setLayerInfo */.Z.applicationCache.setLayerInfo(e,r),r=r.catch((t=>{throw cache/* default.applicationCache.clearLayerInfo */.Z.applicationCache.clearLayerInfo(e),t}))),r}function featureSetUtils_j(e,t){const r={metadata:null,networkId:-1,unVersion:3,terminals:[],queryelem:null,layerNameLkp:{},lkp:null};return k(e).then((n=>{if(r.metadata=n,n.controllerDatasetLayers&&void 0!==n.controllerDatasetLayers.utilityNetworkLayerId&&null!==n.controllerDatasetLayers.utilityNetworkLayerId){if(n.layers)for(const e of n.layers)r.layerNameLkp[e.id]=e.name;if(n.tables)for(const e of n.tables)r.layerNameLkp[e.id]=e.name;const a=n.controllerDatasetLayers.utilityNetworkLayerId;return r.networkId=a,featureSetUtils_C(e,a).then((n=>{if(n){r.queryelem=n,r.queryelem&&r.queryelem.dataElement&&void 0!==r.queryelem.dataElement.schemaGeneration&&(r.unVersion=r.queryelem.dataElement.schemaGeneration),r.lkp={},r.queryelem.dataElement.domainNetworks||(r.queryelem.dataElement.domainNetworks=[]);for(const e of r.queryelem.dataElement.domainNetworks){for(const t of e.edgeSources?e.edgeSources:[]){const e={layerId:t.layerId,sourceId:t.sourceId,className:r.layerNameLkp[t.layerId]?r.layerNameLkp[t.layerId]:null};e.className&&(r.lkp[e.className]=e)}for(const t of e.junctionSources?e.junctionSources:[]){const e={layerId:t.layerId,sourceId:t.sourceId,className:r.layerNameLkp[t.layerId]?r.layerNameLkp[t.layerId]:null};e.className&&(r.lkp[e.className]=e)}}if(r.queryelem.dataElement.terminalConfigurations)for(const e of r.queryelem.dataElement.terminalConfigurations)for(const t of e.terminals)r.terminals.push({terminalId:t.terminalId,terminalName:t.terminalName});return A(e+"/"+a).then((n=>{if(n.systemLayers&&void 0!==n.systemLayers.associationsTableId&&null!==n.systemLayers.associationsTableId){const a=[];return r.unVersion>=4&&(a.push("STATUS"),a.push("PERCENTALONG")),T(e+"/"+n.systemLayers.associationsTableId.toString(),t,["OBJECTID","FROMNETWORKSOURCEID","TONETWORKSOURCEID","FROMGLOBALID","TOGLOBALID","TOTERMINALID","FROMTERMINALID","ASSOCIATIONTYPE","ISCONTENTVISIBLE","GLOBALID",...a],!1,null,null).then((e=>e.load())).then((e=>r.unVersion>=4?(e=e.filter(WhereClause.WhereClause.create("STATUS NOT IN (1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 22, 23, 25, 26, 27, 28, 29, 30, 31, 33, 34, 35, 36, 37, 38, 39, 41, 42, 43, 44, 45, 46, 47, 49, 50, 51, 52, 53, 54, 55, 57, 58, 59, 60, 61, 62,63)",e.getFieldsIndex()))).load():e)).then((e=>({lkp:r.lkp,associations:e,unVersion:r.unVersion,terminals:r.terminals})))}return{associations:null,unVersion:r.unVersion,lkp:null,terminals:[]}}))}return{associations:null,unVersion:r.unVersion,lkp:null,terminals:[]}}))}return{associations:null,unVersion:r.unVersion,lkp:null,terminals:[]}}))}function w(e,t,r,n=null,a=null,s=!0,i=null,l=null){let o=e.serviceUrl();return o?(o="/"===o.charAt(o.length-1)?o+t.relatedTableId.toString():o+"/"+t.relatedTableId.toString(),T(o,n,a,s,i,l).then((o=>new u({layer:e,relatedLayer:o,relationship:t,objectId:r,spatialReference:n,outFields:a,includeGeometry:s,lrucache:i,interceptor:l})))):null}AttributeFilter/* default.registerAction */.Z.registerAction(),G.registerAction(),OrderBy/* default.registerAction */.Z.registerAction(),SpatialFilter/* default.registerAction */.Z.registerAction(),Top/* default.registerAction */.Z.registerAction();class O extends featureSetCollection/* default */.Z{constructor(e,t=null,r=null,n=null){super(),this._map=e,this._overridespref=t,this.lrucache=r,this.interceptor=n,this._instantLayers=[]}_makeAndAddFeatureSet(e,t=!0,r=null){const n=g(e,this._overridespref,null===r?["*"]:r,t,this.lrucache,this.interceptor);return this._instantLayers.push({featureset:n,opitem:e,includeGeometry:t,outFields:JSON.stringify(r)}),n}featureSetByName(e,t=!0,r=null){if(void 0!==this._map.loaded&&void 0!==this._map.load&&!1===this._map.loaded)return this._map.load().then((()=>{try{return this.featureSetByName(e,t,r)}catch(n){return (0,promiseUtils/* reject */.d1)(n)}}));null===r&&(r=["*"]),r=(r=r.slice(0)).sort();const n=JSON.stringify(r);for(let s=0;s<this._instantLayers.length;s++){const r=this._instantLayers[s];if(r.opitem.title===e&&r.includeGeometry===t&&r.outFields===n)return this.resolvePromise(this._instantLayers[s].featureset)}const a=this._map.allLayers.find((t=>t instanceof FeatureLayer["default"]&&t.title===e));if(a)return this.resolvePromise(this._makeAndAddFeatureSet(a,t,r));if(this._map.tables){const n=this._map.tables.find((t=>!!(t.title&&t.title===e||t.title&&t.title===e)));if(n){if(n instanceof FeatureLayer["default"])return this.resolvePromise(this._makeAndAddFeatureSet(n,t,r));if(n._materializedTable);else{const e=n.outFields?n:{...n,outFields:["*"]};n._materializedTable=new FeatureLayer["default"](e)}return n._materializedTable.load().then((()=>this.resolvePromise(this._makeAndAddFeatureSet(n._materializedTable,t,r))))}}return this.resolvePromise(null)}featureSetById(e,t=!0,r=["*"]){if(void 0!==this._map.loaded&&void 0!==this._map.load&&!1===this._map.loaded)return this._map.load().then((()=>{try{return this.featureSetById(e,t,r)}catch(n){return (0,promiseUtils/* reject */.d1)(n)}}));null===r&&(r=["*"]),r=(r=r.slice(0)).sort();const n=JSON.stringify(r);for(let s=0;s<this._instantLayers.length;s++){const r=this._instantLayers[s];if(r.opitem.id===e&&r.includeGeometry===t&&r.outFields===n)return this.resolvePromise(this._instantLayers[s].featureset)}const a=this._map.allLayers.find((t=>t instanceof FeatureLayer["default"]&&t.id===e));if(a)return this.resolvePromise(this._makeAndAddFeatureSet(a,t,r));if(this._map.tables){const n=this._map.tables.find((t=>t.id===e));if(n){if(n instanceof FeatureLayer["default"])return this.resolvePromise(this._makeAndAddFeatureSet(n,t,r));if(n._materializedTable);else{const e={...n,outFields:["*"]};n._materializedTable=new FeatureLayer["default"](e)}return n._materializedTable.load().then((()=>this.resolvePromise(this._makeAndAddFeatureSet(n._materializedTable,t,r))))}}return this.resolvePromise(null)}}class v extends featureSetCollection/* default */.Z{constructor(e,t=null,r=null,n=null){super(),this._url=e,this._overridespref=t,this.lrucache=r,this.interceptor=n,this.metadata=null,this._instantLayers=[]}get url(){return this._url}_makeAndAddFeatureSet(e,t=!0,r=null){const n=g(e,this._overridespref,null===r?["*"]:r,t,this.lrucache);return this._instantLayers.push({featureset:n,opitem:e,includeGeometry:t,outFields:JSON.stringify(r)}),n}_loadMetaData(){return k(this._url).then((e=>(this.metadata=e,e)))}load(){return this._loadMetaData()}clone(){return new v(this._url,this._overridespref,this.lrucache,this.interceptor)}featureSetByName(e,t=!0,r=null){null===r&&(r=["*"]),r=(r=r.slice(0)).sort();const n=JSON.stringify(r);for(let a=0;a<this._instantLayers.length;a++){const r=this._instantLayers[a];if(r.opitem.title===e&&r.includeGeometry===t&&r.outFields===n)return this.resolvePromise(this._instantLayers[a].featureset)}return this._loadMetaData().then((n=>{let a=null;for(const t of n.layers?n.layers:[])t.name===e&&(a=t);if(!a)for(const t of n.tables?n.tables:[])t.name===e&&(a=t);return a?F(this._url+"/"+a.id,["*"]).then((e=>this._makeAndAddFeatureSet(e,t,r))):this.resolvePromise(null)}))}featureSetById(e,t=!0,r=["*"]){null===r&&(r=["*"]),r=(r=r.slice(0)).sort();const n=JSON.stringify(r);e=null!=e?e.toString():"";for(let a=0;a<this._instantLayers.length;a++){const r=this._instantLayers[a];if(r.opitem.id===e&&r.includeGeometry===t&&r.outFields===n)return this.resolvePromise(this._instantLayers[a].featureset)}return this._loadMetaData().then((n=>{let a=null;for(const t of n.layers?n.layers:[])null!==t.id&&void 0!==t.id&&t.id.toString()===e&&(a=t);if(!a)for(const t of n.tables?n.tables:[])null!==t.id&&void 0!==t.id&&t.id.toString()===e&&(a=t);return a?F(this._url+"/"+a.id,["*"]).then((e=>this._makeAndAddFeatureSet(e,t,r))):this.resolvePromise(null)}))}}function E(e,t,r=null,n=null){return new O(e,t,r,n)}function b(e,t,r=null,n=null){return new v(e,t,r,n)}function D(e,t){if(null===e)return t;return new Portal/* default */.Z({url:e.field("url")})}function q(r,n,a){return kernel.id.findCredential(r.restUrl)?"loaded"===r.loadStatus&&""===n&&r.user&&r.user.sourceJSON&&!1===a?(0,promiseUtils/* resolve */.DB)(r.user.sourceJSON):""===n?(0,request["default"])(r.restUrl+"/community/self",{responseType:"json",query:{f:"json",...!1===a?{}:{returnUserLicenseTypeExtensions:!0}}}).then((e=>{if(e.data){const t=e.data;if(t&&t.username)return (0,promiseUtils/* resolve */.DB)(t)}return (0,promiseUtils/* resolve */.DB)(null)})):(0,request["default"])(r.restUrl+"/community/users/"+n,{responseType:"json",query:{f:"json"}}).then((e=>{if(e.data){const t=e.data;return t.error?null:(0,promiseUtils/* resolve */.DB)(t)}return (0,promiseUtils/* resolve */.DB)(null)})):(0,promiseUtils/* resolve */.DB)(null)}function P(e,t,r,n,a){if(null===e)return null;if(e instanceof FeatureLayer["default"]){switch(t){case"datasource":return g(e,a,e.outFields,!0,r,n).getDataSourceFeatureSet();case"parent":case"root":return g(e,a,e.outFields,!0,r,n)}return null}if(e instanceof FeatureSet/* default */.Z)switch(t){case"datasource":return e.getDataSourceFeatureSet();case"parent":return e;case"root":return e.getRootFeatureSet()}return null}function featureSetUtils_G(e,t,r,n,a,s,i,l=null){if(cache/* default.applicationCache */.Z.applicationCache){const o=cache/* default.applicationCache.getLayerInfo */.Z.applicationCache.getLayerInfo(e+":"+s.url);if(o)return o.then((e=>{try{const s=new FeatureLayer["default"]({url:(0,shared/* extractServiceUrl */.US)(e.url)+"/"+t,outFields:["*"]});return (0,promiseUtils/* resolve */.DB)(g(s,r,n,a,i,l))}catch(s){return (0,promiseUtils/* reject */.d1)(s)}}),(e=>(0,promiseUtils/* reject */.d1)(e)))}return (0,promiseUtils/* create */.Ue)(((o,u)=>{const c=new PortalItem["default"]({id:e,portal:s}).load();cache/* default.applicationCache */.Z.applicationCache&&cache/* default.applicationCache.setLayerInfo */.Z.applicationCache.setLayerInfo(e+":"+s.url,c),c.then((e=>{try{const s=new FeatureLayer["default"]({url:(0,shared/* extractServiceUrl */.US)(e.url)+"/"+t,outFields:["*"]});o(g(s,r,n,a,i,l))}catch(s){u(s)}}),(t=>{cache/* default.applicationCache */.Z.applicationCache&&cache/* default.applicationCache.clearLayerInfo */.Z.applicationCache.clearLayerInfo(e+":"+s.url),u(t)}))}))}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/arcade/featureSetUtils.js_+_4_modules?')},45712:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "$X": () => (/* binding */ w),\n/* harmony export */   "QP": () => (/* binding */ v),\n/* harmony export */   "TO": () => (/* binding */ C),\n/* harmony export */   "Xx": () => (/* binding */ E),\n/* harmony export */   "yN": () => (/* binding */ T)\n/* harmony export */ });\n/* unused harmony export AdaptedField */\n/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80085);\n/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4080);\n/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(24270);\n/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(77732);\n/* harmony import */ var _support_shared_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(68673);\n/* harmony import */ var _support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62294);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(78668);\n/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3362);\n/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(14685);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass m{constructor(e){this.field=e,this.sqlRewritable=!1}postInitialization(e,t){}}class w extends m{constructor(e){super(e),this.sqlRewritable=!0}extractValue(e){return e.attributes[this.field.name]}rewriteSql(e){return{rewritten:this.sqlRewritable,where:e}}}class v extends m{constructor(e,t,r){super((0,_support_shared_js__WEBPACK_IMPORTED_MODULE_3__/* .cloneField */ .JW)(e)),this.originalField=e,this.sqlRewritable=!0,this.field.name=t,this.field.alias=r}rewriteSql(e,t){return{rewritten:this.sqlRewritable,where:(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .reformulateWithoutField */ .bB)(e,this.field.name,this.originalField.name,t.getFieldsIndex())}}extractValue(e){return e.attributes[this.originalField.name]}}class C extends m{constructor(e,t,r){super(e),this.codefield=t,this.lkp=r,this.reverseLkp={};for(const s in r)this.reverseLkp[r[s]]=s;this.sqlRewritable=!0}rewriteSql(e,t){const r=this.evaluateNodeToWhereClause(e.parseTree,_support_shared_js__WEBPACK_IMPORTED_MODULE_3__/* .FeatureServiceDatabaseType.Standardised */ .Bj.Standardised,this.field.name,this.codefield instanceof _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__.WhereClause?(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .toWhereClause */ .zR)(this.codefield,_support_shared_js__WEBPACK_IMPORTED_MODULE_3__/* .FeatureServiceDatabaseType.Standardised */ .Bj.Standardised):this.codefield,e.parameters);return r.indexOf(C.BADNESS)>=0?{rewritten:!1,where:e}:{rewritten:this.sqlRewritable,where:_core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__.WhereClause.create(r,t._parent.getFieldsIndex())}}evaluateNodeToWhereClause(e,t,r=null,s=null,a){let i,l,n,o;switch(e.type){case"interval":return (0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .convertIntervalToSql */ .TE)(this.evaluateNodeToWhereClause(e.value,t,r,s,a),e.qualifier,e.op);case"case_expression":{let s=" CASE ";"simple"===e.format&&(s+=this.evaluateNodeToWhereClause(e.operand,t,r,C.BADNESS,a));for(let i=0;i<e.clauses.length;i++)s+=" WHEN "+this.evaluateNodeToWhereClause(e.clauses[i].operand,t,r,C.BADNESS,a)+" THEN "+this.evaluateNodeToWhereClause(e.clauses[i].value,t,r,C.BADNESS,a);return null!==e.else&&(s+=" ELSE "+this.evaluateNodeToWhereClause(e.else,t,r,C.BADNESS,a)),s+=" END ",s}case"param":{const r=a[e.value.toLowerCase()];if("string"==typeof r){return"\'"+a[e.value.toLowerCase()].toString().replace(/\'/g,"\'\'")+"\'"}if(r instanceof Date)return (0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .makeDateString */ .oX)(r,t);if(r instanceof Array){const e=[];for(let s=0;s<r.length;s++)"string"==typeof r[s]?e.push("\'"+r[s].toString().replace(/\'/g,"\'\'")+"\'"):r[s]instanceof Date?e.push((0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .makeDateString */ .oX)(r[s],t)):e.push(r[s].toString());return e}return r.toString()}case"expr_list":l=[];for(const i of e.value)l.push(this.evaluateNodeToWhereClause(i,t,r,s,a));return l;case"unary_expr":return" ( NOT "+this.evaluateNodeToWhereClause(e.expr,t,r,C.BADNESS,a)+" ) ";case"binary_expr":switch(e.operator){case"AND":return" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" AND "+this.evaluateNodeToWhereClause(e.right,t,r,s,a)+") ";case"OR":return" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" OR "+this.evaluateNodeToWhereClause(e.right,t,r,s,a)+") ";case"IS":if("null"!==e.right.type)throw new Error("Unsupported RHS for IS");return" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" IS NULL )";case"ISNOT":if("null"!==e.right.type)throw new Error("Unsupported RHS for IS");return" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" IS NOT NULL )";case"IN":if(i=[],"expr_list"===e.right.type){if("column_ref"===e.left.type&&e.left.column.toUpperCase()===this.field.name.toUpperCase()){const i=[];let l=!0;for(const t of e.right.value){if("string"!==t.type){l=!1;break}if(void 0===this.lkp[t.value]){l=!1;break}i.push(this.lkp[t.value].toString())}if(l)return" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" IN ("+i.join(",")+")) "}return i=this.evaluateNodeToWhereClause(e.right,t,r,s,a)," ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" IN ("+i.join(",")+")) "}return o=this.evaluateNodeToWhereClause(e.right,t,r,s,a),o instanceof Array?" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" IN ("+o.join(",")+")) ":" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" IN ("+o+")) ";case"NOT IN":if(i=[],"expr_list"===e.right.type){if("column_ref"===e.left.type&&e.left.column.toUpperCase()===this.field.name.toUpperCase()){const i=[];let l=!0;for(const t of e.right.value){if("string"!==t.type){l=!1;break}if(void 0===this.lkp[t.value]){l=!1;break}i.push(this.lkp[t.value].toString())}if(l)return" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" NOT IN ("+i.join(",")+")) "}return i=this.evaluateNodeToWhereClause(e.right,t,r,s,a)," ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" NOT IN ("+i.join(",")+")) "}return o=this.evaluateNodeToWhereClause(e.right,t,r,s,a),o instanceof Array?" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" NOT IN ("+o.join(",")+")) ":" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,a)+" NOT IN ("+o+")) ";case"BETWEEN":return n=this.evaluateNodeToWhereClause(e.right,t,r,C.BADNESS,a)," ("+this.evaluateNodeToWhereClause(e.left,t,r,C.BADNESS,a)+" BETWEEN "+n[0]+" AND "+n[1]+" ) ";case"NOTBETWEEN":return n=this.evaluateNodeToWhereClause(e.right,t,r,C.BADNESS,a)," ("+this.evaluateNodeToWhereClause(e.left,t,r,C.BADNESS,a)+" NOT BETWEEN "+n[0]+" AND "+n[1]+" ) ";case"LIKE":return""!==e.escape?" ("+this.evaluateNodeToWhereClause(e.left,t,r,C.BADNESS,a)+" LIKE "+this.evaluateNodeToWhereClause(e.right,t,r,C.BADNESS,a)+" ESCAPE \'"+e.escape+"\') ":" ("+this.evaluateNodeToWhereClause(e.left,t,r,C.BADNESS,a)+" LIKE "+this.evaluateNodeToWhereClause(e.right,t,r,C.BADNESS,a)+") ";case"NOT LIKE":return""!==e.escape?" ("+this.evaluateNodeToWhereClause(e.left,t,r,C.BADNESS,a)+" NOT LIKE "+this.evaluateNodeToWhereClause(e.right,t,r,C.BADNESS,a)+" ESCAPE \'"+e.escape+"\') ":" ("+this.evaluateNodeToWhereClause(e.left,t,r,C.BADNESS,a)+" NOT LIKE "+this.evaluateNodeToWhereClause(e.right,t,r,C.BADNESS,a)+") ";case"<>":case"=":if("column_ref"===e.left.type&&"string"===e.right.type){if(e.left.column.toUpperCase()===this.field.name.toUpperCase()&&void 0!==this.lkp[e.right.value.toString()])return" ("+s+" "+e.operator+" "+this.lkp[e.right.value.toString()].toString()+") "}else if("column_ref"===e.right.type&&"string"===e.left.type&&e.right.column.toUpperCase()===this.field.name.toUpperCase())return" ("+this.lkp[e.right.value.toString()].toString()+" "+e.operator+" "+s+") ";return" ("+this.evaluateNodeToWhereClause(e.left,t,r,C.BADNESS,a)+" "+e.operator+" "+this.evaluateNodeToWhereClause(e.right,t,r,C.BADNESS,a)+") ";case"<":case">":case">=":case"<=":case"*":case"-":case"+":case"/":return" ("+this.evaluateNodeToWhereClause(e.left,t,r,C.BADNESS,a)+" "+e.operator+" "+this.evaluateNodeToWhereClause(e.right,t,r,C.BADNESS,a)+") "}throw new Error("Not Supported Operator "+e.operator);case"null":return"null";case"bool":return!0===e.value?"1":"0";case"string":return"\'"+e.value.toString().replace(/\'/g,"\'\'")+"\'";case"timestamp":case"date":return (0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .makeDateString */ .oX)(e.value,t);case"number":return e.value.toString();case"current_time":return (0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .makeToday */ .vR)("date"===e.mode,t);case"column_ref":return r&&r.toLowerCase()===e.column.toLowerCase()?"("+s+")":e.column;case"function":{const s=this.evaluateNodeToWhereClause(e.args,t,r,C.BADNESS,a);return (0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .translateFunctionToDatabaseSpecific */ .fz)(e.name,s,t)}}throw new Error("Unsupported sql syntax "+e.type)}extractValue(e){return this.codefield instanceof _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_6__.WhereClause?this.reverseLkp[this.codefield.calculateValueCompiled(e)]:this.reverseLkp[e.attributes[this.codefield]]}}C.BADNESS="_!!!_BAD_LKP_!!!!";class T extends m{constructor(e,t){super(e),this.sql=t}rewriteSql(e,t){return{rewritten:!0,where:(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .reformulateWithoutField */ .bB)(e,this.field.name,(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .toWhereClause */ .zR)(this.sql,_support_shared_js__WEBPACK_IMPORTED_MODULE_3__/* .FeatureServiceDatabaseType.Standardised */ .Bj.Standardised),t.getFieldsIndex())}}extractValue(e){return this.sql.calculateValueCompiled(e)}}class E extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z{constructor(e){super(e),this._calcFunc=null,this.declaredClass="esri.arcade.featureset.actions.Adapted",this.adaptedFields=null,this._extraFilter=null,this._extraFilter=e.extraFilter,this._parent=e.parentfeatureset,this._maxProcessing=30,this.adaptedFields=e.adaptedFields}static findField(e,t){for(const r of e)if(r.name.toLowerCase()===t.toString().toLowerCase())return r;return null}_initialiseFeatureSet(){null!==this._parent?(this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.spatialReference=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z({wkid:4326}),this.objectIdField="",this.globalIdField="",this.geometryType=_support_shared_js__WEBPACK_IMPORTED_MODULE_3__/* .layerGeometryEsriConstants.point */ .Qk.point,this.typeIdField="",this.types=null),this.fields=[];for(const e of this.adaptedFields)e.postInitialization(this,this._parent),this.fields.push(e.field)}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._extraFilter?this._getFilteredSet("",null,null,null,e):this._parent._getSet(e))).then((t=>(this._checkCancelled(e),this._wset=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(t._candidates.slice(0),t._known.slice(0),t._ordered,this._clonePageDefinition(t.pagesDefinition)),this._wset))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .resolve */ .DB)(this._wset)}_isInFeatureSet(e){return this._parent._isInFeatureSet(e)}_getFeatures(r,a,i,l){const n=[];-1!==a&&void 0===this._featureCache[a]&&n.push(a);const o=this._maxQueryRate();if(!0===this._checkIfNeedToExpandKnownPage(r,o))return this._expandPagedSet(r,o,0,0,l).then((()=>this._getFeatures(r,a,i,l)));let h=0;for(let e=r._lastFetchedIndex;e<r._known.length&&(h++,h<=i&&(r._lastFetchedIndex+=1),!(void 0===this._featureCache[r._known[e]]&&(r._known[e]!==a&&n.push(r._known[e]),n.length>=o)));e++);if(0===n.length)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .resolve */ .DB)("success");r=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z([],n,r._ordered,null);const u=Math.min(n.length,i);return this._parent._getFeatures(r,-1,u,l).then((()=>{this._checkCancelled(l);const r=[];for(let e=0;e<u;e++){const t=this._parent._featureFromCache(n[e]);void 0!==t&&r.push({geometry:t.geometry,attributes:t.attributes,id:n[e]})}for(const s of r){const r=[];for(const e of this.adaptedFields)r[e.field.name]=e.extractValue(s);this._featureCache[s.id]=new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z({attributes:r,geometry:(0,_kernel_js__WEBPACK_IMPORTED_MODULE_1__/* .cloneGeometry */ .r1)(s.geometry)})}return"success"}))}_fetchAndRefineFeatures(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .reject */ .d1)(new Error("Fetch and Refine should not be called in this featureset"))}_getFilteredSet(e,t,r,a,i){let l=!1;const n=this._reformulateWithoutAdaptions(r);l=n.cannot,r=n.where;let o=!1;if(null!==a){o=!0;const e=[];for(const t of this.adaptedFields)if(!(t instanceof w)&&!0===a.scanForField(t.field.name)){if(!(t instanceof v)){a=null,o=!1;break}e.push({field:t.field.name,newfield:t.originalField.name})}a&&e.length>0&&(a=a.replaceFields(e))}return null!==r?null!==this._extraFilter&&(r=(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .combine */ .$e)(this._extraFilter,r)):r=this._extraFilter,this._ensureLoaded().then((()=>this._parent._getFilteredSet(e,t,r,a,i))).then((e=>{let t;return this._checkCancelled(i),t=!0===l?new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(e._candidates.slice(0).concat(e._known.slice(0)),[],!0===o&&e._ordered,this._clonePageDefinition(e.pagesDefinition)):new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z(e._candidates.slice(0),e._known.slice(0),!0===o&&e._ordered,this._clonePageDefinition(e.pagesDefinition)),t}))}_reformulateWithoutAdaptions(e){const t={cannot:!1,where:e};if(null!==e)for(const r of this.adaptedFields)if(!0===(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .scanForField */ .hq)(e,r.field.name)){const s=r.rewriteSql(e,this);if(!0!==s.rewritten){t.cannot=!0,t.where=null;break}t.where=s.where}return t}_stat(e,t,r,s,a,i,l){let n=!1,o=this._reformulateWithoutAdaptions(t);return n=o.cannot,t=o.where,o=this._reformulateWithoutAdaptions(a),n=n||o.cannot,null!==(a=o.where)?null!==this._extraFilter&&(a=(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .combine */ .$e)(this._extraFilter,a)):a=this._extraFilter,!0===n?null===a&&""===r&&null===s?this._manualStat(e,t,i,l):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .resolve */ .DB)({calculated:!1}):this._parent._stat(e,t,r,s,a,i,l).then((n=>!1===n.calculated?null===a&&""===r&&null===s?this._manualStat(e,t,i,l):{calculated:!1}:n))}_canDoAggregates(e,t,r,s,a){if(null===this._parent)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .resolve */ .DB)(!1);for(let n=0;n<e.length;n++)for(const t of this.adaptedFields)if(e[n].toLowerCase()===t.field.name.toLowerCase()&&!(t instanceof w))return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .resolve */ .DB)(!1);const i=[];for(let n=0;n<t.length;n++){const e=t[n];if(null!==e.workingexpr){const t=this._reformulateWithoutAdaptions(e.workingexpr);if(t.cannot)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .resolve */ .DB)(!1);const r=e.clone();r.workingexpr=t.where,i.push(r)}else i.push(e)}const l=this._reformulateWithoutAdaptions(a);return l.cannot?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .resolve */ .DB)(!1):(null!==(a=l.where)?null!==this._extraFilter&&(a=(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .combine */ .$e)(this._extraFilter,a)):a=this._extraFilter,this._parent._canDoAggregates(e,i,r,s,a))}_getAggregatePagesDataSourceDefinition(e,t,r,s,a,i,l){if(null===this._parent)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .reject */ .d1)(new Error("Should never be called"));const n=[];for(let h=0;h<t.length;h++){const e=t[h];if(null!==e.workingexpr){const t=this._reformulateWithoutAdaptions(e.workingexpr);if(t.cannot)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .reject */ .d1)(new Error("Should never be called"));const r=e.clone();r.workingexpr=t.where,n.push(r)}else n.push(e)}const o=this._reformulateWithoutAdaptions(a);return o.cannot?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .reject */ .d1)(new Error("Should never be called")):(null!==(a=o.where)?null!==this._extraFilter&&(a=(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .combine */ .$e)(this._extraFilter,a)):a=this._extraFilter,this._parent._getAggregatePagesDataSourceDefinition(e,n,r,s,a,i,l))}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/arcade/featureset/actions/Adapted.js?')},62700:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ _)\n/* harmony export */ });\n/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(24270);\n/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(77732);\n/* harmony import */ var _support_shared_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(68673);\n/* harmony import */ var _support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62294);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78668);\n/* harmony import */ var _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3362);\n/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(14685);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass _ extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z{constructor(e){super(e),this.declaredClass="esri.arcade.featureset.actions.AttributeFilter",this._maxProcessing=1e3,this._parent=e.parentfeatureset,e.whereclause instanceof _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause?(this._whereclause=e.whereclause,this._whereClauseFunction=null):(this._whereClauseFunction=e.whereclause,this._whereclause=null)}_initialiseFeatureSet(){null!==this._parent?(this.fields=this._parent.fields.slice(0),this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.fields=[],this.typeIdField="",this.objectIdField="",this.globalIdField="",this.spatialReference=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z({wkid:4326}),this.geometryType=_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .layerGeometryEsriConstants.point */ .Qk.point)}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._parent._getFilteredSet("",null,this._whereclause,null,e))).then((s=>(this._checkCancelled(e),null!==this._whereClauseFunction?this._wset=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(s._candidates.slice(0).concat(s._known.slice(0)),[],s._ordered,this._clonePageDefinition(s.pagesDefinition)):this._wset=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(s._candidates.slice(0),s._known.slice(0),s._ordered,this._clonePageDefinition(s.pagesDefinition)),this._wset))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .resolve */ .DB)(this._wset)}_isInFeatureSet(e){let t=this._parent._isInFeatureSet(e);return t===_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.NotInFeatureSet */ .dj.NotInFeatureSet?t:(t=this._idstates[e],void 0===t?_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.Unknown */ .dj.Unknown:t)}_getFeature(e,t,s){return this._parent._getFeature(e,t,s)}_getFeatures(e,t,s,i){return this._parent._getFeatures(e,t,s,i)}_featureFromCache(e){return this._parent._featureFromCache(e)}executeWhereClause(e){return this._whereclause.testFeature(e)}executeWhereClauseDeferred(e){if(null!==this._whereClauseFunction)try{const t=this._whereClauseFunction(e);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .isPromiseLike */ .y8)(t)?t:(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .resolve */ .DB)(t)}catch(t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .reject */ .d1)(t)}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .resolve */ .DB)(this.executeWhereClause(e))}_fetchAndRefineFeatures(e,s,r){const n=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z([],e,!1,null),a=Math.min(s,e.length);return this._parent._getFeatures(n,-1,a,r).then((()=>{if(this._checkCancelled(r),null==this._whereClauseFunction){for(let t=0;t<a;t++){const s=this._parent._featureFromCache(e[t]);!0===this.executeWhereClause(s)?this._idstates[e[t]]=_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.InFeatureSet */ .dj.InFeatureSet:this._idstates[e[t]]=_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.NotInFeatureSet */ .dj.NotInFeatureSet}return"success"}const t=[];for(let s=0;s<a;s++){const i=this._parent._featureFromCache(e[s]);t.push(this.executeWhereClauseDeferred(i))}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .all */ .$6)(t).then((t=>{for(let r=0;r<s;r++)!0===t[r]?this._idstates[e[r]]=_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.InFeatureSet */ .dj.InFeatureSet:this._idstates[e[r]]=_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.NotInFeatureSet */ .dj.NotInFeatureSet;return"success"}))}))}_getFilteredSet(e,s,i,n,a){return null!==this._whereClauseFunction||(null!==i?null!==this._whereclause&&(i=(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .combine */ .$e)(this._whereclause,i)):i=this._whereclause),this._ensureLoaded().then((()=>this._parent._getFilteredSet(e,s,i,n,a))).then((e=>{let s;return this._checkCancelled(a),s=null!==this._whereClauseFunction?new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(e._candidates.slice(0).concat(e._known.slice(0)),[],e._ordered,this._clonePageDefinition(e.pagesDefinition)):new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z(e._candidates.slice(0),e._known.slice(0),e._ordered,this._clonePageDefinition(e.pagesDefinition)),s}))}_stat(e,t,s,i,a,l,h){if(null!==this._whereClauseFunction)return null===a&&""===s&&null===i?this._manualStat(e,t,l,h):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .resolve */ .DB)({calculated:!1});let u=this._whereclause;return null!==a&&null!==this._whereclause&&(u=(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .combine */ .$e)(this._whereclause,a)),this._parent._stat(e,t,s,i,u,l,h).then((r=>!1===r.calculated?null===a&&""===s&&null===i?this._manualStat(e,t,l,h):{calculated:!1}:r))}_canDoAggregates(e,t,s,i,a){return null!==this._whereClauseFunction?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .resolve */ .DB)(!1):(null!==a?null!==this._whereclause&&(a=(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .combine */ .$e)(this._whereclause,a)):a=this._whereclause,null===this._parent?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .resolve */ .DB)(!1):this._parent._canDoAggregates(e,t,s,i,a))}_getAggregatePagesDataSourceDefinition(e,t,s,i,n,a,h){return null===this._parent?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .reject */ .d1)(new Error("Should never be called")):(null!==n?null!==this._whereclause&&(n=(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .combine */ .$e)(this._whereclause,n)):n=this._whereclause,this._parent._getAggregatePagesDataSourceDefinition(e,t,s,i,n,a,h))}static registerAction(){_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"]._featuresetFunctions.filter */ .Z._featuresetFunctions.filter=function(e){if("function"==typeof e)return new _({parentfeatureset:this,whereclause:e});let t=null;return e instanceof _core_sql_WhereClause_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause&&(t=e),new _({parentfeatureset:this,whereclause:t})}}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/arcade/featureset/actions/AttributeFilter.js?')},2441:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ a)\n/* harmony export */ });\n/* harmony import */ var _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(94837);\n/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(24270);\n/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77732);\n/* harmony import */ var _support_OrderbyClause_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7429);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(78668);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass a extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z{constructor(e){super(e),this._orderbyclause=null,this.declaredClass="esri.arcade.featureset.actions.OrderBy",this._maxProcessing=100,this._orderbyclause=e.orderbyclause,this._parent=e.parentfeatureset}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._getFilteredSet("",null,null,this._orderbyclause,e))).then((t=>(this._checkCancelled(e),this._wset=t,this._wset))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .resolve */ .DB)(this._wset)}manualOrderSet(e,t){return this.getIdColumnDictionary(e,[],-1,t).then((e=>{this._orderbyclause.order(e);const t=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z([],[],!0,null);for(let r=0;r<e.length;r++)t._known.push(e[r].id);return t}))}getIdColumnDictionary(t,r,n,i){if(n<t._known.length-1){const s=this._maxQueryRate();if("GETPAGES"===t._known[n+1])return (0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_0__.X)(this._parent._expandPagedSet(t,s,0,0,i)).then((()=>this.getIdColumnDictionary(t,r,n,i)));let a=n+1;const o=[];for(;a<t._known.length&&"GETPAGES"!==t._known[a];)o.push(t._known[a]),a++;return n+=o.length,(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_0__.X)(this._parent._getFeatureBatch(o,i)).then((e=>{this._checkCancelled(i);for(const t of e)r.push({id:t.attributes[this.objectIdField],feature:t});return this.getIdColumnDictionary(t,r,n,i)}))}return t._candidates.length>0?(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_0__.X)(this._refineSetBlock(t,this._maxProcessingRate(),i)).then((()=>(this._checkCancelled(i),this.getIdColumnDictionary(t,r,n,i)))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .resolve */ .DB)(r)}_isInFeatureSet(e){return this._parent._isInFeatureSet(e)}_getFeatures(e,t,r,n){return this._parent._getFeatures(e,t,r,n)}_featureFromCache(e){if(void 0===this._featureCache[e]){const t=this._parent._featureFromCache(e);if(void 0===t)return;return null===t?null:(this._featureCache[e]=t,t)}return this._featureCache[e]}_fetchAndRefineFeatures(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .reject */ .d1)(new Error("Fetch and Refine should not be called in this featureset"))}_getFilteredSet(e,t,n,s,i){return this._ensureLoaded().then((()=>this._parent._getFilteredSet(e,t,n,null===s?this._orderbyclause:s,i))).then((e=>{this._checkCancelled(i);const s=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(e._candidates.slice(0),e._known.slice(0),e._ordered,this._clonePageDefinition(e.pagesDefinition));let a=!0;return e._candidates.length>0&&(a=!1),!1===s._ordered?this.manualOrderSet(s,i).then((e=>(!1===a&&(null===t&&null===n||(e=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(e._candidates.slice(0).concat(e._known.slice(0)),[],e._ordered,this._clonePageDefinition(e.pagesDefinition)))),e))):s}))}static registerAction(){_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"]._featuresetFunctions.orderBy */ .Z._featuresetFunctions.orderBy=function(e){return""===e?this:new a({parentfeatureset:this,orderbyclause:new _support_OrderbyClause_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z(e)})}}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/arcade/featureset/actions/OrderBy.js?')},81273:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ a)\n/* harmony export */ });\n/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(24270);\n/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77732);\n/* harmony import */ var _support_shared_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(68673);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(78668);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass a extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z{constructor(t){super(t),this._topnum=0,this.declaredClass="esri.arcade.featureset.actions.Top",this._countedin=0,this._maxProcessing=100,this._topnum=t.topnum,this._parent=t.parentfeatureset}_getSet(t){return null===this._wset?this._ensureLoaded().then((()=>this._parent._getSet(t))).then((t=>(this._wset=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(t._candidates.slice(0),t._known.slice(0),!1,this._clonePageDefinition(t.pagesDefinition)),this._setKnownLength(this._wset)>this._topnum&&(this._wset._known=this._wset._known.slice(0,this._topnum)),this._setKnownLength(this._wset)>=this._topnum&&(this._wset._candidates=[]),this._wset))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .resolve */ .DB)(this._wset)}_setKnownLength(t){return t._known.length>0&&"GETPAGES"===t._known[t._known.length-1]?t._known.length-1:t._known.length}_isInFeatureSet(t){const e=this._parent._isInFeatureSet(t);if(e===_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.NotInFeatureSet */ .dj.NotInFeatureSet)return e;const s=this._idstates[t];return s===_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.InFeatureSet */ .dj.InFeatureSet||s===_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.NotInFeatureSet */ .dj.NotInFeatureSet?s:e===_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.InFeatureSet */ .dj.InFeatureSet&&void 0===s?this._countedin<this._topnum?(this._idstates[t]=_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.InFeatureSet */ .dj.InFeatureSet,this._countedin++,_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.InFeatureSet */ .dj.InFeatureSet):(this._idstates[t]=_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.NotInFeatureSet */ .dj.NotInFeatureSet,_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.NotInFeatureSet */ .dj.NotInFeatureSet):_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.Unknown */ .dj.Unknown}_expandPagedSet(t,e,n,a,r){if(null===this._parent)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .reject */ .d1)(new Error("Parent Paging not implemented"));if(e>this._topnum&&(e=this._topnum),this._countedin>=this._topnum&&t.pagesDefinition.internal.set.length<=t.pagesDefinition.resultOffset){let e=t._known.length;return e>0&&"GETPAGES"===t._known[e-1]&&(t._known.length=e-1),e=t._candidates.length,e>0&&"GETPAGES"===t._candidates[e-1]&&(t._candidates.length=e-1),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .resolve */ .DB)("success")}return this._parent._expandPagedSet(t,e,n,a,r).then((e=>(this._setKnownLength(t)>this._topnum&&(t._known.length=this._topnum),this._setKnownLength(t)>=this._topnum&&(t._candidates.length=0),e)))}_getFeatures(t,n,i,a){const r=[],o=this._maxQueryRate();if(!0===this._checkIfNeedToExpandKnownPage(t,o))return this._expandPagedSet(t,o,0,0,a).then((()=>this._getFeatures(t,n,i,a)));-1!==n&&void 0===this._featureCache[n]&&r.push(n);let _=0;for(let e=t._lastFetchedIndex;e<t._known.length&&(_++,_<=i&&(t._lastFetchedIndex+=1),!(void 0===this._featureCache[t._known[e]]&&(t._known[e]!==n&&r.push(t._known[e]),r.length>o)));e++);if(0===r.length)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .resolve */ .DB)("success");const h=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z([],r,!1,null),u=Math.min(r.length,i);return this._parent._getFeatures(h,-1,u,a).then((()=>{for(let t=0;t<u;t++){const e=this._parent._featureFromCache(r[t]);void 0!==e&&(this._featureCache[r[t]]=e)}return"success"}))}_getFilteredSet(t,n,s,i,a){return this._ensureLoaded().then((()=>this._getSet(a))).then((t=>new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z(t._candidates.slice(0).concat(t._known.slice(0)),[],!1,this._clonePageDefinition(t.pagesDefinition))))}_refineKnowns(t,e){let s=0,i=null;const a=[];for(let r=0;r<t._candidates.length;r++){const o=this._isInFeatureSet(t._candidates[r]);if(o===_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.InFeatureSet */ .dj.InFeatureSet){if(t._known.push(t._candidates[r]),s+=1,null===i?i={start:r,end:r}:i.end===r-1?i.end=r:(a.push(i),i={start:r,end:r}),t._known.length>=this._topnum)break}else if(o===_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.NotInFeatureSet */ .dj.NotInFeatureSet)null===i?i={start:r,end:r}:i.end===r-1?i.end=r:(a.push(i),i={start:r,end:r}),s+=1;else if(o===_support_shared_js__WEBPACK_IMPORTED_MODULE_1__/* .IdState.Unknown */ .dj.Unknown)break;if(s>=e)break}null!==i&&a.push(i);for(let n=a.length-1;n>=0;n--)t._candidates.splice(a[n].start,a[n].end-a[n].start+1);this._setKnownLength(t)>this._topnum&&(t._known=t._known.slice(0,this._topnum)),this._setKnownLength(t)>=this._topnum&&(t._candidates=[])}_stat(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .resolve */ .DB)({calculated:!1})}_canDoAggregates(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .resolve */ .DB)(!1)}static registerAction(){_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"]._featuresetFunctions.top */ .Z._featuresetFunctions.top=function(t){return new a({parentfeatureset:this,topnum:t})}}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/arcade/featureset/actions/Top.js?')},20155:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ y)\n/* harmony export */ });\n/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80085);\n/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(24270);\n/* harmony import */ var _support_IdSet_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(77732);\n/* harmony import */ var _support_shared_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(68673);\n/* harmony import */ var _support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62294);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(78668);\n/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(20031);\n/* harmony import */ var _layers_FeatureLayer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(77567);\n/* harmony import */ var _layers_support_FeatureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(18160);\n/* harmony import */ var _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(12512);\n/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(14136);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass y extends _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z{constructor(e){super(e),this.declaredClass="esri.arcade.featureset.sources.FeatureLayerMemory",this._removeGeometry=!1,this._overrideFields=null,this._forceIsTable=!1,e.spatialReference&&(this.spatialReference=e.spatialReference),this._transparent=!0,this._maxProcessing=1e3,this._layer=e.layer,this._wset=null,!0===e.isTable&&(this._forceIsTable=!0),void 0!==e.outFields&&(this._overrideFields=e.outFields),void 0!==e.includeGeometry&&(this._removeGeometry=!1===e.includeGeometry)}_maxQueryRate(){return _support_shared_js__WEBPACK_IMPORTED_MODULE_2__/* .defaultMaxRecords */ .tI}end(){return this._layer}optimisePagingFeatureQueries(){}load(){return null===this._loadPromise&&(this._loadPromise=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .create */ .Ue)(((e,t)=>{if(!0===this._layer.loaded)return this._initialiseFeatureSet(),void e(this);this._layer.when().then((()=>{try{this._initialiseFeatureSet(),e(this)}catch(r){t(r)}}),t),this._layer.load()}))),this._loadPromise}get gdbVersion(){return""}_initialiseFeatureSet(){if(null==this.spatialReference&&(this.spatialReference=this._layer.spatialReference),this.geometryType=this._layer.geometryType,this.fields=this._layer.fields.slice(0),this._layer.outFields)if(1===this._layer.outFields.length&&"*"===this._layer.outFields[0]);else{const e=[];for(const t of this.fields)if("oid"===t.type)e.push(t);else for(const r of this._layer.outFields)if(r.toLowerCase()===t.name.toLowerCase()){e.push(t);break}this.fields=e}else;if(null!==this._overrideFields)if(1===this._overrideFields.length&&"*"===this._overrideFields[0])this._overrideFields=null;else{const e=[],t=[];for(const r of this.fields)if("oid"===r.type)e.push(r),t.push(r.name);else for(const s of this._overrideFields)if(s.toLowerCase()===r.name.toLowerCase()){e.push(r),t.push(r.name);break}this.fields=e,this._overrideFields=t}this.objectIdField=this._layer.objectIdField;for(const e of this.fields)"global-id"===e.type&&(this.globalIdField=e.name);this.hasM=this._layer.supportsM,this.hasZ=this._layer.supportsZ,this._databaseType=_support_shared_js__WEBPACK_IMPORTED_MODULE_2__/* .FeatureServiceDatabaseType.Standardised */ .Bj.Standardised,this.typeIdField=this._layer.typeIdField,this.types=this._layer.types}isTable(){return this._forceIsTable||this._layer.isTable||"table"===this._layer.type||!this._layer.geometryType}_isInFeatureSet(){return _support_shared_js__WEBPACK_IMPORTED_MODULE_2__/* .IdState.InFeatureSet */ .dj.InFeatureSet}_candidateIdTransform(e){return e}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._getFilteredSet("",null,null,null,e))).then((e=>(this._wset=e,e))):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)(this._wset)}_changeFeature(t){const r={};for(const e of this.fields)r[e.name]=t.attributes[e.name];return new _Graphic_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z({geometry:!0===this._removeGeometry?null:t.geometry,attributes:r})}_getFilteredSet(e,t,s,a,n){let u="",h=!1;if(null!==a&&(u=a.constructClause(),h=!0),this.isTable()&&t&&null!==e&&""!==e){const e=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z([],[],!0,null);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)(e)}const c=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z;return c.where=null===s?null===t?"1=1":"":(0,_support_sqlUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .toWhereClause */ .zR)(s,_support_shared_js__WEBPACK_IMPORTED_MODULE_2__/* .FeatureServiceDatabaseType.Standardised */ .Bj.Standardised),c.spatialRelationship=this._makeRelationshipEnum(e),c.outSpatialReference=this.spatialReference,c.orderByFields=""!==u?u.split(","):null,c.geometry=null===t?null:t,c.returnGeometry=!0,c.relationParameter=this._makeRelationshipParam(e),this._layer.queryFeatures(c).then((e=>{if(null===e)return new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z([],[],h,null);this._checkCancelled(n);const t=[];e.features.forEach((e=>{const r=e.attributes[this._layer.objectIdField];t.push(r),this._featureCache[r]=this._changeFeature(e)}));return new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z([],t,h,null)}))}_makeRelationshipEnum(e){if(e.indexOf("esriSpatialRelRelation")>=0)return"relation";switch(e){case"esriSpatialRelRelation":return"relation";case"esriSpatialRelIntersects":return"intersects";case"esriSpatialRelContains":return"contains";case"esriSpatialRelOverlaps":return"overlaps";case"esriSpatialRelWithin":return"within";case"esriSpatialRelTouches":return"touches";case"esriSpatialRelCrosses":return"crosses";case"esriSpatialRelEnvelopeIntersects":return"envelope-intersects"}return e}_makeRelationshipParam(e){return e.indexOf("esriSpatialRelRelation")>=0?e.split(":")[1]:""}_queryAllFeatures(){if(this._wset)return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)(this._wset);const e=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z;return e.where="1=1",this._ensureLoaded().then((()=>{if(this._layer.source&&this._layer.source.items){const e=[];return this._layer.source.items.forEach((t=>{const r=t.attributes[this._layer.objectIdField];e.push(r),this._featureCache[r]=this._changeFeature(t)})),this._wset=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z([],e,!1,null),this._wset}return this._layer.queryFeatures(e).then((e=>{const t=[];return e.features.forEach((e=>{const r=e.attributes[this._layer.objectIdField];t.push(r),this._featureCache[r]=this._changeFeature(e)})),this._wset=new _support_IdSet_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z([],t,!1,null),this._wset}))}))}_getFeatures(e,t,r){const s=[];-1!==t&&void 0===this._featureCache[t]&&s.push(t);for(let i=e._lastFetchedIndex;i<e._known.length&&(e._lastFetchedIndex+=1,!(void 0===this._featureCache[e._known[i]]&&(e._known[i]!==t&&s.push(e._known[i]),s.length>r)));i++);return 0===s.length?(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)("success"):(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .reject */ .d1)(new Error("Unaccounted for Features. Not in Feature Collection"))}_refineSetBlock(e){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)(e)}_stat(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)({calculated:!1})}_canDoAggregates(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)(!1)}relationshipMetaData(){return[]}static _cloneAttr(e){const t={};for(const r in e)t[r]=e[r];return t}nativeCapabilities(){return{title:this._layer.title,canQueryRelated:!1,source:this,capabilities:this._layer.capabilities,databaseType:this._databaseType,requestStandardised:!0}}static create(e,t){let r=e.layerDefinition.objectIdField;const s=e.layerDefinition.typeIdField?e.layerDefinition.typeIdField:"",i=[];if(e.layerDefinition.types)for(const h of e.layerDefinition.types)i.push(_layers_support_FeatureType_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"].fromJSON */ .Z.fromJSON(h));let a=e.layerDefinition.geometryType;void 0===a&&(a=e.featureSet.geometryType||"");let l=e.featureSet.features;const n=t.toJSON();if(""===r||void 0===r){let t=!1;for(const s of e.layerDefinition.fields)if("oid"===s.type||"esriFieldTypeOID"===s.type){r=s.name,t=!0;break}if(!1===t){let t="FID",s=!0,i=0;for(;s;){let r=!0;for(const s of e.layerDefinition.fields)if(s.name===t){r=!1;break}!0===r?s=!1:(i++,t="FID"+i.toString())}e.layerDefinition.fields.push({type:"esriFieldTypeOID",name:t,alias:t});const a=[];for(let r=0;r<l.length;r++)a.push({geometry:e.featureSet.features[r].geometry,attributes:e.featureSet.features[r].attributes?this._cloneAttr(e.featureSet.features[r].attributes):{}}),a[r].attributes[t]=r;l=a,r=t}}const o=[];for(const h of e.layerDefinition.fields)h instanceof _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z?o.push(h):o.push(_layers_support_Field_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"].fromJSON */ .Z.fromJSON(h));let u=a;switch(u){case"esriGeometryPoint":u="point";break;case"esriGeometryPolyline":u="polyline";break;case"esriGeometryPolygon":u="polygon";break;case"esriGeometryExtent":u="extent";break;case"esriGeometryMultipoint":u="multipoint"}for(const c of l)c.geometry&&c.geometry instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z==!1&&(c.geometry.type=u,void 0===c.geometry.spatialReference&&(c.geometry.spatialReference=n));const p={outFields:["*"],source:l,fields:o,types:i,typeIdField:s,objectIdField:r,spatialReference:t};p.geometryType=u||"point";const _=new _layers_FeatureLayer_js__WEBPACK_IMPORTED_MODULE_6__["default"](p);return new y({layer:_,spatialReference:t,isTable:null===u||""===u})}queryAttachments(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)([])}getFeatureByObjectId(e){const t=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z;return t.where=this.objectIdField+"="+e.toString(),this._layer.queryFeatures(t).then((e=>1===e.features.length?e.features[0]:null))}getOwningSystemUrl(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)("")}getIdentityUser(){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .resolve */ .DB)("")}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/arcade/featureset/sources/FeatureLayerMemory.js?')},7429:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ e)\n/* harmony export */ });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction t(t,e){return t===e?0:null===t?-1:null===e?1:t<e?-1:1}class e{constructor(t){const e=t.split(",");this._fields=[],this._directions=[];for(let s=0;s<e.length;s++){const t=e[s].match(/\\S+/g);this._fields.push(t[0]),2===t.length?"asc"===t[1].toLowerCase()?this._directions.push(1):this._directions.push(0):this._directions.push(1)}}constructClause(){let t="";for(let e=0;e<this._fields.length;e++)0!==e&&(t+=","),t+=this._fields[e],1===this._directions[e]?t+=" ASC":t+=" DESC";return t}order(e){e.sort(((e,s)=>{for(let i=0;i<this._fields.length;i++){const r=this.featureValue(e.feature,this._fields[i],i),l=this.featureValue(s.feature,this._fields[i],i);let o=0;if(o=1===this._directions[i]?t(r,l):-1*t(r,l),0!==o)return o}return 0}))}scanForField(t){for(let e=0;e<this._fields.length;e++)if(this._fields[e].toLowerCase().trim()===t.toLowerCase().trim())return!0;return!1}replaceFields(t){let s="";for(let e=0;e<this._fields.length;e++){0!==e&&(s+=",");let i=this._fields[e];for(const e of t)if(i.toLowerCase()===e.field.toLowerCase()){i=e.newfield;break}s+=i,1===this._directions[e]?s+=" ASC":s+=" DESC"}return new e(s)}featureValue(t,e,s){const i=t.attributes[e];if(void 0!==i)return i;for(const r in t.attributes)if(e.toLowerCase()===r.toLowerCase())return this._fields[s]=r,t.attributes[r];return null}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/arcade/featureset/support/OrderbyClause.js?')},16641:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "M": () => (/* binding */ R),\n/* harmony export */   "f": () => (/* binding */ c),\n/* harmony export */   "i": () => (/* binding */ v),\n/* harmony export */   "p": () => (/* binding */ y),\n/* harmony export */   "r": () => (/* binding */ m),\n/* harmony export */   "t": () => (/* binding */ i),\n/* harmony export */   "w": () => (/* binding */ p)\n/* harmony export */ });\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61681);\n/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3466);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction c(r,o){const s=o&&o.url&&o.url.path;if(r&&s&&(r=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .makeAbsolute */ .hF)(r,s,{preserveProtocolRelative:!0}),o.portalItem&&o.readResourcePaths)){const e=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .makeRelative */ .PF)(r,o.portalItem.itemUrl);h.test(e)&&o.readResourcePaths.push(o.portalItem.resourceFromPath(e).path)}return I(r,o&&o.portal)}function i(r,a,u=R.YES){if(!r)return r;!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isAbsolute */ .YP)(r)&&a&&a.blockedRelativeUrls&&a.blockedRelativeUrls.push(r);let n=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .makeAbsolute */ .hF)(r);if(a){const e=a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.rootPath||a.url&&a.url.path;if(e){const o=I(e,a.portal);n=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .makeRelative */ .PF)(I(n,a.portal),o,o),n!==r&&a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=U(n,a&&a.portal),(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isAbsolute */ .YP)(n)&&(n=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .normalize */ .Fv)(n)),null!=a&&a.resources&&null!=a&&a.portalItem&&!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isAbsolute */ .YP)(n)&&!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isDataProtocol */ .HK)(n)&&u===R.YES&&a.resources.toKeep.push({resource:a.portalItem.resourceFromPath(n)}),n}function m(r,e,t){return c(r,t)}function p(r,e,t,o){const s=i(r,o);void 0!==s&&(e[t]=s)}const f=/\\/items\\/([^\\/]+)\\/resources\\//,h=/^\\.\\/resources\\//;function v(e){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .pC)(e)?e.match(f):null;return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .pC)(t)?t[1]:null}function U(r,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .changeDomain */ .Ie)(r,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):r}function I(r,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return r;const t=`${e.urlKey}.${e.customBaseUrl}`,o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getAppUrl */ .TI)();return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .hasSameOrigin */ .D6)(o,`${o.scheme}://${t}`)?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .changeDomain */ .Ie)(r,e.portalHostname,t):(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .changeDomain */ .Ie)(r,t,e.portalHostname)}var R;!function(r){r[r.YES=0]="YES",r[r.NO=1]="NO"}(R||(R={}));const y=Object.freeze({__proto__:null,fromJSON:c,toJSON:i,read:m,write:p,itemIdFromResourceUrl:v,get MarkKeep(){return R}});\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/chunks/persistableUrlUtils.js?')},86630:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "F": () => (/* binding */ x),\n/* harmony export */   "M": () => (/* binding */ n)\n/* harmony export */ });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst n={Base64:0,Hex:1,String:2,Raw:3},t=8,r=(1<<t)-1;function e(n,t){const r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(n){const e=[];for(let o=0,u=n.length*t;o<u;o+=t)e[o>>5]|=(n.charCodeAt(o/t)&r)<<o%32;return e}function u(n){const e=[];for(let o=0,u=32*n.length;o<u;o+=t)e.push(String.fromCharCode(n[o>>5]>>>o%32&r));return e.join("")}function c(n){const t="0123456789abcdef",r=[];for(let e=0,o=4*n.length;e<o;e++)r.push(t.charAt(n[e>>2]>>e%4*8+4&15)+t.charAt(n[e>>2]>>e%4*8&15));return r.join("")}function f(n){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=[];for(let o=0,u=4*n.length;o<u;o+=3){const u=(n[o>>2]>>o%4*8&255)<<16|(n[o+1>>2]>>(o+1)%4*8&255)<<8|n[o+2>>2]>>(o+2)%4*8&255;for(let c=0;c<4;c++)8*o+6*c>32*n.length?e.push(t):e.push(r.charAt(u>>6*(3-c)&63))}return e.join("")}function s(n,t){return n<<t|n>>>32-t}function i(n,t,r,o,u,c){return e(s(e(e(t,n),e(o,c)),u),r)}function h(n,t,r,e,o,u,c){return i(t&r|~t&e,n,t,o,u,c)}function a(n,t,r,e,o,u,c){return i(t&e|r&~e,n,t,o,u,c)}function l(n,t,r,e,o,u,c){return i(t^r^e,n,t,o,u,c)}function g(n,t,r,e,o,u,c){return i(r^(t|~e),n,t,o,u,c)}function p(n,t){n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;let r=1732584193,o=-271733879,u=-1732584194,c=271733878;for(let f=0;f<n.length;f+=16){const t=r,s=o,i=u,p=c;r=h(r,o,u,c,n[f+0],7,-680876936),c=h(c,r,o,u,n[f+1],12,-389564586),u=h(u,c,r,o,n[f+2],17,606105819),o=h(o,u,c,r,n[f+3],22,-1044525330),r=h(r,o,u,c,n[f+4],7,-176418897),c=h(c,r,o,u,n[f+5],12,1200080426),u=h(u,c,r,o,n[f+6],17,-1473231341),o=h(o,u,c,r,n[f+7],22,-45705983),r=h(r,o,u,c,n[f+8],7,1770035416),c=h(c,r,o,u,n[f+9],12,-1958414417),u=h(u,c,r,o,n[f+10],17,-42063),o=h(o,u,c,r,n[f+11],22,-1990404162),r=h(r,o,u,c,n[f+12],7,1804603682),c=h(c,r,o,u,n[f+13],12,-40341101),u=h(u,c,r,o,n[f+14],17,-1502002290),o=h(o,u,c,r,n[f+15],22,1236535329),r=a(r,o,u,c,n[f+1],5,-165796510),c=a(c,r,o,u,n[f+6],9,-1069501632),u=a(u,c,r,o,n[f+11],14,643717713),o=a(o,u,c,r,n[f+0],20,-373897302),r=a(r,o,u,c,n[f+5],5,-701558691),c=a(c,r,o,u,n[f+10],9,38016083),u=a(u,c,r,o,n[f+15],14,-660478335),o=a(o,u,c,r,n[f+4],20,-405537848),r=a(r,o,u,c,n[f+9],5,568446438),c=a(c,r,o,u,n[f+14],9,-1019803690),u=a(u,c,r,o,n[f+3],14,-187363961),o=a(o,u,c,r,n[f+8],20,1163531501),r=a(r,o,u,c,n[f+13],5,-1444681467),c=a(c,r,o,u,n[f+2],9,-51403784),u=a(u,c,r,o,n[f+7],14,1735328473),o=a(o,u,c,r,n[f+12],20,-1926607734),r=l(r,o,u,c,n[f+5],4,-378558),c=l(c,r,o,u,n[f+8],11,-2022574463),u=l(u,c,r,o,n[f+11],16,1839030562),o=l(o,u,c,r,n[f+14],23,-35309556),r=l(r,o,u,c,n[f+1],4,-1530992060),c=l(c,r,o,u,n[f+4],11,1272893353),u=l(u,c,r,o,n[f+7],16,-155497632),o=l(o,u,c,r,n[f+10],23,-1094730640),r=l(r,o,u,c,n[f+13],4,681279174),c=l(c,r,o,u,n[f+0],11,-358537222),u=l(u,c,r,o,n[f+3],16,-722521979),o=l(o,u,c,r,n[f+6],23,76029189),r=l(r,o,u,c,n[f+9],4,-640364487),c=l(c,r,o,u,n[f+12],11,-421815835),u=l(u,c,r,o,n[f+15],16,530742520),o=l(o,u,c,r,n[f+2],23,-995338651),r=g(r,o,u,c,n[f+0],6,-198630844),c=g(c,r,o,u,n[f+7],10,1126891415),u=g(u,c,r,o,n[f+14],15,-1416354905),o=g(o,u,c,r,n[f+5],21,-57434055),r=g(r,o,u,c,n[f+12],6,1700485571),c=g(c,r,o,u,n[f+3],10,-1894986606),u=g(u,c,r,o,n[f+10],15,-1051523),o=g(o,u,c,r,n[f+1],21,-2054922799),r=g(r,o,u,c,n[f+8],6,1873313359),c=g(c,r,o,u,n[f+15],10,-30611744),u=g(u,c,r,o,n[f+6],15,-1560198380),o=g(o,u,c,r,n[f+13],21,1309151649),r=g(r,o,u,c,n[f+4],6,-145523070),c=g(c,r,o,u,n[f+11],10,-1120210379),u=g(u,c,r,o,n[f+2],15,718787259),o=g(o,u,c,r,n[f+9],21,-343485551),r=e(r,t),o=e(o,s),u=e(u,i),c=e(c,p)}return[r,o,u,c]}function x(r,e=n.Hex){const s=e||n.Base64,i=p(o(r),r.length*t);switch(s){case n.Raw:return i;case n.Hex:return c(i);case n.String:return u(i);case n.Base64:return f(i)}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/core/MD5.js?')},27281:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Hg": () => (/* binding */ m),\n/* harmony export */   "V7": () => (/* binding */ y),\n/* harmony export */   "uD": () => (/* binding */ a)\n/* harmony export */ });\n/* unused harmony export isEmpty */\n/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(53443);\n/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15680);\n/* harmony import */ var _maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61681);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(95620);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst f=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function i(e){return e instanceof _Accessor_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z}function c(t){return t instanceof _Collection_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z?Object.keys(t.items):i(t)?(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__/* .getProperties */ .vw)(t).keys():t?Object.keys(t):[]}function u(t,n){return t instanceof _Collection_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z?t.items[n]:t[n]}function l(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function s(t){return t?t.declaredClass:null}function p(t,e){const n=t.diff;if(n&&"function"==typeof n)return n(t,e);const r=c(t),a=c(e);if(0===r.length&&0===a.length)return;if(!r.length||!a.length||l(t,e))return{type:"complete",oldValue:t,newValue:e};const y=a.filter((t=>-1===r.indexOf(t))),m=r.filter((t=>-1===a.indexOf(t))),d=r.filter((n=>a.indexOf(n)>-1&&u(t,n)!==u(e,n))).concat(y,m).sort(),b=s(t);if(b&&f.indexOf(b)>-1&&d.length)return{type:"complete",oldValue:t,newValue:e};let h;const j=i(t)&&i(e);for(const f of d){const r=u(t,f),i=u(e,f);let c;(j||"function"!=typeof r&&"function"!=typeof i)&&(r!==i&&(null==r&&null==i||(c=n&&n[f]&&"function"==typeof n[f]?n[f](r,i):"object"==typeof r&&"object"==typeof i&&s(r)===s(i)?p(r,i):{type:"complete",oldValue:r,newValue:i},(0,_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .isSome */ .pC)(c)&&((0,_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .isSome */ .pC)(h)?h.diff[f]=c:h={type:"partial",diff:{[f]:c}}))))}return h}function a(t,e){if((0,_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .isNone */ .Wi)(t))return!1;const o=e.split(".");let r=t;for(const n of o){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const t=r.diff[n];if(!t)return!1;r=t}}return!0}function y(t,e){for(const n of e)if(a(t,n))return!0;return!1}function m(t,e){if(!("function"==typeof t||"function"==typeof e||(0,_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .isNone */ .Wi)(t)&&(0,_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .isNone */ .Wi)(e)))return (0,_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .isNone */ .Wi)(t)||(0,_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .isNone */ .Wi)(e)||"object"==typeof t&&"object"==typeof e&&s(t)!==s(e)?{type:"complete",oldValue:t,newValue:e}:p(t,e)}function d(t){if(n(t))return!0;switch(t.type){case"complete":return!1;case"collection":{const e=t;for(const t of e.added)if(!d(t))return!1;for(const t of e.removed)if(!d(t))return!1;for(const t of e.changed)if(!d(t))return!1;return!0}case"partial":for(const e in t.diff){if(!d(t.diff[e]))return!1}return!0}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js?')},67979:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Ed": () => (/* binding */ n),\n/* harmony export */   "UI": () => (/* binding */ u),\n/* harmony export */   "mt": () => (/* binding */ p),\n/* harmony export */   "q6": () => (/* binding */ a)\n/* harmony export */ });\n/* unused harmony export assertResult */\n/* harmony import */ var _maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61681);\n/* harmony import */ var _promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(78668);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(r,t,e){return (0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .eachAlways */ .as)(r.map(((r,o)=>t.apply(e,[r,o]))))}function u(r,t,e){return (0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .eachAlways */ .as)(r.map(((r,o)=>t.apply(e,[r,o])))).then((r=>r.map((r=>r.value))))}function a(o){return (0,_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isNone */ .Wi)(o)?(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .resolve */ .DB)():o.then((r=>({ok:!0,value:r}))).catch((r=>({ok:!1,error:r})))}function p(r){return r.then((r=>({ok:!0,value:r}))).catch((r=>((0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .throwIfAbortError */ .r9)(r),{ok:!1,error:r})))}function i(r){if(!0===r.ok)return r.value;throw r.error}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/core/asyncUtils.js?')},27755:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Bg": () => (/* binding */ n),\n/* harmony export */   "sM": () => (/* binding */ o)\n/* harmony export */ });\n/* unused harmony exports neverReachedSilent, tuple */\n/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39994);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(n){}function t(n){}function o(n){return()=>n}const c=(...n)=>n;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/core/compilerUtils.js?')},95550:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "F2": () => (/* binding */ u),\n/* harmony export */   "Wz": () => (/* binding */ e),\n/* harmony export */   "s1": () => (/* binding */ i),\n/* harmony export */   "t_": () => (/* binding */ o),\n/* harmony export */   "vW": () => (/* binding */ c)\n/* harmony export */ });\n/* unused harmony exports castRenderScreenPointArray, castRenderScreenPointArray3, castScreenPointArray, createRenderScreenPoint, createRenderScreenPointArray, createRenderScreenPointArray3, screenPointArrayToObject, screenPointObjectToArray */\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst n=/^-?(\\d+(\\.\\d+)?)\\s*((px)|(pt))?$/i,t="screenUtils.toPt: input not recognized!",r=96;function u(n){return n?n/72*r:0}function e(n){return n?72*n/r:0}function o(r){if("string"==typeof r){const u=r.match(n);if(u){const n=Number(u[1]),t=u[3]&&u[3].toLowerCase(),o="-"===r.charAt(0),c="px"===t?e(n):n;return o?-c:c}return console.warn(t),null}return r}function c(n=0,t=0){return{x:n,y:t}}function i(n=0,t=0){return[n,t]}function f(n=0,t=0){return{x:n,y:t}}function s(n=0,t=0){return y([n,t])}function x(n=0,t=0,r=0){return p([n,t,r])}function y(n){return n}function p(n){return n}function l(n){return n}function a(n,t){return t?(t.x=n[0],t.y=n[1],t):{x:n[0],y:n[1]}}function d(n,t){return t?(t[0]=n.x,t[1]=n.y,t.length>2&&(t[2]=0),t):[n.x,n.y]}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/core/screenUtils.js?')},68577:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "yZ": () => (/* binding */ r)\n/* harmony export */ });\n/* unused harmony exports getExtentForScale, getResolutionForScale, getScaleForResolution */\n/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17321);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst e=96;function r(r,i){const o=i||r.extent,c=r.width,u=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getMetersPerUnitForSR */ .c9)(o&&o.spatialReference);return o&&c?o.width/c*u*_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .inchesPerMeter */ .hd*e:0}function i(r,i){return r/(n(i)*t*e)}function o(r,i){return r*(n(i)*t*e)}function c(t,n){const e=t.extent,r=t.width,o=i(n,e.spatialReference);return e.clone().expand(o*r/e.width)}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/geometry/support/scaleUtils.js?')},91223:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "V": () => (/* binding */ i)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(36663);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(40266);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction t(r){return"portalItem"in r}const i=i=>{let o=class extends i{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):t(this)?null==(r=this.portalItem)?void 0:r.apiKey:null}set apiKey(r){null!=r?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_0__/* .property */ .Cb)({type:String})],o.prototype,"apiKey",null),o=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_5__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_4__/* .subclass */ .j)("esri.layers.mixins.APIKeyMixin")],o),o};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/mixins/APIKeyMixin.js?')},87232:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Y": () => (/* binding */ p)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(36663);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13802);\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(61681);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(40266);\n/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(20692);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst p=p=>{let c=class extends p{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__/* .parse */ .Qc)(this.url);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__/* .isSome */ .pC)(t)&&t.title)return t.title}return this._get("title")||""}set title(t){this._set("title",t)}set url(t){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__/* .sanitizeUrl */ .Nm)(t,_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].getLogger */ .Z.getLogger(this.declaredClass)))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .Cb)()],c.prototype,"title",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .Cb)({type:String})],c.prototype,"url",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .j)("esri.layers.mixins.ArcGISService")],c),c};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/mixins/ArcGISService.js?')},18241:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "I": () => (/* binding */ w)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(36663);\n/* harmony import */ var _kernel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(88256);\n/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66341);\n/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(67979);\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(70375);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13802);\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(61681);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(78668);\n/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3466);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(34248);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(40266);\n/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(39835);\n/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(26869);\n/* harmony import */ var _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(53110);\n/* harmony import */ var _portal_PortalUser_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(90298);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst v=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"].getLogger */ .Z.getLogger("esri.layers.mixins.PortalLayer"),w=i=>{let w=class extends i{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,r,e){if(r.itemId)return new _portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_15__["default"]({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await __webpack_require__.e(/* import() */ 9112).then(__webpack_require__.bind(__webpack_require__, 49112));return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .throwIfAborted */ .k_)(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(e){throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isAbortError */ .D_)(e)||v.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${e}`),e}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(t).catch((t=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .throwIfAbortError */ .r9)(t),!0))))}async _fetchUserHasEditingPrivileges(t){const e=this.url?null==_kernel_js__WEBPACK_IMPORTED_MODULE_0__.id?void 0:_kernel_js__WEBPACK_IMPORTED_MODULE_0__.id.findCredential(this.url):null;if(!e)return!0;const s=P.credential===e?P.user:await this._fetchEditingUser(t);return P.credential=e,P.user=s,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isNone */ .Wi)(s)||null==s.privileges||s.privileges.includes("features:user:edit")}async _fetchEditingUser(t){var o,i;const a=null==(o=this.portalItem)||null==(i=o.portal)?void 0:i.user;if(a)return a;const n=_kernel_js__WEBPACK_IMPORTED_MODULE_0__.id.findServerInfo(this.url);if(null==n||!n.owningSystemUrl)return null;const p=`${n.owningSystemUrl}/sharing/rest`,m=_portal_Portal_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].getDefault */ .Z.getDefault();if(m&&m.loaded&&(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .normalize */ .Fv)(m.restUrl)===(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .normalize */ .Fv)(p))return m.user;const c=`${p}/community/self`,d=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_17__/* .isSome */ .pC)(t)?t.signal:null,h=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .result */ .q6)((0,_request_js__WEBPACK_IMPORTED_MODULE_1__["default"])(c,{authMode:"no-prompt",query:{f:"json"},signal:d}));return h.ok?_portal_PortalUser_js__WEBPACK_IMPORTED_MODULE_16__["default"].fromJSON(h.value.data):null}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,s=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||_portal_Portal_js__WEBPACK_IMPORTED_MODULE_14__/* ["default"].getDefault */ .Z.getDefault());return e&&s&&!(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .hasSamePortal */ .tm)(s.restUrl,e.restUrl)?(r.messages&&r.messages.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z("layer:cross-portal",`The layer \'${this.title} (${this.id})\' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_18__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__/* .property */ .Cb)({type:_portal_PortalItem_js__WEBPACK_IMPORTED_MODULE_15__["default"]})],w.prototype,"portalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_18__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_11__/* .reader */ .r)("web-document","portalItem",["itemId"])],w.prototype,"readPortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_18__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_13__/* .writer */ .c)("web-document","portalItem",{itemId:{type:String}})],w.prototype,"writePortalItem",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_18__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__/* .property */ .Cb)({clonable:!1})],w.prototype,"resourceReferences",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_18__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__/* .property */ .Cb)({readOnly:!0})],w.prototype,"userHasEditingPrivileges",void 0),w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_18__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__/* .subclass */ .j)("esri.layers.mixins.PortalLayer")],w),w},P={credential:null,user:null};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/mixins/PortalLayer.js?')},60822:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ p)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(36663);\n/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41151);\n/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(25709);\n/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(82064);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(40266);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst l=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__/* .JSONMap */ .X({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let a=class extends((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__/* .ClonableMixin */ .J)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__/* .JSONSupport */ .wq)){constructor(o){super(o),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)({json:{write:!0}})],a.prototype,"name",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)({json:{write:!0}})],a.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)({json:{read:l.read,write:l.write}})],a.prototype,"drawingTool",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)({json:{write:!0}})],a.prototype,"prototype",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)({json:{write:!0}})],a.prototype,"thumbnail",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .j)("esri.layers.support.FeatureTemplate")],a);const p=a;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/support/FeatureTemplate.js?')},18160:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(36663);\n/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41151);\n/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(82064);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(34248);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(40266);\n/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(39835);\n/* harmony import */ var _domains_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(60248);\n/* harmony import */ var _FeatureTemplate_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(60822);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet c=class extends((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_0__/* .ClonableMixin */ .J)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .JSONSupport */ .wq)){constructor(o){super(o),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(o){const r={};for(const s of Object.keys(o))r[s]=(0,_domains_js__WEBPACK_IMPORTED_MODULE_9__/* .fromJSON */ .im)(o[s]);return r}writeDomains(o,r){const s={};for(const e of Object.keys(o)){var t;if(o[e])s[e]=null==(t=o[e])?void 0:t.toJSON()}r.domains=s}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({json:{write:!0}})],c.prototype,"id",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({json:{write:!0}})],c.prototype,"name",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({json:{write:!0}})],c.prototype,"domains",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__/* .reader */ .r)("domains")],c.prototype,"readDomains",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__/* .writer */ .c)("domains")],c.prototype,"writeDomains",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({type:[_FeatureTemplate_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z],json:{write:!0}})],c.prototype,"templates",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_11__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .j)("esri.layers.support.FeatureType")],c);const n=c;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/support/FeatureType.js?')},94081:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ p)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(36663);\n/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(15680);\n/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(82064);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(40266);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar l;let i=l=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .JSONSupport */ .wq{constructor(o){super(o),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z}clone(){return new l({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_7__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({type:String,json:{write:!0}})],i.prototype,"floorField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_7__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({json:{read:!1,write:!1}})],i.prototype,"viewAllMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_7__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .Cb)({json:{read:!1,write:!1}})],i.prototype,"viewAllLevelIds",void 0),i=l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_7__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .j)("esri.layers.support.LayerFloorInfo")],i);const p=i;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/support/LayerFloorInfo.js?')},20692:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "B5": () => (/* binding */ p),\n/* harmony export */   "DR": () => (/* binding */ m),\n/* harmony export */   "G": () => (/* binding */ S),\n/* harmony export */   "M8": () => (/* binding */ y),\n/* harmony export */   "Nm": () => (/* binding */ g),\n/* harmony export */   "Qc": () => (/* binding */ d),\n/* harmony export */   "XG": () => (/* binding */ O),\n/* harmony export */   "a7": () => (/* binding */ h),\n/* harmony export */   "ld": () => (/* binding */ w),\n/* harmony export */   "wH": () => (/* binding */ C)\n/* harmony export */ });\n/* unused harmony exports isAGOLUrl, isHostedSecuredProxyService, isServerOrServicesAGOLUrl, serverTypes */\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(61681);\n/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3466);\n/* harmony import */ var _chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16641);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst l={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},a=Object.values(l),c=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join("|")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,"i"),f=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${a.join("|")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,"i"),v=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function p(e){return!!c.test(e)}function d(e){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .urlToObject */ .mN)(e),n=t.path.match(c)||t.path.match(f);if(!n)return null;const[,s,i,o,u]=n,a=i.indexOf("/");return{title:w(-1!==a?i.slice(a+1):i),serverType:l[o.toLowerCase()],sublayer:null!=u&&""!==u?parseInt(u,10):null,url:{path:s}}}function m(e){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .urlToObject */ .mN)(e).path.match(v);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function w(e){return(e=e.replace(/\\s*[/_]+\\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(r,t){const n=[];if(r){const t=d(r);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__/* .isSome */ .pC)(t)&&t.title&&n.push(t.title)}if(t){const e=w(t);n.push(e)}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function y(e){if(!e)return!1;const r=".arcgis.com/",t="//services",n="//tiles",s="//features",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function x(e,r){return r&&e&&-1!==e.toLowerCase().indexOf(r.toLowerCase())}function g(e,r){return e?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .removeTrailingSlash */ .Qj)((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .removeQueryParameters */ .Hu)(e,r)):e}function O(s){let{url:i}=s;if(!i)return{url:i};i=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .removeQueryParameters */ .Hu)(i,s.logger);const o=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .urlToObject */ .mN)(i),u=d(o.path);let l;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__/* .isSome */ .pC)(u))null!=u.sublayer&&null==s.layer.layerId&&(l=u.sublayer),i=u.url.path;else if(s.nonStandardUrlAllowed){const r=m(o.path);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__/* .isSome */ .pC)(r)&&(i=r.serviceUrl,l=r.sublayerId)}return{url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .removeTrailingSlash */ .Qj)(i),layerId:l}}function C(e,r,t,n,i){(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_1__.w)(r,n,"url",i),n.url&&null!=e.layerId&&(n.url=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .join */ .v_)(n.url,t,e.layerId.toString()))}function S(e){if(!e)return!1;const r=e.toLowerCase(),t=-1!==r.indexOf("/services/"),n=-1!==r.indexOf("/mapserver/wmsserver"),s=-1!==r.indexOf("/imageserver/wmsserver"),i=-1!==r.indexOf("/wmsserver");return t&&(n||s||i)}function L(e){if(!e)return!1;const r=new i(o(e)).authority.toLowerCase();return"server.arcgisonline.com"===r||"services.arcgisonline.com"===r}function b(e){if(!e)return!1;return new i(o(e)).authority.toLowerCase().includes("arcgis.com")}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js?')},53110:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ b)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/assets.js\nvar assets = __webpack_require__(36567);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar core_Error = __webpack_require__(70375);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules\nvar JSONSupport = __webpack_require__(82064);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js\nvar lang = __webpack_require__(67134);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Loadable.js\nvar Loadable = __webpack_require__(68309);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(61681);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/urlUtils.js\nvar urlUtils = __webpack_require__(3466);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js\nvar reader = __webpack_require__(34248);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\nvar subclass = __webpack_require__(40266);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js\nvar Extent = __webpack_require__(91772);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/portal/Portal.js + 1 modules\nvar Portal = __webpack_require__(26869);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 3 modules\nvar Accessor = __webpack_require__(53443);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(13802);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js\nvar arrayUtils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js\nvar cast = __webpack_require__(69236);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/portal/PortalItemResource.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst h=Logger/* default.getLogger */.Z.getLogger("esri.portal.PortalItemResource");let n=class extends Accessor/* default */.Z{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t&&t.portalItem&&t.path?{...t,path:this._normalizePath(t.path,t.portalItem)}:t}set path(t){(0,maybe/* isSome */.pC)(t)&&(0,urlUtils/* isAbsolute */.YP)(t)?h.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return this._normalizePath(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){const o=this.url;if((0,maybe/* isNone */.Wi)(o))throw new core_Error/* default */.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(o,{responseType:t,query:{token:this.portalItem.apiKey},signal:(0,maybe/* get */.U2)(r,"signal")})}async update(t,r){return(await __webpack_require__.e(/* import() */ 8611).then(__webpack_require__.bind(__webpack_require__, 68611))).addOrUpdateResource(this,"update",t,r)}hasPath(){return (0,maybe/* isSome */.pC)(this.path)}_normalizePath(t,r){return (0,maybe/* isNone */.Wi)(t)?t:(t=t.replace(/^\\/+/,""),(0,maybe/* isSome */.pC)(r)&&(0,urlUtils/* isAbsolute */.YP)(t)&&(t=(0,urlUtils/* makeRelative */.PF)(t,r.itemUrl)),t.replace(/^\\/+/,"").replace(/^(\\.\\/)?resources\\//,""))}};(0,tslib_es6._)([(0,property/* property */.Cb)()],n.prototype,"portalItem",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:String,value:null})],n.prototype,"path",null),(0,tslib_es6._)([(0,cast/* cast */.p)("path")],n.prototype,"_castPath",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:String,readOnly:!0})],n.prototype,"url",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:String,readOnly:!0})],n.prototype,"itemRelativeUrl",null),n=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.portal.PortalItemResource")],n);const y=n;\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/portal/PortalRating.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet e=class extends Accessor/* default */.Z{constructor(r){super(r),this.created=null,this.rating=null}};(0,tslib_es6._)([(0,property/* property */.Cb)()],e.prototype,"created",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],e.prototype,"rating",void 0),e=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.portal.PortalRating")],e);const c=e;\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/portal/PortalItem.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar v;let w=v=class extends((0,JSONSupport/* JSONSupportMixin */.eC)(Loadable/* default */.Z)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return (0,ensureType/* ensureClass */.TJ)(v,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return"Feature Service"===e||"Feature Collection"===e?i=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?i=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?i="Scene Layer":"Media Service"===e?i="Media Layer":"Scene Package"===e?i="Scene Layer Package":"Stream Service"===e?i="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?i=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?i="Locator":"Geoenrichment Service"===e?i="GeoEnrichment Service":"Microsoft Powerpoint"===e?i="Microsoft PowerPoint":"GeoJson"===e?i="GeoJSON":"Globe Service"===e?i="Globe Layer":"Vector Tile Service"===e?i="Tile Layer":"netCDF"===e?i="NetCDF":"Map Service"===e?i=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?i=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?i="Big Data File Share":"Compact Tile Package"===e?i="Tile Package (tpkx)":"OGCFeatureServer"===e?i="OGC Feature Layer":"web mapping application"===e&&t.indexOf("configurableApp")>-1&&(i="Instant App"),i}readExtent(e){return e&&e.length?new Extent/* default */.Z(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",i=this.typeKeywords||[],r="esri/images/portal/",o="16";let a,s=!1,n=!1,l=!1,p=!1,c=!1,d=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(s=i.indexOf("Hosted Service")>-1,"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(n=i.indexOf("Table")>-1,l=i.indexOf("Route Layer")>-1,p=i.indexOf("Markup")>-1,c=-1!==i.indexOf("Spatiotemporal"),d=-1!==i.indexOf("UtilityNetwork"),a=c&&n?"spatiotemporaltable":n?"table":l?"routelayer":p?"markup":c?"spatiotemporal":s?"featureshosted":d?"utilitynetwork":"features"):a="map service"===e||"wms"===e||"wmts"===e?s||i.indexOf("Tiled")>-1||"wmts"===e?"maptiles":"mapimages":"scene service"===e?i.indexOf("Line")>-1?"sceneweblayerline":i.indexOf("3DObject")>-1?"sceneweblayermultipatch":i.indexOf("Point")>-1?"sceneweblayerpoint":i.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":i.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":i.indexOf("Polygon")>-1?"sceneweblayerpolygon":i.indexOf("Building")>-1?"sceneweblayerbuilding":i.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===e?i.indexOf("Elevation 3D Layer")>-1?"elevationlayer":i.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"media service"===e?"mediaservice":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e&&i.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):a="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?i.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===e&&i.indexOf("configurableApp")>-1?"instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&i.indexOf("ArcGIS Pro")>-1||"explorer map"===e&&i.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&i.indexOf("Explorer Mapping Application")>-1||i.indexOf("Document")>-1?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"hub project"===e?"hubproject":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"experience builder widget"===e?"experiencebuilderwidget":"experience builder widget package"===e?"experiencebuilderwidgetpackage":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"apache parquet"===e?"apacheparquet":"maps",a?(0,assets/* getAssetUrl */.V)(r+a+o+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");if(!t)return null;return`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`}load(e){this.portal||(this.portal=Portal/* default.getDefault */.Z.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:(0,maybe/* isSome */.pC)(e)?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof c&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new c({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,lang/* clone */.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,lang/* clone */.d9)(this.categories),created:(0,lang/* clone */.d9)(this.created),culture:this.culture,description:this.description,extent:(0,lang/* clone */.d9)(this.extent),groupCategories:(0,lang/* clone */.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,lang/* clone */.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,lang/* clone */.d9)(this.screenshots),size:this.size,snippet:this.snippet,tags:(0,lang/* clone */.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,lang/* clone */.d9)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new v({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then((e=>null!=e.rating?(e.created=new Date(e.created),new c(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},v)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,i={method:"post"};i.query=this.createPostQuery();for(const e in i.query)null===i.query[e]&&(i.query[e]="");return i.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?i.query.text=t:"object"==typeof t&&(i.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,i).then((()=>this.reload()))})):Promise.reject(new core_Error/* default */.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if("string"==typeof t)(0,urlUtils/* isDataProtocol */.HK)(t)?r.query={data:t}:r.query={url:(0,urlUtils/* makeAbsolute */.hF)(t)},(0,maybe/* isSome */.pC)(i)&&(r.query.filename=i);else{const e=new FormData;(0,maybe/* isSome */.pC)(i)?e.append("file",t,i):e.append("file",t),r.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new core_Error/* default */.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await __webpack_require__.e(/* import() */ 8611).then(__webpack_require__.bind(__webpack_require__, 68611))).fetchResources(this,e,t)}async addResource(e,t,i){const r=await __webpack_require__.e(/* import() */ 8611).then(__webpack_require__.bind(__webpack_require__, 68611));return e.portalItem=this,r.addOrUpdateResource(e,"add",t,i)}async removeResource(e,t){const r=await __webpack_require__.e(/* import() */ 8611).then(__webpack_require__.bind(__webpack_require__, 68611));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new core_Error/* default */.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await __webpack_require__.e(/* import() */ 8611).then(__webpack_require__.bind(__webpack_require__, 68611))).removeAllResources(this,e)}resourceFromPath(e){return new y({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return (0,lang/* fixJson */.yd)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new v({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,tslib_es6._)([(0,property/* property */.Cb)({type:["private","shared","org","public"]})],w.prototype,"access",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"accessInformation",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:String})],w.prototype,"apiKey",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({json:{read:{source:"appProxies"}}})],w.prototype,"applicationProxies",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"avgRating",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"categories",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:Date})],w.prototype,"created",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"culture",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"description",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],w.prototype,"displayName",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:Extent/* default */.Z})],w.prototype,"extent",void 0),(0,tslib_es6._)([(0,reader/* reader */.r)("extent")],w.prototype,"readExtent",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"groupCategories",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],w.prototype,"iconUrl",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],w.prototype,"isLayer",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"itemControl",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],w.prototype,"itemUrl",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"licenseInfo",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:Date})],w.prototype,"modified",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"numComments",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"numRatings",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"numViews",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"owner",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"ownerFolder",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:Portal/* default */.Z})],w.prototype,"portal",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"screenshots",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"size",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"snippet",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"sourceJSON",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"tags",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"thumbnail",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],w.prototype,"thumbnailUrl",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"title",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"typeKeywords",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],w.prototype,"url",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],w.prototype,"userItemUrl",null),w=v=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.portal.PortalItem")],w);const b=w;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/portal/PortalItem.js_+_2_modules?')},6923:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "a": () => (/* binding */ m)\n/* harmony export */ });\n/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17321);\n/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14260);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst m={inches:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","inches"),feet:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","feet"),"us-feet":(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","us-feet"),yards:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","yards"),miles:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","miles"),"nautical-miles":(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","nautical-miles"),millimeters:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","millimeters"),centimeters:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","centimeters"),decimeters:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","decimeters"),meters:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","meters"),kilometers:(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .En)(1,"meters","kilometers"),"decimal-degrees":1/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .lengthToDegrees */ .ty)(1,"meters",_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_1__/* .earth.radius */ .sv.radius)};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/renderers/support/lengthUtils.js?')},36496:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "getAllSizes": () => (/* binding */ T),\n/* harmony export */   "getColor": () => (/* binding */ b),\n/* harmony export */   "getOpacity": () => (/* binding */ h),\n/* harmony export */   "getRotationAngle": () => (/* binding */ m),\n/* harmony export */   "getSize": () => (/* binding */ y),\n/* harmony export */   "getSizeForValue": () => (/* binding */ M),\n/* harmony export */   "getSizeFromNumberOrVariable": () => (/* binding */ w),\n/* harmony export */   "getSizeRangeAtScale": () => (/* binding */ k),\n/* harmony export */   "getVisualVariableValues": () => (/* binding */ N),\n/* harmony export */   "viewScaleRE": () => (/* binding */ v)\n/* harmony export */ });\n/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30936);\n/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80085);\n/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(27755);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(13802);\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(61681);\n/* harmony import */ var _support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6923);\n/* harmony import */ var _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67272);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst f=_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].getLogger */ .Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),p=new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z,d=Math.PI,v=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function b(a,r,i){const t="visualVariables"in a&&a.visualVariables?a.visualVariables.find((e=>"color"===e.type)):a;if(!t)return;if("esri.renderers.visualVariables.ColorVariable"!==t.declaredClass)return void f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof r,o=s?null:r,l=o&&o.attributes;let c=s?r:null;const u=t.field,{ipData:p,hasExpression:d}=t.cache;let v=t.cache.compiledFunc;if(!u&&!d){const e=t.stops;return e&&e[0]&&e[0].color}if("number"!=typeof c)if(d){if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isSome */ .pC)(i)||!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isSome */ .pC)(i.arcade))return void f.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,r=a.getViewInfo(e),s=a.createExecContext(o,r);if(!v){const e=a.createSyntaxTree(t.valueExpression);v=a.createFunction(e),t.cache.compiledFunc=v}c=a.executeFunction(v,s)}else l&&(c=l[u]);const b=t.normalizationField,h=l?parseFloat(l[b]):void 0;if(null!=c&&(!b||s||!isNaN(h)&&0!==h)){isNaN(h)||s||(c/=h);const a=R(c,p);if(a){const r=a[0],s=a[1],o=r===s?t.stops[r].color:_Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].blendColors */ .Z.blendColors(t.stops[r].color,t.stops[s].color,a[2],(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isSome */ .pC)(i)?i.color:void 0);return new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(o)}}}function h(e,a,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"opacity"===e.type)):e;if(!i)return;if("esri.renderers.visualVariables.OpacityVariable"!==i.declaredClass)return void f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const n="number"==typeof a,s=n?null:a,o=s&&s.attributes;let l=n?a:null;const c=i.field,{ipData:u,hasExpression:p}=i.cache;let d=i.cache.compiledFunc;if(!c&&!p){const e=i.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(p){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isNone */ .Wi)(r)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isNone */ .Wi)(r.arcade))return void f.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},a=r.arcade.arcadeUtils,n=a.getViewInfo(e),o=a.createExecContext(s,n);if(!d){const e=a.createSyntaxTree(i.valueExpression);d=a.createFunction(e),i.cache.compiledFunc=d}l=a.executeFunction(d,o)}else o&&(l=o[c]);const v=i.normalizationField,b=o?parseFloat(o[v]):void 0;if(null!=l&&(!v||n||!isNaN(b)&&0!==b)){isNaN(b)||n||(l/=b);const e=R(l,u);if(e){const a=e[0],r=e[1];if(a===r)return i.stops[a].opacity;{const n=i.stops[a].opacity;return n+(i.stops[r].opacity-n)*e[2]}}}}function m(e,a,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"rotation"===e.type)):e;if(!i)return;if("esri.renderers.visualVariables.RotationVariable"!==i.declaredClass)return void f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const n=i.axis||"heading",s="heading"===n&&"arithmetic"===i.rotationType?90:0,o="heading"===n&&"arithmetic"===i.rotationType?-1:1,l="number"==typeof a?null:a,c=l&&l.attributes,u=i.field,{hasExpression:p}=i.cache;let d=i.cache.compiledFunc,v=0;if(!u&&!p)return v;if(p){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isNone */ .Wi)(r)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isNone */ .Wi)(r.arcade))return void f.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},a=r.arcade.arcadeUtils,n=a.getViewInfo(e),s=a.createExecContext(l,n);if(!d){const e=a.createSyntaxTree(i.valueExpression);d=a.createFunction(e),i.cache.compiledFunc=d}v=a.executeFunction(d,s)}else c&&(v=c[u]||0);return v="number"!=typeof v||isNaN(v)?null:s+o*v,v}function V(e,a,r){const i="number"==typeof a,s=i?null:a,o=s&&s.attributes;let c=i?a:null;const{isScaleDriven:p}=e.cache;let d=e.cache.compiledFunc;if(p){const a=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isSome */ .pC)(r)?r.scale:void 0,i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isSome */ .pC)(r)?r.view:void 0;c=null==a||"3d"===i?x(e):a}else if(!i)switch(e.inputValueType){case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .InputValueType.Expression */ .RY.Expression:{if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isNone */ .Wi)(r)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isNone */ .Wi)(r.arcade))return void f.error("Use of arcade expressions requires an arcade context");const a={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},i=r.arcade.arcadeUtils,n=i.getViewInfo(a),o=i.createExecContext(s,n);if(!d){const a=i.createSyntaxTree(e.valueExpression);d=i.createFunction(a),e.cache.compiledFunc=d}c=i.executeFunction(d,o);break}case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .InputValueType.Field */ .RY.Field:o&&(c=o[e.field]);break;case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .InputValueType.Unknown */ .RY.Unknown:c=null}if(!(0,_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isValidNumber */ .qh)(c))return null;if(i||!e.normalizationField)return c;const v=o?parseFloat(o[e.normalizationField]):null;return (0,_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isValidNumber */ .qh)(v)&&0!==v?c/v:null}function x(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}function y(e,a,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"size"===e.type)):e;if(!i)return;if("esri.renderers.visualVariables.SizeVariable"!==i.declaredClass)return void f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const n=M(V(i,a,r),i,a,r,i.cache.ipData);return null==n||isNaN(n)?0:n}function w(e,a,r){return null==e?null:(0,_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isSizeVariable */ .iY)(e)?y(e,a,r):(0,_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isValidNumber */ .qh)(e)?e:null}function g(e,a,r){return (0,_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isValidNumber */ .qh)(r)&&e>r?r:(0,_sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isValidNumber */ .qh)(a)&&e<a?a:e}function z(e,a,r,i){return e+(w(a.minSize,r,i)||a.minDataValue)}function F(e,a,r){const i=e.stops;let n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),w(n,a,r)}function S(e,a,r,i){const t=(e-a.minDataValue)/(a.maxDataValue-a.minDataValue),s=w(a.minSize,r,i),o=w(a.maxSize,r,i),l=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isSome */ .pC)(i)?i.shape:void 0;if(e<=a.minDataValue)return s;if(e>=a.maxDataValue)return o;if("area"===a.scaleBy&&l){const e="circle"===l,a=e?d*(s/2)**2:s*s,r=a+t*((e?d*(o/2)**2:o*o)-a);return e?2*Math.sqrt(r/d):Math.sqrt(r)}return s+t*(o-s)}function E(e,a,r,i){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isSome */ .pC)(i)?i.shape:void 0,s=e/a.minDataValue,o=w(a.minSize,r,i),l=w(a.maxSize,r,i);let c=null;return c="circle"===t?2*Math.sqrt(s*(o/2)**2):"square"===t||"diamond"===t||"image"===t?Math.sqrt(s*o**2):s*o,g(c,o,l)}function U(e,a,r,i,n){const[t,s,o]=R(e,n);if(t===s)return w(a.stops[t].size,r,i);{const e=w(a.stops[t].size,r,i);return e+(w(a.stops[s].size,r,i)-e)*o}}function C(e,a,r,i){const t=((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__/* .isSome */ .pC)(i)&&i.resolution?i.resolution:1)*_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .meterIn */ .a[a.valueUnit],o=w(a.minSize,r,i),l=w(a.maxSize,r,i),{valueRepresentation:c}=a;let u=null;return u="area"===c?2*Math.sqrt(e/d)/t:"radius"===c||"distance"===c?2*e/t:e/t,g(u,o,l)}function D(e){return e}function M(e,a,r,i,n){switch(a.transformationType){case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .TransformationType.Additive */ .hL.Additive:return z(e,a,r,i);case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .TransformationType.Constant */ .hL.Constant:return F(a,r,i);case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .TransformationType.ClampedLinear */ .hL.ClampedLinear:return S(e,a,r,i);case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .TransformationType.Proportional */ .hL.Proportional:return E(e,a,r,i);case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .TransformationType.Stops */ .hL.Stops:return U(e,a,r,i,n);case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .TransformationType.RealWorldSize */ .hL.RealWorldSize:return C(e,a,r,i);case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .TransformationType.Identity */ .hL.Identity:return D(e);case _sizeVariableUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .TransformationType.Unknown */ .hL.Unknown:return null}}function k(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&"3d"===r||a))return null;const n={scale:a,view:r};let t=w(e.minSize,p,n),s=w(e.maxSize,p,n);if(null!=t||null!=s){if(t>s){const e=s;s=t,t=e}return{minSize:t,maxSize:s}}}function N(e,a,r){if(!e.visualVariables)return;const i=[],n=[],t=[],s=[],o=[];for(const l of e.visualVariables)switch(l.type){case"color":n.push(l);break;case"opacity":t.push(l);break;case"rotation":o.push(l);break;case"size":s.push(l)}return n.forEach((e=>{const n=b(e,a,r);i.push({variable:e,value:n})})),t.forEach((e=>{const n=h(e,a,r);i.push({variable:e,value:n})})),o.forEach((e=>{const n=m(e,a,r);i.push({variable:e,value:n})})),s.forEach((e=>{const n=y(e,a,r);i.push({variable:e,value:n})})),i.filter((e=>null!=e.value))}function R(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,n)=>e<a?(i=n,!0):(r=n,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function T(e,a,i){const n=["proportional","proportional","proportional"];for(const t of e){const e=t.useSymbolValue?"symbol-value":y(t,a,i);switch(t.axis){case"width":n[0]=e;break;case"depth":n[1]=e;break;case"height":n[2]=e;break;case"width-and-depth":n[0]=e,n[1]=e;break;case"all":case void 0:case null:n[0]=e,n[1]=e,n[2]=e;break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .neverReached */ .Bg)(t.axis)}}return n}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js?')},78254:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "P": () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(84238);\n/* harmony import */ var _operations_query_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28500);\n/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14136);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nasync function n(n,s,m){const p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .parseUrl */ .en)(n);return (0,_operations_query_js__WEBPACK_IMPORTED_MODULE_1__.executeQueryForCount)(p,_support_Query_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].from */ .Z.from(s),{...m}).then((o=>o.data.count))}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/rest/query/executeForCount.js?')},13865:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "G": () => (/* binding */ s)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(84238);\n/* harmony import */ var _operations_query_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28500);\n/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14136);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nasync function s(s,e,m){const n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .parseUrl */ .en)(s);return (0,_operations_query_js__WEBPACK_IMPORTED_MODULE_1__.executeQueryForIds)(n,_support_Query_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"].from */ .Z.from(e),{...m}).then((o=>o.data.objectIds))}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/rest/query/executeForIds.js?')},96027:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "F": () => (/* binding */ a),\n/* harmony export */   "e": () => (/* binding */ s)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(84238);\n/* harmony import */ var _operations_query_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28500);\n/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(51211);\n/* harmony import */ var _support_Query_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(14136);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nasync function s(r,t,e){const s=await a(r,t,e);return _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_2__["default"].fromJSON(s)}async function a(o,s,a){const n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .parseUrl */ .en)(o),i={...a},p=_support_Query_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].from */ .Z.from(s),{data:u}=await (0,_operations_query_js__WEBPACK_IMPORTED_MODULE_1__.executeQuery)(n,p,p.sourceSpatialReference,i);return u}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/rest/query/executeQueryJSON.js?')},42544:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ l)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules\nvar JSONSupport = __webpack_require__(82064);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js\nvar arrayUtils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\nvar subclass = __webpack_require__(40266);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/layers/support/exifUtils.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction n(n){const{exifInfo:e,exifName:a,tagName:u}=n;if(!e||!a||!u)return null;const f=e.find((n=>n.name===a));return f?t({tagName:u,tags:f.tags}):null}function t(n){const{tagName:t,tags:e}=n;if(!e||!t)return null;const a=e.find((n=>n.name===t));return a&&a.value||null}\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/rest/query/support/AttachmentInfo.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nvar s;const p={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let a=s=class extends JSONSupport/* JSONSupport */.wq{constructor(t){super(t),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:t}=this,o=n({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:t});return p[o]||null}clone(){return new s({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,tslib_es6._)([(0,property/* property */.Cb)({type:String})],a.prototype,"contentType",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],a.prototype,"exifInfo",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],a.prototype,"orientationInfo",null),(0,tslib_es6._)([(0,property/* property */.Cb)({type:ensureType/* Integer */.z8})],a.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:String})],a.prototype,"globalId",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:String})],a.prototype,"keywords",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:String})],a.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({json:{read:!1}})],a.prototype,"parentGlobalId",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({json:{read:!1}})],a.prototype,"parentObjectId",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({type:ensureType/* Integer */.z8})],a.prototype,"size",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)({json:{read:!1}})],a.prototype,"url",void 0),a=s=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.layers.support.AttachmentInfo")],a);const l=a;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/rest/query/support/AttachmentInfo.js_+_1_modules?')},84238:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "cv": () => (/* binding */ l),\n/* harmony export */   "en": () => (/* binding */ o),\n/* harmony export */   "lA": () => (/* binding */ s)\n/* harmony export */ });\n/* unused harmony export toDynamicLayersJSON */\n/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3466);\n/* harmony import */ var _geometry_support_scaleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(68577);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction s(e,n){return n?{...n,query:{...e,...n.query}}:{query:e}}function o(e){return"string"==typeof e?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .urlToObject */ .mN)(e):e}function l(e,n,t){const i={};for(const r in e){if("declaredClass"===r)continue;const s=e[r];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){i[r]=[];for(let e=0;e<s.length;e++)i[r][e]=l(s[e])}else if("object"==typeof s)if(s.toJSON){const e=s.toJSON(t&&t[r]);i[r]=n?e:JSON.stringify(e)}else i[r]=n?s:JSON.stringify(s);else i[r]=s}return i}function f({mapExtent:e,floors:n,width:r,sublayers:s,layerIds:o}){const l={},f={extent:e,width:r,spatialReference:null==e?void 0:e.spatialReference};let u=s;null!=o&&o.length&&s&&(u=s.filter((e=>o.includes(e.id))));const c=t(f),y=[],p=e=>{const n=0===c,t=0===e.minScale||c<=e.minScale,i=0===e.maxScale||c>=e.maxScale;e.visible&&(n||t&&i)&&(e.sublayers?e.sublayers.forEach(p):y.unshift(e))};if(u&&u.forEach(p),u&&u.length){const e=y.map((e=>{const t=i(n,e);return e.toExportImageJSON(t)})),t=e.some((e=>"mapLayer"===e.source.type?e.source.mapLayerId!==e.id:"dataLayer"===e.source.type));if(t){let n=JSON.stringify(e);"[]"===n&&(n="[{}]"),l.dynamicLayers=n}else if(!t){if(null!=o&&o.length)l.layerIds=o;else{const e=u.map((({id:e})=>e));e.length&&(l.layerIds=e)}const e=a({floors:n,visibleSublayers:y});if(e&&e.length){const n=e.reduce(((e,n)=>(n.definitionExpression&&(e[n.id]=n.definitionExpression),e)),{});Object.keys(n).length&&(l.layerDefs=JSON.stringify(n))}}}else null!=o&&o.length&&(l.layerIds=o);return l}function a({floors:n,visibleSublayers:t}){const s=!(null==n||!n.length),o=t.filter((e=>null!=e.definitionExpression||s&&null!=e.floorInfo));if(!o.length)return null;return o.map((t=>{const s=i(n,t),o=e(s)?r(s,t):t.definitionExpression,l={id:t.id,definitionExpression:null};return o&&(l.definitionExpression=o),l}))}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/rest/utils.js?')},86094:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "ET": () => (/* binding */ o),\n/* harmony export */   "I4": () => (/* binding */ l),\n/* harmony export */   "eG": () => (/* binding */ r),\n/* harmony export */   "lF": () => (/* binding */ S),\n/* harmony export */   "lj": () => (/* binding */ y),\n/* harmony export */   "qP": () => (/* binding */ t),\n/* harmony export */   "wW": () => (/* binding */ s)\n/* harmony export */ });\n/* unused harmony exports defaultColor, defaultOutlineColor */\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst e=[252,146,31,255],i=(/* unused pure expression or super */ null && ([153,153,153,255])),l={type:"esriSMS",style:"esriSMSCircle",size:6,color:e,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:e},S={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},t={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},r={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},s={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},y={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/support/defaultsJSON.js?')},37193:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "q": () => (/* binding */ a)\n/* harmony export */ });\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(95156);\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70375);\n/* harmony import */ var _WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(27948);\n/* harmony import */ var _PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(60378);\n/* harmony import */ var _SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15498);\n/* harmony import */ var _LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(62063);\n/* harmony import */ var _SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1759);\n/* harmony import */ var _PictureMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(86036);\n/* harmony import */ var _SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(43411);\n/* harmony import */ var _PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(57770);\n/* harmony import */ var _TextSymbol_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(27624);\n/* harmony import */ var _LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(63295);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst p={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function a(a,S=p){if(!a)return{symbol:null};const{retainId:c=p.retainId,ignoreDrivers:u=p.ignoreDrivers,hasLabelingContext:d=p.hasLabelingContext,retainCIM:j=p.retainCIM}=S;let D;if((0,_symbols_js__WEBPACK_IMPORTED_MODULE_0__/* .isSymbol3D */ .dU)(a)||a instanceof _WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)D=a.clone();else if("cim"===a.type){var g,C;const o=null==(g=a.data)||null==(C=g.symbol)?void 0:C.type;if("CIMPointSymbol"!==o)return{error:new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type \'${o||"unknown"}\' is unsupported in 3D`,{symbol:a})};D=j?a.clone():_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromCIMSymbol */ .Z.fromCIMSymbol(a)}else if(a instanceof _SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)D=_LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"].fromSimpleLineSymbol */ .Z.fromSimpleLineSymbol(a);else if(a instanceof _SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)D=_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromSimpleMarkerSymbol */ .Z.fromSimpleMarkerSymbol(a);else if(a instanceof _PictureMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)D=_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromPictureMarkerSymbol */ .Z.fromPictureMarkerSymbol(a);else if(a instanceof _SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)D=_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"].fromSimpleFillSymbol */ .Z.fromSimpleFillSymbol(a);else{if(!(a instanceof _TextSymbol_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z))return{error:new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type \'${a.type||a.declaredClass}\' is unsupported in 3D`,{symbol:a})};D=d?_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"].fromTextSymbol */ .Z.fromTextSymbol(a):_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"].fromTextSymbol */ .Z.fromTextSymbol(a)}if(c&&"cim"!==D.type&&(D.id=a.id),u&&(0,_symbols_js__WEBPACK_IMPORTED_MODULE_0__/* .isSymbol3D */ .dU)(D))for(let o=0;o<D.symbolLayers.length;++o)D.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:D}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/support/symbolConversion.js?')}}]);