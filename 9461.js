"use strict";(self.webpackChunkreveal_js_testing=self.webpackChunkreveal_js_testing||[]).push([[9461],{7505:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "ym": () => (/* binding */ d),\n/* harmony export */   "RF": () => (/* binding */ L),\n/* harmony export */   "vY": () => (/* binding */ m),\n/* harmony export */   "J9": () => (/* binding */ U),\n/* harmony export */   "U1": () => (/* binding */ k),\n/* harmony export */   "Ie": () => (/* binding */ q),\n/* harmony export */   "G6": () => (/* binding */ v)\n/* harmony export */ });\n/* unused harmony exports equals, getQuantizedBoundsCoordsArray, getQuantizedBoundsCoordsArrayArray, getQuantizedBoundsPaths, getQuantizedBoundsPoints, getQuantizedBoundsRings, quantizeBounds, quantizeExtent, quantizeMultipoint, quantizePaths, quantizePoints, quantizePolygon, quantizePolyline, quantizeRings, quantizeX, quantizeY, unquantizeBounds, unquantizeCoordsArray, unquantizeCoordsArrayArray, unquantizeExtent, unquantizePaths, unquantizePoints, unquantizeRings, unquantizeX, unquantizeY */\n/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(53736);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction i(n){return n&&"upperLeft"===n.originPosition}const o=(n,t,r)=>[t,r],l=(n,t,r)=>[t,r,n[2]],a=(n,t,r)=>[t,r,n[2],n[3]];function m(n){if(!n)return null;return{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}}function c(n,t){if(n===t||null==n&&null==t)return!0;if(null==n||null==t)return!1;let r,e,u,o,l,a;return i(n)?(r=n.translate[0],e=n.translate[1],u=n.scale[0]):(r=n.extent.xmin,e=n.extent.ymax,u=n.tolerance),i(t)?(o=t.translate[0],l=t.translate[1],a=t.scale[0]):(o=t.extent.xmin,l=t.extent.ymax,a=t.tolerance),r===o&&e===l&&u===a}function s({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function f({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function x(n,t,r){const e=[];let u,i,o,l;for(let a=0;a<r.length;a++){const m=r[a];a>0?(o=s(n,m[0]),l=f(n,m[1]),o===u&&l===i||(e.push(t(m,o-u,l-i)),u=o,i=l)):(u=s(n,m[0]),i=f(n,m[1]),e.push(t(m,u,i)))}return e.length>0?e:null}function h(n,t,r){return t[0]=s(n,r[0]),t[3]=f(n,r[1]),t[2]=s(n,r[2]),t[1]=f(n,r[3]),t}function I(n,t,r,e){return x(n,r?e?a:l:e?l:o,t)}function g(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let o=0;o<t.length;o++){const r=x(n,i,t[o]);r&&r.length>=3&&u.push(r)}return u.length?u:null}function N(n,t,r,e){const u=[],i=r?e?a:l:e?l:o;for(let o=0;o<t.length;o++){const r=x(n,i,t[o]);r&&r.length>=2&&u.push(r)}return u.length?u:null}function p({scale:n,translate:t},r){return r*n[0]+t[0]}function y({scale:n,translate:t},r){return t[1]-r*n[1]}function z(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[u,i]=n.scale;let o=p(n,r[0][0]),l=y(n,r[0][1]);e[0]=t(r[0],o,l);for(let a=1;a<r.length;a++){const n=r[a];o+=n[0]*u,l-=n[1]*i,e[a]=t(n,o,l)}return e}function T(n,t,r){const e=new Array(r.length);for(let u=0;u<r.length;u++)e[u]=z(n,t,r[u]);return e}function M(n,t,r){return r?(t[0]=p(n,r[0]),t[1]=y(n,r[3]),t[2]=p(n,r[2]),t[3]=y(n,r[1]),t):[p(n,t[0]),y(n,t[3]),p(n,t[2]),y(n,t[1])]}function E(n,t,r,e){return z(n,r?e?a:l:e?l:o,t)}function P(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function b(n,t,r,e){return T(n,r?e?a:l:e?l:o,t)}function F(n,t,r){let[e,u]=r[0],i=Math.min(e,t[0]),o=Math.min(u,t[1]),l=Math.max(e,t[2]),a=Math.max(u,t[3]);for(let m=1;m<r.length;m++){const[n,t]=r[m];e+=n,u+=t,n<0&&(i=Math.min(i,e)),n>0&&(l=Math.max(l,e)),t<0?o=Math.min(o,u):t>0&&(a=Math.max(a,u))}return n[0]=i,n[1]=o,n[2]=l,n[3]=a,n}function V(n,t){if(!t.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY,n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<t.length;r++)F(n,n,t[r]);return n}function Y(n){const t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return F(t,t,n)}function _(n){return V([0,0,0,0],n)}function A(n){return V([0,0,0,0],n)}function w(n,t,r,e,u){return t.xmin=s(n,r.xmin),t.ymin=f(n,r.ymin),t.xmax=s(n,r.xmax),t.ymax=f(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function G(n,t,r,e,u){return t.points=I(n,r.points,e,u),t}function L(n,t,r,e,u){return t.x=s(n,r.x),t.y=f(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function O(n,t,r,e,u){const i=g(n,r.rings,e,u);return i?(t.rings=i,t):null}function S(n,t,r,e,u){const i=N(n,r.paths,e,u);return i?(t.paths=i,t):null}function d(i,o){return i&&o?(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isPoint */ .wp)(o)?L(i,{},o,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isPolyline */ .l9)(o)?S(i,{},o,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isPolygon */ .oU)(o)?O(i,{},o,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isMultipoint */ .aW)(o)?G(i,{},o,!1,!1):(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isExtent */ .YX)(o)?w(i,{},o,!1,!1):null:null}function j(n,t,r,e,u){return t.xmin=p(n,r.xmin),t.ymin=y(n,r.ymin),t.xmax=p(n,r.xmax),t.ymax=y(n,r.ymax),t!==r&&(e&&(t.zmin=r.zmin,t.zmax=r.zmax),u&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function U(n,t,r,e,u){return t.points=E(n,r.points,e,u),t}function k(n,t,r,e,u){return t.x=p(n,r.x),t.y=y(n,r.y),t!==r&&(e&&(t.z=r.z),u&&(t.m=r.m)),t}function q(n,t,r,e,u){return t.rings=b(n,r.rings,e,u),t}function v(n,t,r,e,u){return t.paths=P(n,r.paths,e,u),t}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/geometry/support/quantizationUtils.js?')},556:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(31775);\n/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10927);\n/* harmony import */ var _SDFHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(89626);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(60789);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst s=512;class o{dispose(){this._rasterizationCanvas=null}rasterizeJSONResource(i,s,o){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),"simple-fill"===i.type||"esriSFS"===i.type){const[r,t,a]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__/* .SymbolHelper.rasterizeSimpleFill */ .fN.rasterizeSimpleFill(this._rasterizationCanvas,i.style,s);return{size:[t,a],image:new Uint32Array(r.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if("simple-line"===i.type||"esriSLS"===i.type){const[r,t,a]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__/* .SymbolHelper.rasterizeSimpleLine */ .fN.rasterizeSimpleLine(i.style,i.cap);return{size:[t,a],image:new Uint32Array(r.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let m,l,f;if("simple-marker"===i.type||"esriSMS"===i.type||"line-marker"===i.type?(m=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__/* .CIMSymbolHelper.fromSimpleMarker */ .B$.fromSimpleMarker(i),f=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .getSDFInfo */ .Fp)(m)):"CIMHatchFill"===i.type?(m=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__/* .CIMSymbolHelper.fromCIMHatchFill */ .B$.fromCIMHatchFill(i),l=new _Rect_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):i.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===i.markerPlacement.type?(m=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__/* .CIMSymbolHelper.fromCIMInsidePolygon */ .B$.fromCIMInsidePolygon(i),l=new _Rect_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(m.frame.xmin,-m.frame.ymax,m.frame.xmax-m.frame.xmin,m.frame.ymax-m.frame.ymin)):(m=i,f=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .getSDFInfo */ .Fp)(m)),f&&!o){const[e,r,t]=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .buildSDF */ .RL)(f);return e?{size:[r,t],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}const[c,h,p,y,u]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_0__/* .CIMSymbolHelper.rasterize */ .B$.rasterize(this._rasterizationCanvas,m,l,!o);return c?{size:[h,p],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:y,anchorY:u}:null}rasterizeImageResource(e,r,t,a){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=r;const n=this._rasterizationCanvas.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):(t.setAttribute("width",`${e}px`),t.setAttribute("height",`${r}px`),n.drawImage(t,0,0,e,r));const o=n.getImageData(0,0,e,r),m=new Uint8Array(o.data);if(a)for(const i of a)if(i&&i.oldColor&&4===i.oldColor.length&&i.newColor&&4===i.newColor.length){const[e,r,t,a]=i.oldColor,[n,s,o,l]=i.newColor;if(e===n&&r===s&&t===o&&a===l)continue;for(let i=0;i<m.length;i+=4)e===m[i]&&r===m[i+1]&&t===m[i+2]&&a===m[i+3]&&(m[i]=n,m[i+1]=s,m[i+2]=o,m[i+3]=l)}let l;for(let i=0;i<m.length;i+=4)l=m[i+3]/255,m[i]=m[i]*l,m[i+1]=m[i+1]*l,m[i+2]=m[i+2]*l;let f=m,c=e,h=r;const p=s;if(c>=p||h>=p){const t=c/h;t>1?(c=p,h=Math.round(p/t)):(h=p,c=Math.round(p*t)),f=new Uint8Array(4*c*h);const a=new Uint8ClampedArray(f.buffer);(0,_utils_js__WEBPACK_IMPORTED_MODULE_3__/* .resampleHermite */ .TT)(m,e,r,a,c,h,!1)}return{size:[c,h],image:new Uint32Array(f.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (o);\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/cim/Rasterizer.js?')},89626:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "RL": () => (/* binding */ a),\n/* harmony export */   "bk": () => (/* binding */ f),\n/* harmony export */   "Fp": () => (/* binding */ r),\n/* harmony export */   "UV": () => (/* binding */ m)\n/* harmony export */ });\n/* unused harmony export getSDFSymbol */\n/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(53736);\n/* harmony import */ var _packingUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(20);\n/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10927);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction r(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case"CIMVectorMarker":{const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.geometry;if(!r)return null;const l=o.symbol;return!l||"CIMPolygonSymbol"!==l.type&&"CIMLineSymbol"!==l.type?null:{geom:r,asFill:"CIMPolygonSymbol"===l.type}}case"sdf":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||"CIMPolygonSymbol"!==r.type&&"CIMLineSymbol"!==r.type?null:r}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function i(t){let n=1/0,r=-1/0,l=1/0,e=-1/0;for(const o of t)for(const t of o)t[0]<n&&(n=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new _Rect_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z(n,l,r-n,e-l)}function s(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function f(n){return n?n.rings?s(n.rings):n.paths?s(n.paths):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isExtent */ .YX)(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function m(t,n,o,r,l){const[e,i,s,f]=t;if(s<e||f<i)return[0,0,0];const m=s-e,a=f-i,c=128,u=1,y=Math.floor(.5*(.5*c-u)),h=(c-2*(y+u))/Math.max(m,a),x=Math.round(m*h)+2*y,M=Math.round(a*h)+2*y;let g=1;if(n){g=M/h/(n.ymax-n.ymin)}let p=0,d=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);p=r.x/(o*t),d=r.y/o}}else p=r.x,d=r.y;p=.5*(n.xmax+n.xmin)+p*(n.xmax-n.xmin),d=.5*(n.ymax+n.ymin)+d*(n.ymax-n.ymin),p-=e,d-=i,p*=h,d*=h,p+=y,d+=y;return[g,p/x-.5,-(d/M-.5)]}function a(t){const n=e(t.geom),o=i(n),r=128,l=1,s=Math.floor(.5*(.5*r-l)),f=(r-2*(s+l))/Math.max(o.width,o.height),m=Math.round(o.width*f)+2*s,a=Math.round(o.height*f)+2*s,h=[];for(const e of n)if(e&&e.length>1){const n=[];for(const t of e){let[r,l]=t;r-=o.x,l-=o.y,r*=f,l*=f,r+=s-.5,l+=s-.5,n.push([r,l])}if(t.asFill){const t=n.length-1;n[0][0]===n[t][0]&&n[0][1]===n[t][1]||n.push(n[0])}h.push(n)}const x=c(h,m,a,s);return t.asFill&&u(h,m,a,s,x),[y(x,s),m,a]}function c(t,n,o,r){const l=n*o,e=new Array(l),i=r*r+1;for(let s=0;s<l;++s)e[s]=i;for(const s of t){const t=s.length;for(let l=1;l<t;++l){const t=s[l-1],i=s[l];let f,m,a,c;t[0]<i[0]?(f=t[0],m=i[0]):(f=i[0],m=t[0]),t[1]<i[1]?(a=t[1],c=i[1]):(a=i[1],c=t[1]);let u=Math.floor(f)-r,y=Math.floor(m)+r,h=Math.floor(a)-r,x=Math.floor(c)+r;u<0&&(u=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=i[0]-t[0],g=i[1]-t[1],p=M*M+g*g;for(let r=u;r<y;r++)for(let l=h;l<x;l++){let s,f,m=(r-t[0])*M+(l-t[1])*g;m<0?(s=t[0],f=t[1]):m>p?(s=i[0],f=i[1]):(m/=p,s=t[0]+m*M,f=t[1]+m*g);const a=(r-s)*(r-s)+(l-f)*(l-f),c=(o-l-1)*n+r;a<e[c]&&(e[c]=a)}}}for(let s=0;s<l;++s)e[s]=Math.sqrt(e[s]);return e}function u(t,n,o,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f),y=Math.floor(m)+1,h=Math.floor(a),x=Math.floor(c)+1;u<r&&(u=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(o-e-1)*n;for(let n=u;n<y;++n)n<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+n]=-l[i+n]);for(let t=r;t<u;++t)l[i+t]=-l[i+t]}}}}function y(t,o){const r=2*o,l=t.length,e=new Uint8Array(4*l);for(let i=0;i<l;++i){const o=.5-t[i]/r;(0,_packingUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .packFloatRGBA */ .I)(o,e,4*i)}return e}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/cim/SDFHelper.js?')},75312:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "S": () => (/* binding */ T),\n/* harmony export */   "c": () => (/* binding */ k)\n/* harmony export */ });\n/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30936);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13802);\n/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(95550);\n/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21130);\n/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(30879);\n/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(31775);\n/* harmony import */ var _SDFHelper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(89626);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(60789);\n/* harmony import */ var _views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(28432);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst u=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].getLogger */ .Z.getLogger("esri.symbols.cim.cimAnalyzer");function y(e){switch(e){case"Butt":return 0;case"Square":return 2;case"Round":default:return 1}}function h(e){switch(e){case"Bevel":return 0;case"Miter":return 2;case"Round":default:return 1}}function g(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":return"center";case"Justify":return"justify"}}function d(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function S(e){let t="normal",i="normal";if(e){const o=e.toLowerCase();-1!==o.indexOf("italic")?t="italic":-1!==o.indexOf("oblique")&&(t="oblique"),-1!==o.indexOf("bold")?i="bold":-1!==o.indexOf("light")&&(i="lighter")}return{style:t,weight:i}}function v(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function N(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function b(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function k(e,t,i,o){const n=null!=i?i:[];if(!e)return n;let a,l;const s={};if("CIMSymbolReference"!==e.type)return u.error("Expect cim type to be \'CIMSymbolReference\'"),n;if(a=e.symbol,l=e.primitiveOverrides,l){const e=[];for(const i of l){const o=i.valueExpressionInfo;if(o&&t){const n=o.expression,a=(0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__/* .createRendererExpression */ .Yi)(n,t.spatialReference,t.fields).then((e=>{e&&N(s,i.primitiveName,i.propertyName,e)}));e.push(a)}else null!=i.value&&N(s,i.primitiveName,i.propertyName,i.value)}await Promise.all(e)}switch(a.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":O(a,l,s,t,n,o)}return n}function O(e,t,i,o,r,n){if(!e)return;const s=e.symbolLayers;if(!s)return;let c;const f=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getSize */ .B$.getSize(e);"CIMPointSymbol"===e.type&&"Map"===e.angleAlignment&&(c=1);let m=s.length;for(;m--;){const a=s[m];if(!a||!1===a.enable)continue;const p=[];switch(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .OverrideHelper.findApplicableOverrides */ .E0.findApplicableOverrides(a,t,p),a.type){case"CIMSolidFill":C(a,i,p,o,r);break;case"CIMPictureFill":P(a,i,p,o,r);break;case"CIMHatchFill":L(a,i,p,o,r);break;case"CIMGradientFill":M(a,i,p,o,r);break;case"CIMSolidStroke":X(a,i,p,o,r,"CIMPolygonSymbol"===e.type,f);break;case"CIMPictureStroke":I(a,i,p,o,r,"CIMPolygonSymbol"===e.type,f);break;case"CIMGradientStroke":x(a,i,p,o,r,"CIMPolygonSymbol"===e.type,f);break;case"CIMCharacterMarker":if(w(a,i,p,o,r))break;break;case"CIMPictureMarker":if(w(a,i,p,o,r))break;"CIMLineSymbol"===e.type&&(c=b(a)),z(a,i,p,o,r,c,f);break;case"CIMVectorMarker":if(w(a,i,p,o,r))break;"CIMLineSymbol"===e.type&&(c=b(a)),J(a,i,p,o,r,c,f,n);break;default:u.error("Cannot analyze CIM layer",a.type)}}}function C(e,t,i,r,n){const a=e.primitiveName,l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(e.color),[s,c]=D(i,a),m=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+c).toString();n.push({type:"fill",templateHash:m,materialHash:s?()=>m:m,cim:e,materialOverrides:null,colorLocked:e.colorLocked,color:F(a,t,"Color",r,l,j),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:e.effects})}function P(e,t,i,r,n){const a=e.primitiveName,l=e.tintColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(e.tintColor):{r:255,g:255,b:255,a:1},[s,c]=D(i,a),m=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+c).toString(),p=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString();n.push({type:"fill",templateHash:m,materialHash:s?()=>p:p,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:F(a,t,"TintColor",r,l,j),height:F(a,t,"Height",r,e.height),scaleX:F(a,t,"ScaleX",r,e.scaleX),angle:F(a,t,"Rotation",r,e.rotation),offsetX:F(a,t,"OffsetX",r,e.offsetX),offsetY:F(a,t,"OffsetY",r,e.offsetY)})}function L(e,t,i,r,n){const a=["Rotation","OffsetX","OffsetY"],l=i.filter((t=>t.primitiveName!==e.primitiveName&&-1===a.indexOf(t.propertyName))),s=e.primitiveName,[c,f]=D(i,s),m=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+f).toString(),p=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(`${e.separation}${JSON.stringify(e.lineSymbol)}`).toString();n.push({type:"fill",templateHash:m,materialHash:c?W(p,t,l,r):p,cim:e,materialOverrides:l,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:F(s,t,"Separation",r,e.separation),scaleX:1,angle:F(s,t,"Rotation",r,e.rotation),offsetX:F(s,t,"OffsetX",r,e.offsetX),offsetY:F(s,t,"OffsetY",r,e.offsetY)})}function M(e,t,i,r,n){const a=e.primitiveName,[l,s]=D(i,a),c=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+s).toString();n.push({type:"fill",templateHash:c,materialHash:l?W(c,t,i,r):c,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function X(e,t,i,r,n,a,l){const s=e.primitiveName,c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(e.color),m=void 0!==e.width?e.width:4,p=y(e.capStyle),u=h(e.joinStyle),g=e.miterLimit,[d,S]=D(i,s),v=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+S).toString();n.push({type:"line",templateHash:v,materialHash:d?()=>v:v,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:F(s,t,"Color",r,c,j),width:F(s,t,"Width",r,m),cap:F(s,t,"CapStyle",r,p),join:F(s,t,"JoinStyle",r,u),miterLimit:F(s,t,"MiterLimit",r,g),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function I(e,t,i,r,n,a,l){const s=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),c=e.primitiveName,m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(e.tintColor),p=void 0!==e.width?e.width:4,u=y(e.capStyle),g=h(e.joinStyle),d=e.miterLimit,[S,v]=D(i,c),N=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+v).toString();n.push({type:"line",templateHash:N,materialHash:S?()=>s:s,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:F(c,t,"TintColor",r,m,j),width:F(c,t,"Width",r,p),cap:F(c,t,"CapStyle",r,u),join:F(c,t,"JoinStyle",r,g),miterLimit:F(c,t,"MiterLimit",r,d),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function x(e,t,i,r,n,a,l){const s=e.primitiveName,c=void 0!==e.width?e.width:4,f=y(e.capStyle),m=h(e.joinStyle),p=e.miterLimit,[u,g]=D(i,s),d=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+g).toString();n.push({type:"line",templateHash:d,materialHash:u?W(d,t,i,r):d,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},width:F(s,t,"Width",r,c),cap:F(s,t,"CapStyle",r,f),join:F(s,t,"JoinStyle",r,m),miterLimit:F(s,t,"MiterLimit",r,p),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function w(e,t,i,r,n){const a=e.markerPlacement;if(!a||"CIMMarkerPlacementInsidePolygon"!==a.type)return!1;const l=a,s=["Rotation","OffsetX","OffsetY"],c=i.filter((t=>t.primitiveName!==e.primitiveName&&-1===s.indexOf(t.propertyName))),[f,m]=D(i,l.primitiveName),p=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+m).toString();return n.push({type:"fill",templateHash:p,materialHash:f?W(p,t,c,r):p,cim:e,materialOverrides:c,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:F(l.primitiveName,t,"StepY",r,l.stepY),scaleX:1,angle:F(l.primitiveName,t,"GridAngle",r,l.gridAngle),offsetX:F(l.primitiveName,t,"OffsetX",r,l.offsetX),offsetY:F(l.primitiveName,t,"OffsetY",r,l.offsetY)}),!0}function z(e,t,i,r,n,a,l){const s=e.primitiveName,c=e.size,m=e.scaleX,p=e.rotation,u=e.offsetX,y=e.offsetY,h=(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(e.tintColor),g=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),[d,S]=D(i,s),v=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(e)+S).toString();n.push({type:"marker",templateHash:v,materialHash:d?()=>g:g,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:!1,alignment:a,size:F(s,t,"Size",r,c),scaleX:F(s,t,"ScaleX",r,m),rotation:F(s,t,"Rotation",r,p),offsetX:F(s,t,"OffsetX",r,u),offsetY:F(s,t,"OffsetY",r,y),color:F(s,t,"TintColor",r,h,j),anchorPoint:e.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:e.rotateClockwise,referenceSize:l,sizeRatio:1,markerPlacement:e.markerPlacement})}function J(e,t,i,o,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":Y(e,f,i,t,o,r,n,a,c,l);break;case"CIMTextSymbol":H(e,f,t,i,o,r,n,a,c)}}}function H(e,t,i,r,n,s,c,p,u){const y=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .OverrideHelper.findApplicableOverrides */ .E0.findApplicableOverrides(t,r,y);const h=t.geometry;if(!("x"in h)||!("y"in h))return;const N=t.symbol,b=v(N),k=S(N.fontStyleName);N.font={family:N.fontFamilyName,decoration:b,...k};const O=e.frame,C=h.x-.5*(O.xmin+O.xmax),P=h.y-.5*(O.ymin+O.ymax),L=e.size/u,M=e.primitiveName,X=(N.height||0)*L,I=N.angle||0,x=((N.offsetX||0)+C)*L,w=((N.offsetY||0)+P)*L,z=(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getFillColor */ .B$.getFillColor(N));let J=(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getStrokeColor */ .B$.getStrokeColor(N)),H=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getStrokeWidth */ .B$.getStrokeWidth(N);H||(J=(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getFillColor */ .B$.getFillColor(N.haloSymbol)),H=N.haloSize*L);let Y="";for(const o of r)o.primitiveName===M&&void 0!==o.value&&(Y+=`-${o.primitiveName}-${o.propertyName}-${JSON.stringify(o.value)}`);const R=JSON.stringify(e.effects)+Number(e.colorLocked)+JSON.stringify(e.anchorPoint)+e.anchorPointUnits+JSON.stringify(e.markerPlacement),$=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(t)+R+Y).toString();s.push({type:"text",templateHash:$,materialHash:()=>(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(N.font)).toString(),cim:N,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,alignment:c,anchorPoint:{x:e.anchorPoint?e.anchorPoint.x:0,y:e.anchorPoint?e.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,fontName:N.fontFamilyName,decoration:"none",weight:"normal",style:"normal",size:F(M,i,"Size",n,X),angle:F(M,i,"Rotation",n,I),offsetX:F(M,i,"OffsetX",n,x),offsetY:F(M,i,"OffsetY",n,w),horizontalAlignment:g(N.horizontalAlignment),verticalAlignment:d(N.verticalAlignment),text:F(t.primitiveName,i,"TextString",n,t.textString,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* ._adjustTextCase */ .X3,N.textCase),color:z,outlineColor:J,outlineSize:H,referenceSize:p,sizeRatio:1,markerPlacement:e.markerPlacement})}function Y(e,t,i,r,n,l,m,p,u,y){const h=t.symbol,g=t.geometry;if(!g)return;const d=h.symbolLayers;if(!d)return;if(y)return void R(e,t,r,i,n,l,m,p,u);let S=d.length;for(;S--;){const y=d[S];if(y&&!1!==y.enable)switch(y.type){case"CIMSolidFill":case"CIMSolidStroke":{const h=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_5__/* .getExtent */ .bk)(g);if(!h)continue;const[d,S,v]=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_5__/* .getSDFMetrics */ .UV)(h,e.frame,e.size,e.anchorPoint,"Relative"!==e.anchorPointUnits),N="CIMSolidFill"===y.type,b={type:"sdf",geom:g,asFill:N},k=e.primitiveName,O=e.size,C=e.rotation||0,P=e.offsetX,L=e.offsetY,M=y.primitiveName,X=(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(N?_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getFillColor */ .B$.getFillColor(y):_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getStrokeColor */ .B$.getStrokeColor(y)),I=N?{r:0,g:0,b:0,a:0}:(0,_utils_js__WEBPACK_IMPORTED_MODULE_7__/* .fromCIMColor */ .NO)(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getStrokeColor */ .B$.getStrokeColor(y)),x=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getStrokeWidth */ .B$.getStrokeWidth(y);if(!N&&!x)break;let w=!1,z="";for(const e of i)e.primitiveName!==M&&e.primitiveName!==k||(void 0!==e.value?z+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(w=!0));const J=JSON.stringify({...e,markerGraphics:null}),H=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(b)).toString(),Y={type:"marker",templateHash:(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(t)+JSON.stringify(y)+J+z).toString(),materialHash:w?()=>H:H,cim:b,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:m,anchorPoint:{x:S,y:v},isAbsoluteAnchorPoint:!1,size:F(e.primitiveName,r,"Size",n,O),rotation:F(e.primitiveName,r,"Rotation",n,C),offsetX:F(e.primitiveName,r,"OffsetX",n,P),offsetY:F(e.primitiveName,r,"OffsetY",n,L),scaleX:1,frameHeight:u,rotateClockwise:e.rotateClockwise,referenceSize:p,sizeRatio:d,color:F(M,r,"Color",n,X,j),outlineColor:F(M,r,"Color",n,I,j),outlineWidth:F(M,r,"Width",n,x),markerPlacement:e.markerPlacement};l.push(Y);break}default:R(e,t,r,i,n,l,m,p,u)}}}function R(e,t,r,n,l,s,c,f,m){const p=$(e,t);let u=[];const y=["Rotation","OffsetX","OffsetY"];u=n.filter((t=>t.primitiveName!==e.primitiveName||-1===y.indexOf(t.propertyName)));let h="";for(const i of n)void 0!==i.value&&(h+=`-${i.primitiveName}-${i.propertyName}-${JSON.stringify(i.value)}`);const[g,d,S]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .CIMSymbolHelper.getTextureAnchor */ .B$.getTextureAnchor(p),v=e.primitiveName,N=e.rotation||0,b=e.offsetX||0,k=e.offsetY||0,O=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(JSON.stringify(p)+h).toString(),C={type:"marker",templateHash:O,materialHash:0===u.length?O:W(O,r,u,l),cim:p,materialOverrides:u,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:c,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:e.size,rotation:F(v,r,"Rotation",l,N),offsetX:F(v,r,"OffsetX",l,b),offsetY:F(v,r,"OffsetY",l,k),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:e.rotateClockwise,referenceSize:f,sizeRatio:S/(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .pt2px */ .F2)(e.size),markerPlacement:e.markerPlacement};s.push(C)}function $(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}function A(e){if(e&&0===e.indexOf("Level_")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function j(t){if(!t||0===t.length)return null;const i=new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z(t).toRgba();return{r:i[0],g:i[1],b:i[2],a:i[3]}}function F(e,t,i,o,r,a,l){const s=t[e];if(s){const e=s[i];if("string"==typeof e||"number"==typeof e||e instanceof Array)return a?a.call(null,e,l):e;if(null!=e&&e instanceof _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__/* .ArcadeExpression */ .mz)return(t,i,n)=>{let s=(0,_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(e,t,{$view:n},o.geometryType,i);return null!==s&&a&&(s=a.call(null,s,l)),null!==s?s:r}}return r}function W(e,t,i,r){for(const o of i){if(o.valueExpressionInfo){const e=t[o.primitiveName]&&t[o.primitiveName][o.propertyName];e instanceof _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__/* .ArcadeExpression */ .mz&&(o.fn=(t,i,o)=>(0,_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(e,t,{$view:o},r.geometryType,i))}}return(t,r,n)=>{for(const e of i)e.fn&&(e.value=e.fn(t,r,n));return (0,_core_string_js__WEBPACK_IMPORTED_MODULE_2__/* .numericHash */ .hP)(e+_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .OverrideHelper.buildOverrideKey */ .E0.buildOverrideKey(i)).toString()}}function T(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_4__/* .OverrideHelper.applyOverrides */ .E0.applyOverrides(i,t),i}function D(e,t){let i=!1,o="";for(const r of e)r.primitiveName===t&&(void 0!==r.value?o+=`-${r.primitiveName}-${r.propertyName}-${JSON.stringify(r.value)}`:r.valueExpressionInfo&&(i=!0));return[i,o]}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js?')},59461:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "previewCIMSymbol": () => (/* binding */ n)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/screenUtils.js\nvar screenUtils = __webpack_require__(95550);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js\nvar request = __webpack_require__(66341);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(78668);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/string.js\nvar string = __webpack_require__(21130);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js\nvar jsonUtils = __webpack_require__(53736);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js\nvar cimAnalyzer = __webpack_require__(75312);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/cim/Rasterizer.js\nvar Rasterizer = __webpack_require__(556);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(t){return`rgb(${t.slice(0,3).toString()})`}function i(t){return`rgba(${t.slice(0,3).toString()},${t[3]})`}class r{constructor(){}rasterizeText(t,r){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const o=this._textRasterizationCanvas,n=o.getContext("2d");this.setFontProperties(n,r),this.parameters=r,this.textLines=t.split(/\\r?\\n/),this.lineHeight=this.computeLineHeight();const a=this.computeTextWidth(n,r),h=this.lineHeight*this.textLines.length;o.width=a,o.height=h,this.renderedLineHeight=Math.round(this.lineHeight*r.pixelRatio),this.renderedHaloSize=r.halo.size*r.pixelRatio,this.renderedWidth=a*r.pixelRatio,this.renderedHeight=h*r.pixelRatio,this.fillStyle=i(r.color),this.haloStyle=e(r.halo.color);const l=this.renderedLineHeight,d=this.renderedHaloSize;this.setFontProperties(n,r);const c=s(n.textAlign,this.renderedWidth)+d,g=d;let f=0,p=0;d>0&&this.renderHalo(n,c,g,f,p,r),p+=g,f+=c;for(const e of this.textLines)n.globalCompositeOperation="destination-out",n.fillStyle="rgb(0, 0, 0)",n.fillText(e,f,p),n.globalCompositeOperation="source-over",n.fillStyle=this.fillStyle,n.fillText(e,f,p),p+=l;const u=n.getImageData(0,0,this.renderedWidth,this.renderedHeight),x=new Uint8Array(u.data);if(r.premultiplyColors){let t;for(let e=0;e<x.length;e+=4)t=x[e+3]/255,x[e]=x[e]*t,x[e+1]=x[e+1]*t,x[e+2]=x[e+2]*t}return{size:[this.renderedWidth,this.renderedHeight],image:new Uint32Array(x.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}renderHalo(t,e,i,r,s,o){const n=this.renderedWidth,a=this.renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement("canvas")),this._haloRasterizationCanvas.width=n,this._haloRasterizationCanvas.height=a;const h=this._haloRasterizationCanvas,l=h.getContext("2d");l.clearRect(0,0,n,a),this.setFontProperties(l,o),l.fillStyle=this.haloStyle,l.strokeStyle=this.haloStyle;const d=this.renderedHaloSize<3;l.lineJoin=d?"miter":"round",d?this.renderHaloEmulated(l,e,i):this.renderHaloNative(l,e,i),t.globalAlpha=this.parameters.halo.color[3],t.drawImage(h,0,0,n,a,r,s,n,a),t.globalAlpha=1}renderHaloEmulated(t,e,i){const r=this.renderedLineHeight,s=this.renderedHaloSize;for(const n of this.textLines){for(const[r,a]of o)t.fillText(n,e+s*r,i+s*a);i+=r}}renderHaloNative(t,e,i){const r=this.renderedLineHeight,s=this.renderedHaloSize;for(const o of this.textLines){const n=2*s,a=5,h=.1;for(let r=0;r<a;r++){const s=1-(a-1)*h+r*h;t.lineWidth=s*n,t.strokeText(o,e,i)}i+=r}}setFontProperties(e,i){const r=i.font,s=`${r.style} ${r.weight} ${(0,screenUtils/* pt2px */.F2)(i.size*i.pixelRatio)}px ${r.family}, sans-serif`;let o;switch(e.font=s,e.textBaseline="top",i.horizontalAlignment){case"left":o="left";break;case"right":o="right";break;case"center":o="center";break;default:o="left"}e.textAlign=o}computeTextWidth(t,e){let i=0;for(const s of this.textLines)i=Math.max(i,t.measureText(s).width);const r=e.font;return("italic"===r.style||"oblique"===r.style||"string"==typeof r.weight&&("bold"===r.weight||"bolder"===r.weight)||"number"==typeof r.weight&&r.weight>600)&&(i+=.3*t.measureText("A").width),i+=2*this.parameters.halo.size,Math.round(i)}computeLineHeight(){const t=1.275*this.parameters.size;return Math.round(t+2*this.parameters.halo.size)}}function s(t,e){return"center"===t?.5*e:"right"===t?e:0}const o=[];{const t=16;for(let e=0;e<360;e+=360/t)o.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}/* harmony default export */ const TextRasterizer = ((/* unused pure expression or super */ null && (r)));\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/cim/utils.js\nvar utils = __webpack_require__(60789);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js\nvar cimSymbolUtils = __webpack_require__(97500);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/Symbol3DAnchorPosition2D.js\nvar Symbol3DAnchorPosition2D = __webpack_require__(37939);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nvar p;!function(e){e.Legend="legend",e.Preview="preview"}(p||(p={}));const d=(e,t,a)=>{if(e&&e.targetSize){let i;if(a){const t=Math.max(a.frame.xmax-a.frame.xmin,a.frame.ymax-a.frame.ymin);i=e.targetSize/(0,screenUtils/* pt2px */.F2)(t)}else i=e.targetSize/t.referenceSize;return i}return e&&e.scaleFactor?e.scaleFactor:1},M={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}};class C{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._rasterizer=new Rasterizer/* default */.Z,this._textRasterizer=new r,this._pictureMarkerCache=new Map}async rasterizeCIMSymbolAsync(e,t,r,a,s,o,n,c){a=a||(t?null!=t.centroid?"esriGeometryPolygon":(0,jsonUtils/* getJsonType */.Ji)(t.geometry):null)||z(e);const l=await this.analyzeCIMSymbol(e,t?I(t.attributes):null,r,a,c);return this.rasterizeCIMSymbol(l,t,a,s,o,n)}async analyzeCIMSymbol(e,r,a,i,s){const o=[],c=r?{geometryType:i,spatialReference:this._spatialReference,fields:r}:null;let l;await (0,cimAnalyzer/* analyzeCIMSymbol */.c)(e.data,c,o,this._avoidSDF),(0,promiseUtils/* throwIfAborted */.k_)(s);for(const t of o)"CIMPictureMarker"!==t.cim.type&&"CIMPictureFill"!==t.cim.type&&"CIMPictureStroke"!==t.cim.type||(l||(l=[]),l.push(this.fetchPictureMarkerResource(t,s))),a&&"text"===t.type&&"string"==typeof t.text&&t.text.indexOf("[")>-1&&(t.text=(0,utils/* createLabelOverrideFunction */.Qs)(a,t.text,t.cim.textCase));return l&&await Promise.all(l),o}async fetchPictureMarkerResource(t,r){const a=t.materialHash;if(!this._pictureMarkerCache.get(a)){const i=(await (0,request["default"])(t.cim.url,{responseType:"image",signal:r&&r.signal})).data;this._pictureMarkerCache.set(a,i)}}rasterizeCIMSymbol(e,t,r,a,i,s){const o=[];for(const n of e){a&&"function"==typeof a.scaleFactor&&(a.scaleFactor=a.scaleFactor(t,i,s));const e=this._getRasterizedResource(n,t,r,a,i,s);if(!e)continue;let c=0,l=e.anchorX||0,m=e.anchorY||0,h=!1,g=0,y=0;if("esriGeometryPoint"===r){const e=d(a,n,null);if(g=(0,utils/* evaluateValueOrFunction */.hf)(n.offsetX,t,i,s)*e||0,y=(0,utils/* evaluateValueOrFunction */.hf)(n.offsetY,t,i,s)*e||0,"marker"===n.type)c=(0,utils/* evaluateValueOrFunction */.hf)(n.rotation,t,i,s)||0,h=!!n.rotateClockwise&&n.rotateClockwise;else if("text"===n.type){if(c=(0,utils/* evaluateValueOrFunction */.hf)(n.angle,t,i,s)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case"left":l=-.5;break;case"right":l=.5;break;default:l=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case"top":m=.5;break;case"bottom":m=-.5;break;case"baseline":m=-.25;break;default:m=0}}}null!=e&&o.push({angle:c,rotateClockWise:h,anchorX:l,anchorY:m,offsetX:g,offsetY:y,rasterizedResource:e})}return this.getSymbolImage(o)}getSymbolImage(e){const t=document.createElement("canvas"),a=t.getContext("2d");let i=0,s=0,o=0,n=0;const c=[];for(let f=0;f<e.length;f++){const t=e[f],l=t.rasterizedResource;if(!l)continue;const m=l.size,h=t.offsetX,g=t.offsetY,y=t.anchorX,u=t.anchorY,p=t.rotateClockWise||!1;let d=t.angle,M=(0,screenUtils/* pt2px */.F2)(h)-m[0]*(.5+y),C=(0,screenUtils/* pt2px */.F2)(g)-m[1]*(.5+u),I=M+m[0],z=C+m[1];if(d){p&&(d=-d);const e=Math.sin(d*Math.PI/180),t=Math.cos(d*Math.PI/180),r=M*t-C*e,a=M*e+C*t,i=M*t-z*e,s=M*e+z*t,o=I*t-z*e,n=I*e+z*t,c=I*t-C*e,l=I*e+C*t;M=Math.min(r,i,o,c),C=Math.min(a,s,n,l),I=Math.max(r,i,o,c),z=Math.max(a,s,n,l)}i=M<i?M:i,s=C<s?C:s,o=I>o?I:o,n=z>n?z:n;const P=a.createImageData(l.size[0],l.size[1]);P.data.set(new Uint8ClampedArray(l.image.buffer));const x={offsetX:h,offsetY:g,rotateClockwise:p,angle:d,rasterizedImage:P,anchorX:y,anchorY:u};c.push(x)}t.width=o-i,t.height=n-s;const l=-i,m=n;for(let f=0;f<c.length;f++){const e=c[f],t=this._imageDataToCanvas(e.rasterizedImage),i=e.rasterizedImage.width,s=e.rasterizedImage.height,o=l-i*(.5+e.anchorX),n=m-s*(.5-e.anchorY);if(e.angle){const i=(360-e.angle)*Math.PI/180;a.save(),a.translate((0,screenUtils/* pt2px */.F2)(e.offsetX),-(0,screenUtils/* pt2px */.F2)(e.offsetY)),a.translate(l,m),a.rotate(i),a.translate(-l,-m),a.drawImage(t,o,n),a.restore()}else a.drawImage(t,o+(0,screenUtils/* pt2px */.F2)(e.offsetX),n-(0,screenUtils/* pt2px */.F2)(e.offsetY))}const h=new Symbol3DAnchorPosition2D/* default */.Z({x:l/t.width-.5,y:m/t.height-.5});return{imageData:0!==t.width&&0!==t.height?a.getImageData(0,0,t.width,t.height):a.createImageData(1,1),anchorPosition:h}}_imageDataToCanvas(e){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const t=this._imageDataCanvas,r=t.getContext("2d");return t.width=e.width,t.height=e.height,r.putImageData(e,0,0),t}_imageTo32Array(e,t,r){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const a=this._imageDataCanvas,i=a.getContext("2d");return a.width=t,a.height=r,i.drawImage(e,0,0,t,r),new Uint32Array(i.getImageData(0,0,t,r).data.buffer)}_getRasterizedResource(e,t,r,i,s,o){let n,c,l,m;if("esriGeometryPolyline"===r||"esriGeometryPolygon"===r){const m=i&&i.style?i.style:p.Legend,h="esriGeometryPolyline"===r?M.stroke[m]:M.fill[m];if("line"===e.type){if("CIMSolidStroke"!==e.cim.type){if("CIMPictureStroke"===e.cim.type){const r=(0,utils/* evaluateValueOrFunction */.hf)(e.width,t,s,o),{image:a,width:i,height:n}=this._getPictureResource(e,r);return this._rasterizePictureResource(e,a,i,n,h,r)}return null}({analyzedCIM:n,hash:l}=P(e,t,s,o)),c=this._embedCIMLayerInVectorMarker(n,h)}else if("marker"===e.type){if("CIMPictureMarker"===e.cim.type)return null;if("CIMVectorMarker"!==e.cim.type)return null;e.cim.offsetX=(0,utils/* evaluateValueOrFunction */.hf)(e.offsetX,t,s,o),e.cim.offsetY=(0,utils/* evaluateValueOrFunction */.hf)(e.offsetY,t,s,o),e.cim.rotation=(0,utils/* evaluateValueOrFunction */.hf)(e.rotation,t,s,o),e.cim.markerPlacement=e.markerPlacement,({analyzedCIM:n}=P(e,t,s,o)),l=(0,string/* numericHash */.hP)(JSON.stringify(n)).toString(),c=this._embedCIMLayerInVectorMarker(n,h)}else{if("text"===e.type)return null;if("fill"===e.type){if("CIMHatchFill"===e.cim.type||"CIMVectorMarker"===e.cim.type||"CIMPictureMarker"===e.cim.type||"CIMPictureFill"===e.cim.type){const r=e.cim.size||e.cim.height;let a,i,c;if("CIMPictureMarker"===e.cim.type||"CIMPictureFill"===e.cim.type)({image:a,width:i,height:c}=this._getPictureResource(e,r));else{({analyzedCIM:n,hash:l}=P(e,t,s,o));const r=this._rasterizer.rasterizeJSONResource(n,1,this._avoidSDF);a=r.image,i=r.size[0],c=r.size[1]}return this._rasterizePictureResource(e,a,i,c,h,null)}if("CIMSolidFill"!==e.cim.type)return null;({analyzedCIM:n,hash:l}=P(e,t,s,o)),c=this._embedCIMLayerInVectorMarker(n,h)}}}else{if("text"===e.type)return m=this._rasterizeTextResource(e,t,i,s,o),m;({analyzedCIM:n,hash:l}=P(e,t,s,o));const r=d(i,e,null);if("CIMPictureMarker"===e.cim.type){const a=(0,utils/* evaluateValueOrFunction */.hf)(e.size,t,s,o)*r,{image:i,width:n,height:c}=this._getPictureResource(e,a);return m={image:i,size:[n,c],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},m}(0,cimSymbolUtils/* scaleCIMMarker */.FW)(n,r,{preserveOutlineWidth:!1}),c=n}l+=r,i&&(l+=JSON.stringify(i));const h=this._resourceCache;return h.has(l)?h.get(l):(m=this._rasterizer.rasterizeJSONResource(c,window.devicePixelRatio||1,this._avoidSDF),h.set(l,m),m)}_rasterizeTextResource(e,t,r,a,i){const s=d(r,e,null),o=(0,utils/* evaluateValueOrFunction */.hf)(e.text,t,a,i);if(!o||0===o.length)return null;const n=(0,utils/* evaluateValueOrFunction */.hf)(e.fontName,t,a,i),c=(0,utils/* evaluateValueOrFunction */.hf)(e.style,t,a,i),l=(0,utils/* evaluateValueOrFunction */.hf)(e.weight,t,a,i),m=(0,utils/* evaluateValueOrFunction */.hf)(e.decoration,t,a,i),h=(0,utils/* evaluateValueOrFunction */.hf)(e.size,t,a,i)*s,y=(0,utils/* evaluateValueOrFunction */.hf)(e.horizontalAlignment,t,a,i),u=(0,utils/* evaluateValueOrFunction */.hf)(e.verticalAlignment,t,a,i),p=(0,utils/* colorToArray */.nn)((0,utils/* evaluateValueOrFunction */.hf)(e.color,t,a,i)),M=(0,utils/* colorToArray */.nn)((0,utils/* evaluateValueOrFunction */.hf)(e.outlineColor,t,a,i)),C={color:p,size:h,horizontalAlignment:y,verticalAlignment:u,font:{family:n,style:c,weight:l,decoration:m},halo:{size:(0,utils/* evaluateValueOrFunction */.hf)(e.outlineSize,t,a,i)||0,color:M,style:c},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(o,C)}_rasterizePictureResource(e,t,a,i,n,c){const l=document.createElement("canvas"),m=l.getContext("2d");l.height=(0,screenUtils/* pt2px */.F2)(Math.max(Math.abs(n.frame.ymax-n.frame.ymin),c)),l.width=(0,screenUtils/* pt2px */.F2)(Math.abs(n.frame.xmax-n.frame.xmin));const h=m.createImageData(a,i);h.data.set(new Uint8ClampedArray(t.buffer));const f=this._imageDataToCanvas(h),g=m.createPattern(f,"repeat"),y=Math.cos((-e.cim.rotation||0)*Math.PI/180),u=Math.sin((-e.cim.rotation||0)*Math.PI/180);g.setTransform({m11:y,m12:u,m21:-u,m22:y,m41:(0,screenUtils/* pt2px */.F2)(e.cim.offsetX)||0,m42:(0,screenUtils/* pt2px */.F2)(e.cim.offsetY)||0});const p=n.canvasPaths;let d,M,C;(0,jsonUtils/* isPolygon */.oU)(p)?(d=p.rings,m.fillStyle=g,M=m.fill,C=["evenodd"]):(0,jsonUtils/* isPolyline */.l9)(p)&&(d=p.paths,m.strokeStyle=g,m.lineWidth=c,M=m.stroke,d[0][0][1]=l.height/2,d[0][1][1]=l.height/2),m.beginPath();for(const s of d){const e=s?s.length:0;if(e>1){let t=s[0];m.moveTo((0,screenUtils/* pt2px */.F2)(t[0]),(0,screenUtils/* pt2px */.F2)(t[1]));for(let a=1;a<e;++a)t=s[a],m.lineTo((0,screenUtils/* pt2px */.F2)(t[0]),(0,screenUtils/* pt2px */.F2)(t[1]));m.closePath()}}M.apply(m,C);const I=m.getImageData(0,0,l.width,l.height),z=new Uint8Array(I.data);return{size:[l.width,l.height],image:new Uint32Array(z.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}_getPictureResource(e,t){const a=this._pictureMarkerCache.get(e.materialHash);if(!a)return null;const i=a.height/a.width,s=t?i>1?(0,screenUtils/* pt2px */.F2)(t):(0,screenUtils/* pt2px */.F2)(t)/i:a.width,o=t?i>1?(0,screenUtils/* pt2px */.F2)(t)*i:(0,screenUtils/* pt2px */.F2)(t):a.height;return{image:this._imageTo32Array(a,s,o),width:s,height:o}}_embedCIMLayerInVectorMarker(e,t){const r=(0,jsonUtils/* isPolygon */.oU)(t.geometry)?"CIMPolygonSymbol":"CIMLineSymbol";return{type:"CIMVectorMarker",frame:t.frame,markerGraphics:[{type:"CIMMarkerGraphic",geometry:t.geometry,symbol:{type:r,symbolLayers:[e]}}]}}}function I(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}function z(e){if(!(e&&e.data&&e.data.symbol))return null;switch(e.data.symbol.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function P(e,t,r,a){let i,s;if("function"==typeof e.materialHash){i=(0,e.materialHash)(t,r,a),s=(0,cimAnalyzer/* analyzeCIMResource */.S)(e.cim,e.materialOverrides)}else i=e.materialHash,s=e.cim;return{analyzedCIM:s,hash:i}}\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst previewCIMSymbol_i=new C(null,!0),previewCIMSymbol_o=120;async function n(e,n={}){const{size:s,maxSize:c,node:m,opacity:r}=n,y=n.cimOptions||n,{feature:d,fieldMap:h,geometryType:p,style:u}=y,g=(0,cimSymbolUtils/* getCIMSymbolSize */.kW)(e),f=Math.min(null!=s?s:g,null!=c?c:(0,screenUtils/* px2pt */.Wz)(previewCIMSymbol_o));f!==g&&(e=e.clone(),(0,cimSymbolUtils/* scaleCIMSymbolTo */.PI)(e,f,{preserveOutlineWidth:!0}));let M=3;e&&e.data&&e.data.symbol&&"CIMPointSymbol"!==e.data.symbol.type&&(M=1);const b=await previewCIMSymbol_i.rasterizeCIMSymbolAsync(e,d,h,p,{scaleFactor:M,style:u}),w=document.createElement("canvas");w.width=b.imageData.width,w.height=b.imageData.height;w.getContext("2d").putImageData(b.imageData,0,0);let C=w.width/M,D=w.height/M;if(null!=s&&(null==(null==n?void 0:n.scale)||(null==n?void 0:n.scale))){const t=C/D;C=t<=1?Math.ceil(f*t):f,D=t<=1?f:Math.ceil(f/t)}const I=new Image(C,D);return I.src=w.toDataURL(),null!=r&&(I.style.opacity=`${r}`),m&&m.appendChild(I),I}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js_+_2_modules?')},28432:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70375);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13802);\n/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7505);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction s(e,t,o,n,a){const s=e.referencesGeometry()&&a?u(t,n,a):t,i=e.repurposeFeature(s);try{return e.evaluate({...o,$feature:i})}catch(c){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].getLogger */ .Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",c),null}}const i=new Map;function u(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;i.has(r)||i.set(r,c(r));const s=i.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const i={};switch(s){case"esriGeometryPoint":return(e,r,t,o)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .unquantizePoint */ .U1)(r,i,e,t,o);case"esriGeometryPolygon":return(e,r,t,o)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .unquantizePolygon */ .Ie)(r,i,e,t,o);case"esriGeometryPolyline":return(e,r,t,n)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .unquantizePolyline */ .G6)(r,i,e,t,n);case"esriGeometryMultipoint":return(e,r,o,n)=>(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .unquantizeMultipoint */ .J9)(r,i,e,o,n);default:return _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"].getLogger */ .Z.getLogger("esri.views.2d.support.arcadeOnDemand").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z("mapview-arcade",`Unable to handle geometryType: ${s}`)),e=>e}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (s);\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js?')}}]);