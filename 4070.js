"use strict";(self.webpackChunkreveal_js_testing=self.webpackChunkreveal_js_testing||[]).push([[4070],{86602:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "eY": () => (/* binding */ v)\n/* harmony export */ });\n/* unused harmony exports isImageSource, rasterize */\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(61681);\n/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1662);\n/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19710);\n/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55542);\n/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(51118);\n/* harmony import */ var _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7349);\n/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(91907);\n/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(43487);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction m(t){return t&&"render"in t}function g(t){return t&&!("render"in t)}function p(t){const e=document.createElement("canvas");return e.width=t.width,e.height=t.height,t.render(e.getContext("2d")),e}function f(t,e,i){const s={target:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__/* .TextureType.TEXTURE_2D */ .No.TEXTURE_2D,pixelFormat:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__/* .PixelFormat.RGBA */ .VI.RGBA,internalFormat:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__/* .PixelFormat.RGBA */ .VI.RGBA,dataType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__/* .PixelType.UNSIGNED_BYTE */ .Br.UNSIGNED_BYTE,wrapMode:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__/* .TextureWrapMode.CLAMP_TO_EDGE */ .e8.CLAMP_TO_EDGE};return e&&i&&(s.width=e,s.height=i),new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_5__/* .Texture */ .x(t,s)}class v extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_3__/* .DisplayObject */ .s{constructor(t=null,e,i=!0){super(),this.requestRenderOnSourceChangedEnabled=i,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.blendFunction=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){this._source=t,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t.context)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_1__.c)()}}setTransform(t){const n=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.b)(this.transforms.dvs),[u,a]=t.toScreenNoRotation([0,0],[this.x,this.y]),d=this.resolution/this.pixelRatio/t.resolution,c=d*this.width,l=d*this.height,_=Math.PI*this.rotation/180;(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.c)(n,n,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_2__.f)(u,a)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.c)(n,n,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_2__.f)(c/2,l/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.r)(n,n,-_),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.c)(n,n,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_2__.f)(-c/2,-l/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.j)(n,n,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_2__.f)(c,l)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.m)(this.transforms.dvs,t.displayViewMat3,n)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}updateTexture(e){var i;if(!this.stage)return null==(i=this._texture)||i.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=f(e,this.sourceWidth,this.sourceHeight):this._texture=f(e));const s=this.source;if(s){if(this._texture.resize(this.sourceWidth,this.sourceHeight),m(s))if(s instanceof _ImageryBitmapSource_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z){const e=s.getRenderedRasterPixels();this._texture.setData((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__/* .isSome */ .pC)(e)?e.renderedRasterPixels:null)}else this._texture.setData(p(s));else g(s)&&this._texture.setData(s);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/engine/Bitmap.js?')},12688:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "c": () => (/* binding */ t)\n/* harmony export */ });\n/* harmony import */ var _brushes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56208);\n/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(38716);\n/* harmony import */ var _webgl_WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10994);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass t extends _webgl_WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z{get requiresDedicatedFBO(){return this.children.some((e=>"additive"===e.blendFunction))}prepareRenderPasses(s){const t=s.registerRenderPass({name:"bitmap",brushes:[_brushes_js__WEBPACK_IMPORTED_MODULE_0__/* .brushes.bitmap */ .U.bitmap],target:()=>this.children,drawPhase:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .WGLDrawPhase.MAP */ .jx.MAP});return[...super.prepareRenderPasses(s),t]}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js?')},7349:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ i)\n/* harmony export */ });\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(61681);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass i{constructor(e,t,i){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=i}get width(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__/* .isSome */ .pC)(this.pixelBlock)?this.pixelBlock.width:0}get height(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__/* .isSome */ .pC)(this.pixelBlock)?this.pixelBlock.height:0}render(e){const i=this.pixelBlock;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__/* .isNone */ .Wi)(i))return;const l=this.filter({pixelBlock:i});if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__/* .isNone */ .Wi)(l.pixelBlock))return;const r=l.pixelBlock.getAsRGBA(),o=e.createImageData(l.pixelBlock.width,l.pixelBlock.height);o.data.set(r),e.putImageData(o,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__/* .isNone */ .Wi)(e.pixelBlock)?null:{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js?')},63160:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ d)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js\nvar Graphic = __webpack_require__(80085);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/HandleOwner.js\nvar HandleOwner = __webpack_require__(53280);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/reactiveUtils.js\nvar reactiveUtils = __webpack_require__(76868);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js\nvar arrayUtils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\nvar subclass = __webpack_require__(40266);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js\nvar dataUtils = __webpack_require__(88243);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/BrushFlow.js\nvar BrushFlow = __webpack_require__(87808);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js\nvar enums = __webpack_require__(38716);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js + 2 modules\nvar WGLContainer = __webpack_require__(10994);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/FlowContainer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass FlowContainer_t extends WGLContainer/* default */.Z{constructor(){super(...arguments),this.flowStyle=null}get requiresDedicatedFBO(){return!1}doRender(e){super.doRender(e)}prepareRenderPasses(s){const t=s.registerRenderPass({name:"flow",brushes:[BrushFlow/* default */.Z],target:()=>this.children,drawPhase:enums/* WGLDrawPhase.MAP */.jx.MAP});return[...super.prepareRenderPasses(s),t]}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry.js\nvar geometry = __webpack_require__(91957);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 3 modules\nvar Accessor = __webpack_require__(53443);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(13802);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/mathUtils.js\nvar mathUtils = __webpack_require__(19431);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(61681);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(78668);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 2 modules\nvar Point = __webpack_require__(53446);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayData.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst t=Logger/* default.getLogger */.Z.getLogger("esri.views.2d.engine.flow.FlowDisplayData");class s{constructor(e,t,s,a){this.state={name:"created"},this.flowStyle=e,this.extent=t,this.size=s,this.pixelRatio=a}async load(){const e=new AbortController;this.state={name:"loading",abortController:e};const t=await this.flowStyle.loadResources({extent:this.extent,size:this.size,pixelRatio:this.pixelRatio},e.signal);this.state={name:"loaded",resources:t}}prepareForRendering(e){if("loaded"!==this.state.name)return void t.error("Only loaded resources can be attached.");const s=this.state.resources;s.prepareForRendering(e),this.state={name:"attached",resources:s}}destroy(){if("loading"===this.state.name)return this.state.abortController.abort(),void(this.state={name:"detached"});"attached"===this.state.name&&(this.state.resources.detach(),this.state={name:"detached"})}update(e){if(!this.flowStyle.areResourcesCompatible(e.flowStyle))return!1;return!(!this.extent.equals(e.extent)||this.size[0]!==e.size[0]||this.size[1]!==e.size[1]||this.pixelRatio!==e.pixelRatio)&&(this.flowStyle=e.flowStyle,!0)}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/mat3.js\nvar mat3 = __webpack_require__(1662);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/mat3f32.js\nvar mat3f32 = __webpack_require__(19710);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js\nvar DisplayObject = __webpack_require__(51118);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/FlowDisplayObject.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass m extends DisplayObject/* DisplayObject */.s{constructor(){super(...arguments),this._displayData=null}get displayData(){return this._displayData}set displayData(t){this._displayData=t,this.requestRender()}clear(){(0,maybe/* isSome */.pC)(this._displayData)&&(this._displayData.destroy(),this._displayData=null,this.requestRender())}setTransform(s){const{displayData:n}=this;if((0,maybe/* isNone */.Wi)(n))return;const l=n.extent.xmin,m=n.extent.ymax,p=[0,0];s.toScreen(p,[l,m]);const c=(n.extent.xmax-n.extent.xmin)/n.size[0]/s.resolution,d=(0,mathUtils/* deg2rad */.Vl)(s.rotation),{dvs:x}=this.transforms;(0,mat3.l)(x,[-1,1,0]),(0,mat3.d)(x,x,[2/(s.size[0]*s.pixelRatio),-2/(s.size[1]*s.pixelRatio),1]),(0,mat3.c)(x,x,[p[0],p[1],0]),(0,mat3.r)(x,x,d),(0,mat3.d)(x,x,[c*s.pixelRatio,c*s.pixelRatio,1])}_createTransforms(){return{dvs:(0,mat3f32.c)()}}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js\nvar Extent = __webpack_require__(91772);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/FlowStrategy.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst y=1.15,h=Logger/* default.getLogger */.Z.getLogger("esri.views.2d.engine.flow.FlowStrategy");let f=class extends Accessor/* default */.Z{constructor(t){super(t),this._flowDisplayObject=new m,this._loading=null}initialize(){this.flowContainer.addChild(this._flowDisplayObject)}destroy(){this._clear(),this.flowContainer.removeAllChildren()}get updating(){return null!=this._loading}update(t){const{flowStyle:o}=this.flowContainer;if((0,maybe/* isNone */.Wi)(o))return void this._clear();const{extent:e,rotation:i,resolution:l,pixelRatio:n}=t.state,p=g(e,i);p.expand(y);const m=[Math.round((p.xmax-p.xmin)/l),Math.round((p.ymax-p.ymin)/l)],d=new s(o,p,m,n);if((0,maybe/* isSome */.pC)(this._loading)){if(this._loading.update(d))return;this._loading.destroy(),this._loading=null}!(0,maybe/* isNone */.Wi)(this._flowDisplayObject.displayData)&&this._flowDisplayObject.displayData.update(d)||(d.load().then((()=>{this._flowDisplayObject.clear(),this._flowDisplayObject.displayData=this._loading,this._loading=null}),(t=>{(0,promiseUtils/* isAbortError */.D_)(t)||(h.error("A resource failed to load.",t),this._loading=null)})),this._loading=d)}_clear(){this._flowDisplayObject.clear(),(0,maybe/* isSome */.pC)(this._loading)&&(this._loading.destroy(),this._loading=null)}};(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"_loading",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"flowContainer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"updating",null),f=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.2d.engine.flow.FlowStrategy")],f);const u=f;function g(t,o){const e=new Point/* default */.Z({x:(t.xmax+t.xmin)/2,y:(t.ymax+t.ymin)/2,spatialReference:t.spatialReference}),r=t.xmax-t.xmin,s=t.ymax-t.ymin,a=Math.abs(Math.cos((0,mathUtils/* deg2rad */.Vl)(o))),l=Math.abs(Math.sin((0,mathUtils/* deg2rad */.Vl)(o))),n=a*r+l*s,c=l*r+a*s,m=new Extent/* default */.Z({xmin:e.x-n/2,ymin:e.y-c/2,xmax:e.x+n/2,ymax:e.y+c/2,spatialReference:t.spatialReference});return m.centerAt(e),m}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/webgl/BufferObject.js\nvar BufferObject = __webpack_require__(78951);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/webgl/enums.js\nvar webgl_enums = __webpack_require__(91907);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js\nvar VertexArrayObject = __webpack_require__(29620);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js\nvar VertexElementDescriptor = __webpack_require__(41163);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/FlowGLResources.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst a=new Map;a.set("a_positionAndSide",0),a.set("a_timeInfo",1),a.set("a_extrude",2),a.set("a_speed",3);const n={geometry:[new VertexElementDescriptor/* VertexElementDescriptor */.G("a_positionAndSide",3,webgl_enums/* DataType.FLOAT */.g.FLOAT,0,36),new VertexElementDescriptor/* VertexElementDescriptor */.G("a_timeInfo",3,webgl_enums/* DataType.FLOAT */.g.FLOAT,12,36),new VertexElementDescriptor/* VertexElementDescriptor */.G("a_extrude",2,webgl_enums/* DataType.FLOAT */.g.FLOAT,24,36),new VertexElementDescriptor/* VertexElementDescriptor */.G("a_speed",1,webgl_enums/* DataType.FLOAT */.g.FLOAT,32,36)]};class o{constructor(e,t,r){this.values=r,this._vertexData=e,this._indexData=t}prepareForRendering(t){const i=BufferObject/* BufferObject.createVertex */.f.createVertex(t,webgl_enums/* Usage.STATIC_DRAW */.l1.STATIC_DRAW,this._vertexData),o=BufferObject/* BufferObject.createIndex */.f.createIndex(t,webgl_enums/* Usage.STATIC_DRAW */.l1.STATIC_DRAW,this._indexData),d=new VertexArrayObject/* VertexArrayObject */.U(t,a,n,{geometry:i},o);this.vertexBuffer=i,this.indexBuffer=o,this.vertexArray=d,this._vertexData=null,this._indexData=null}detach(){this.vertexArray.dispose(),this.vertexBuffer.dispose(),this.indexBuffer.dispose()}get locations(){return a}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/screenUtils.js\nvar screenUtils = __webpack_require__(95550);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/flowRendererUtils.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nfunction flowRendererUtils_t(t){const o=flowRendererUtils_s(t),r=flowRendererUtils_n(o),l=2*r,u=Math.round((0,screenUtils/* pt2px */.F2)(t.maxPathLength)/l)+1,p=r,c=10,h=i(t),f=flowRendererUtils_a(t),{flowSpeed:d,trailLength:g,density:m}=t;return{lineRenderWidth:o,segmentLength:l,verticesPerLine:u,lineCollisionWidth:p,lineSpacing:c,lineColor:h,lineOpacity:f,lineSpeed:d,fadeDuration:g,density:m,smoothing:(0,screenUtils/* pt2px */.F2)(t.smoothing),velocityScale:"flow-from"===t.flowRepresentation?1:-1,minWeightThreshold:.001,minSpeedThreshold:.001,maxTurnAngle:1,mergeLines:!0,interpolate:!0,profile:!1}}function flowRendererUtils_n(e){return"constant"===e.kind?e.value[0]:e.values[e.values.length-1]}function flowRendererUtils_o(e){const t=e.toRgba();return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function flowRendererUtils_s(t){if(!t.hasVisualVariables("size"))return{kind:"constant",value:[(0,screenUtils/* pt2px */.F2)(t.trailWidth)]};const n=t.getVisualVariablesForType("size")[0],o=[],s=[];let i;if(n.stops){for(const e of n.stops)o.push(e.value),s.push(e.size);i=n.stops.length}else o.push(n.minDataValue,n.maxDataValue),s.push(n.minSize,n.maxSize),i=2;return{kind:"ramp",stops:o,values:s,count:i}}function i(e){if(!e.hasVisualVariables("color"))return{kind:"constant",value:flowRendererUtils_o(e.color)};const t=e.getVisualVariablesForType("color")[0],n=[],s=[];for(const i of t.stops)n.push(i.value),Array.prototype.push.apply(s,flowRendererUtils_o(i.color));return{kind:"ramp",stops:n,values:s,count:t.stops.length}}function flowRendererUtils_a(e){if(!e.hasVisualVariables("opacity"))return{kind:"constant",value:[1]};const t=e.getVisualVariablesForType("opacity")[0],n=[],o=[];for(const s of t.stops)n.push(s.value),o.push(s.opacity);return{kind:"ramp",stops:n,values:o,count:t.stops.length}}\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/FlowStyle.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass FlowStyle_n{constructor(e,t,r,n){this._loadImagery=e,this._createStreamlinesMesh=t,this._timeExtent=n,this._rendererSettings=flowRendererUtils_t(r)}get animated(){return this._rendererSettings.lineSpeed>0}get renderSettings(){return this._rendererSettings}areResourcesCompatible(t){let r=!0;return r=r&&t._loadImagery===this._loadImagery,r=r&&t._createStreamlinesMesh===this._createStreamlinesMesh,r=r&&t._rendererSettings.verticesPerLine===this._rendererSettings.verticesPerLine,r=r&&t._rendererSettings.segmentLength===this._rendererSettings.segmentLength,r=r&&t._rendererSettings.lineSpacing===this._rendererSettings.lineSpacing,r=r&&t._rendererSettings.density===this._rendererSettings.density,r=r&&t._rendererSettings.smoothing===this._rendererSettings.smoothing,r=r&&t._rendererSettings.velocityScale===this._rendererSettings.velocityScale,r=r&&t._rendererSettings.minWeightThreshold===this._rendererSettings.minWeightThreshold,r=r&&t._rendererSettings.minSpeedThreshold===this._rendererSettings.minSpeedThreshold,r=r&&t._rendererSettings.mergeLines===this._rendererSettings.mergeLines,r=r&&t._rendererSettings.velocityScale===this._rendererSettings.velocityScale,r=r&&t._rendererSettings.interpolate===this._rendererSettings.interpolate,r=r&&t._rendererSettings.lineColor.kind===this._rendererSettings.lineColor.kind,r=r&&t._rendererSettings.lineOpacity.kind===this._rendererSettings.lineOpacity.kind,r=r&&t._rendererSettings.lineRenderWidth.kind===this._rendererSettings.lineRenderWidth.kind,r&&this._rendererSettings.mergeLines&&(r=t._rendererSettings.lineCollisionWidth===this._rendererSettings.lineCollisionWidth),r&&t._timeExtent!==this._timeExtent&&(r=!(!(0,maybe/* isSome */.pC)(t._timeExtent)||!(0,maybe/* isSome */.pC)(this._timeExtent))&&t._timeExtent.equals(this._timeExtent)),r}async loadResources(e,i){const{extent:n,size:s}=e;(0,promiseUtils/* throwIfAborted */.k_)(i);const d=await this._loadImagery(n,s[0],s[1],this._timeExtent,i),{vertexData:g,indexData:h}=await this._createStreamlinesMesh(this._rendererSettings,d,i);return new o(g,h,{lineColor:this._rendererSettings.lineColor,lineOpacity:this._rendererSettings.lineOpacity,lineRenderWidth:this._rendererSettings.lineRenderWidth})}}\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet FlowView2D_h=class extends HandleOwner/* HandleOwner */.r{constructor(){super(...arguments),this._loadImagery=(t,e,r,i,s)=>(0,dataUtils/* loadImagery */.KK)(this.layer,t,e,r,i,s),this._createStreamlinesMesh=(t,e,r)=>this.layer.createStreamlinesMesh({flowData:e,rendererSettings:t},{signal:r}),this.attached=!1,this.container=null,this.layer=null,this.type="flow",this.timeExtent=null,this.redrawOrRefetch=async()=>{this._updateVisualization()}}get updating(){return!this._strategy||this._strategy.updating}attach(){const{layer:t}=this,e=()=>{this._loadImagery=(e,r,i,s,o)=>(0,dataUtils/* loadImagery */.KK)(t,e,r,i,s,o),this._updateVisualization()};"multidimensionalDefinition"in t?this.handles.add((0,reactiveUtils/* watch */.YP)((()=>t.multidimensionalDefinition),e)):this.handles.add([(0,reactiveUtils/* watch */.YP)((()=>t.mosaicRule),e),(0,reactiveUtils/* watch */.YP)((()=>t.renderingRule),e),(0,reactiveUtils/* watch */.YP)((()=>t.definitionExpression),e)]),this.container=new FlowContainer_t,this._strategy=new u({flowContainer:this.container}),this._updateVisualization()}detach(){this._strategy.destroy(),this.container.removeAllChildren(),this.container=null,this.handles.removeAll()}update(t){t.stationary?this._strategy.update(t):this.layerView.requestUpdate()}hitTest(t){return new Graphic/* default */.Z({attributes:{},geometry:t.clone(),layer:this.layer})}moveEnd(){}async doRefresh(){}_updateVisualization(){if("flow"!==this.layer.renderer.type)return;const t=new FlowStyle_n(this._loadImagery,this._createStreamlinesMesh,this.layer.renderer,this.timeExtent);this.container.flowStyle=t,this.layerView.requestUpdate()}};(0,tslib_es6._)([(0,property/* property */.Cb)()],FlowView2D_h.prototype,"_strategy",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],FlowView2D_h.prototype,"attached",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],FlowView2D_h.prototype,"container",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],FlowView2D_h.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],FlowView2D_h.prototype,"layerView",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],FlowView2D_h.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],FlowView2D_h.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],FlowView2D_h.prototype,"timeExtent",void 0),FlowView2D_h=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.2d.engine.flow.FlowView2D")],FlowView2D_h);const d=FlowView2D_h;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js_+_7_modules?')},84557:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "F": () => (/* binding */ _)\n/* harmony export */ });\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39994);\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(61681);\n/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1662);\n/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19710);\n/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55542);\n/* harmony import */ var _layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7928);\n/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(51118);\n/* harmony import */ var _webgl_Utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(15875);\n/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(78951);\n/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(91907);\n/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(29620);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass _ extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_5__/* .DisplayObject */ .s{constructor(t=null){super(),this._source=null,this._symbolizerParameters=null,this._vaoInvalidated=!0,this.coordScale=[1,1],this.height=null,this.stencilRef=0,this.resolution=null,this.pixelRatio=1,this.x=0,this.y=0,this.rotation=0,this.rawPixelData=null,this.width=null,this.source=t}destroy(){var e,s;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__/* .isSome */ .pC)(this.vaoData)&&(null==(e=this.vaoData.magdir)||e.vao.dispose(),null==(s=this.vaoData.scalar)||s.vao.dispose(),this.vaoData=null)}get symbolizerParameters(){return this._symbolizerParameters}set symbolizerParameters(t){JSON.stringify(this._symbolizerParameters)!==JSON.stringify(t)&&(this._symbolizerParameters=t,this.invalidateVAO())}get source(){return this._source}set source(t){this._source=t,this.invalidateVAO()}invalidateVAO(){var e,s;!this._vaoInvalidated&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__/* .isSome */ .pC)(this.vaoData)&&(null==(e=this.vaoData.magdir)||e.vao.dispose(),null==(s=this.vaoData.scalar)||s.vao.dispose(),this.vaoData=null,this._vaoInvalidated=!0,this.requestRender())}updateVectorFieldVAO(e){if(this._vaoInvalidated){if(this._vaoInvalidated=!1,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__/* .isSome */ .pC)(this.source)&&!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_10__/* .isSome */ .pC)(this.vaoData)){const{style:t}=this.symbolizerParameters;switch(t){case"beaufort_ft":case"beaufort_km":case"beaufort_kn":case"beaufort_m":case"beaufort_mi":case"classified_arrow":case"ocean_current_kn":case"ocean_current_m":case"single_arrow":{const t=(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .createVFMesh */ .wF)(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t);this.vaoData={magdir:s}}break;case"simple_scalar":{const t=(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .createVFMeshScalar */ .K)(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t);this.vaoData={scalar:s}}break;case"wind_speed":{const t=(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .createVFMesh */ .wF)(this.source,this.symbolizerParameters),s=this._createVectorFieldVAO(e.context,t),a=(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .createVFMeshScalar */ .K)(this.source,this.symbolizerParameters),r=this._createVectorFieldVAO(e.context,a);this.vaoData={magdir:s,scalar:r}}}}this.ready(),this.requestRender()}}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}setTransform(t){const o=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.b)(this.transforms.dvs),[l,c]=t.toScreenNoRotation([0,0],[this.x,this.y]),h=this.resolution/this.pixelRatio/t.resolution,m=h*this.width,u=h*this.height,d=Math.PI*this.rotation/180;(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o,o,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(l,c)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o,o,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(m/2,u/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.r)(o,o,-d),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o,o,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(-m/2,-u/2)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.j)(o,o,(0,_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.f)(m,u)),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.m)(this.transforms.dvs,t.displayViewMat3,o)}onAttach(){this.invalidateVAO()}onDetach(){this.invalidateVAO()}_createVectorFieldVAO(t,e){const{vertexData:s,indexData:a}=e,r=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_7__/* .BufferObject.createVertex */ .f.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__/* .Usage.STATIC_DRAW */ .l1.STATIC_DRAW,new Float32Array(s)),i=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_7__/* .BufferObject.createIndex */ .f.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__/* .Usage.STATIC_DRAW */ .l1.STATIC_DRAW,new Uint32Array(a)),o=(0,_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_6__/* .createProgramDescriptor */ .cM)("vector-field",{geometry:[{location:0,name:"a_pos",count:2,type:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__/* .DataType.FLOAT */ .g.FLOAT,normalized:!1},{location:1,name:"a_offset",count:2,type:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__/* .DataType.FLOAT */ .g.FLOAT,normalized:!1},{location:2,name:"a_vv",count:2,type:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__/* .DataType.FLOAT */ .g.FLOAT,normalized:!1}]});return{vao:new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_9__/* .VertexArrayObject */ .U(t,o.attributes,o.bufferLayouts,{geometry:r},i),elementCount:a.length}}}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFDisplayObject.js?')},94070:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ b)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js\nvar Graphic = __webpack_require__(80085);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Collection.js + 2 modules\nvar Collection = __webpack_require__(15680);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/reactiveUtils.js\nvar reactiveUtils = __webpack_require__(76868);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js\nvar arrayUtils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\nvar subclass = __webpack_require__(40266);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/support/GraphicsCollection.js\nvar GraphicsCollection = __webpack_require__(94449);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/FlowView2D.js + 7 modules\nvar FlowView2D = __webpack_require__(63160);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js + 4 modules\nvar LayerView2D = __webpack_require__(80347);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js + 21 modules\nvar GraphicsView2D = __webpack_require__(57971);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js\nvar HighlightGraphicContainer = __webpack_require__(14945);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 3 modules\nvar Accessor = __webpack_require__(53443);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js\nvar Logger = __webpack_require__(13802);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js\nvar maybe = __webpack_require__(61681);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(78668);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js\nvar pixelUtils = __webpack_require__(31329);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js\nvar BitmapContainer = __webpack_require__(12688);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/Container.js\nvar Container = __webpack_require__(10530);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js\nvar ImageryBitmapSource = __webpack_require__(7349);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js + 1 modules\nvar ExportStrategy = __webpack_require__(23134);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst d=Logger/* default.getLogger */.Z.getLogger("esri.views.2d.layers.imagery.ImageryView2D");let u=class extends Accessor/* default */.Z{constructor(){super(...arguments),this.attached=!1,this.container=new Container/* Container */.W,this.updateRequested=!1,this.type="imagery",this._bitmapView=new BitmapContainer/* BitmapContainer */.c}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(e){this.strategy.update(e).catch((e=>{(0,promiseUtils/* isAbortError */.D_)(e)||d.error(e)}))}hitTest(e){return new Graphic/* default */.Z({attributes:{},geometry:e.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const e=this.layer.version>=10,t=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,r=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new ExportStrategy/* default */.Z({container:this._bitmapView,imageNormalizationSupported:e,imageMaxHeight:t,imageMaxWidth:r,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((e=>{e.source instanceof HTMLImageElement?e.requestRender():this.layer.applyRenderer({pixelBlock:e.source.pixelBlock}).then((t=>{const r=e.source;r.pixelBlock=t.pixelBlock,r.filter=e=>this.layer.applyFilter(e),this.container.requestRender()}))}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const e=this.strategy.bitmaps;if(1===e.length&&e[0].source)return{extent:e[0].source.extent,pixelBlock:e[0].source.originalPixelBlock};if(e.length>1){const t=this.view.extent,r=e.map((e=>e.source)).filter((e=>e.extent&&e.extent.intersects(t))).map((e=>({extent:e.extent,pixelBlock:e.originalPixelBlock}))),i=(0,pixelUtils/* mosaicPixelData */.Kh)(r,t);return (0,maybe/* isSome */.pC)(i)?{extent:i.extent,pixelBlock:i.pixelBlock}:null}return null}_fetchImage(e,t,r,i){return(i=i||{}).timeExtent=this.timeExtent,i.requestAsImageElement=!0,this.layer.fetchImage(e,t,r,i).then((e=>e.imageElement?e.imageElement:this.layer.applyRenderer(e.pixelData,{signal:i.signal}).then((t=>{const r=new ImageryBitmapSource/* default */.Z(t.pixelBlock,t.extent.clone(),e.pixelData.pixelBlock);return r.filter=e=>this.layer.applyFilter(e),r}))))}};(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"attached",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"container",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"strategy",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"timeExtent",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"updateRequested",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],u.prototype,"type",void 0),u=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.2d.layers.imagery.ImageryView2D")],u);const y=u;\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js\nvar request = __webpack_require__(66341);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/HandleOwner.js\nvar HandleOwner = __webpack_require__(53280);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js\nvar Extent = __webpack_require__(91772);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js\nvar rasterProjectionHelper = __webpack_require__(18486);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js\nvar vectorFieldUtils = __webpack_require__(7928);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/imagery/BrushVectorField.js\nvar BrushVectorField = __webpack_require__(79195);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js\nvar enums = __webpack_require__(38716);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js + 2 modules\nvar WGLContainer = __webpack_require__(10994);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nclass t extends WGLContainer/* default */.Z{constructor(){super(...arguments),this.symbolTypes=["triangle"]}get requiresDedicatedFBO(){return!1}prepareRenderPasses(s){const t=s.registerRenderPass({name:"imagery (vf)",brushes:[BrushVectorField/* default */.Z],target:()=>this.children,drawPhase:enums/* WGLDrawPhase.MAP */.jx.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===enums/* WGLDrawPhase.MAP */.jx.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFDisplayObject.js\nvar RasterVFDisplayObject = __webpack_require__(84557);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst p=Logger/* default.getLogger */.Z.getLogger("esri.views.2d.layers.imagery.VectorFieldView2D");let m=class extends Accessor/* default */.Z{constructor(e){super(e),this.update=(0,promiseUtils/* debounce */.Ds)(((e,t)=>this._update(e,t).catch((e=>{(0,promiseUtils/* isAbortError */.D_)(e)||p.error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes="wind_speed"===e.style?["scalar","triangle"]:"simple_scalar"===e.style?["scalar"]:["triangle"],this.container.requestRender()}async _update(e,t,r){if(!e.stationary)return;const{extent:i,spatialReference:s}=e.state,o=new Extent/* default */.Z({xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax,spatialReference:s}),[a,n]=e.state.size;this._loading=this.fetchPixels(o,a,n,r);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,r){if((0,maybe/* isNone */.Wi)(e.pixelBlock))return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:s,pixelBlock:o}=e,a=new RasterVFDisplayObject/* RasterVFDisplayObject */.F(o);a.offset=[0,0],a.symbolizerParameters=t,a.rawPixelData=e,a.invalidateVAO(),a.x=s.xmin,a.y=s.ymax,a.pixelRatio=r.pixelRatio,a.rotation=r.rotation,a.resolution=r.resolution,a.width=o.width*t.symbolTileSize,a.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes="wind_speed"===t.style?["scalar","triangle"]:"simple_scalar"===t.style?["scalar"]:["triangle"],this.container.addChild(a)}};(0,tslib_es6._)([(0,property/* property */.Cb)()],m.prototype,"fetchPixels",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],m.prototype,"container",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],m.prototype,"_loading",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],m.prototype,"updating",null),m=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.2d.layers.imagery.ImageryVFStrategy")],m);const ImageryVFStrategy_d=m;\n\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet f=class extends HandleOwner/* HandleOwner */.r{constructor(){super(...arguments),this.attached=!1,this.container=new t,this.type="imageryVF",this._dataParameters={exportParametersVersion:0,bbox:"",symbolTileSize:0,time:""},this._fetchpixels=async(e,t,r,i)=>{const n=await this._projectFullExtentPromise,{symbolTileSize:l}=this.layer.renderer,{extent:c,width:m,height:p}=(0,vectorFieldUtils/* snapImageToSymbolTile */.BH)(e,t,r,l,n);if((0,maybe/* isSome */.pC)(n)&&!n.intersects(e))return{extent:c,pixelBlock:null};const h={bbox:`${c.xmin}, ${c.ymin}, ${c.xmax}, ${c.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:l,time:JSON.stringify(this.timeExtent||"")};if(this._canReuseVectorFieldData(h)){const e=this.getPixelData();if((0,maybe/* isSome */.pC)(e)){if(`${e.extent.xmin}, ${e.extent.ymin}, ${e.extent.xmax}, ${e.extent.ymax}`===h.bbox)return e}}const{pixelData:u}=await this.layer.fetchImage(c,m,p,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});if(this._dataParameters=h,(0,maybe/* isNone */.Wi)(u.pixelBlock))return{extent:c,pixelBlock:null};return{extent:c,pixelBlock:"vector-uv"===this.layer.rasterInfo.dataType?(0,maybe/* unwrap */.Wg)((0,vectorFieldUtils/* convertVectorFieldData */.KC)(u.pixelBlock,"vector-uv")):u.pixelBlock}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new ImageryVFStrategy_d({container:this.container,fetchPixels:this._fetchpixels}),this.handles.add((0,reactiveUtils/* watch */.YP)((()=>this.layer.renderer),(e=>this._updateSymbolizerParams(e)),reactiveUtils/* syncAndInitial */.tX),"vector-field-view-update")}detach(){this._strategy.destroy(),this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.handles.remove("vector-field-view-update"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){if(this.updating||!this.container.children.length)return null;const{extent:e,pixelBlock:t}=this.container.children[0].rawPixelData;return{extent:e,pixelBlock:t}}hitTest(e){return new Graphic/* default */.Z({attributes:{},geometry:e.clone(),layer:this.layer})}update(e){this._strategy.update(e,this._symbolizerParams)}redraw(){this._updateSymbolizerParams(this.layer.renderer),this._strategy.redraw(this._symbolizerParams)}_canReuseVectorFieldData(e){const t=this._dataParameters.exportParametersVersion===e.exportParametersVersion,r=this._dataParameters.time===e.time,i=this._dataParameters.symbolTileSize===e.symbolTileSize,s=this._dataParameters.bbox===e.bbox;return t&&r&&i&&s}async _getProjectedFullExtent(e){try{return await (0,rasterProjectionHelper/* projectExtent */.tB)(this.layer.fullExtent,e)}catch(t){try{const t=(await (0,request["default"])(this.layer.url,{query:{option:"footprints",outSR:e.wkid||JSON.stringify(e.toJSON()),f:"json"}})).data.featureCollection.layers[0].layerDefinition.extent;return t?Extent/* default.fromJSON */.Z.fromJSON(t):null}catch{return null}}}_updateSymbolizerParams(e){"vector-field"===e.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"attached",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"container",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"timeExtent",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],f.prototype,"updating",null),f=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.2d.layers.imagery.VectorFieldView2D")],f);const g=f;\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js\nvar Error = __webpack_require__(70375);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 2 modules\nvar Point = __webpack_require__(53446);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/commonProperties.js + 1 modules\nvar commonProperties = __webpack_require__(51599);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/Query.js\nvar Query = __webpack_require__(14136);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/layers/support/popupUtils.js\nvar popupUtils = __webpack_require__(59439);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/layers/ImageryLayerView.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst ImageryLayerView_u=u=>{let m=class extends u{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,o){const{layer:s}=this;if(!e)throw new Error/* default */.Z("imagerylayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:s});const{popupEnabled:i}=s,u=(0,popupUtils/* getFetchPopupTemplate */.V)(s,o);if(!i||!(0,maybe/* isSome */.pC)(u))throw new Error/* default */.Z("imagerylayerview:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:i,popupTemplate:u});const m=await u.getRequiredFields(),c=new Query/* default */.Z;c.timeExtent=this.timeExtent,c.geometry=e,c.outFields=m,c.outSpatialReference=e.spatialReference;const l=this.view.resolution,y="2d"===this.view.type?new Point/* default */.Z(l,l,this.view.spatialReference):new Point/* default */.Z(.5*l,.5*l,this.view.spatialReference),{returnTopmostRaster:h,showNoDataRecords:w}=u.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},d={returnDomainValues:!0,returnTopmostRaster:h,pixelSize:y,showNoDataRecords:w,signal:(0,maybe/* isSome */.pC)(o)?o.signal:null};return s.queryVisibleRasters(c,d).then((e=>e))}canResume(){var e;return!!super.canResume()&&(null==(e=this.timeExtent)||!e.isEmpty)}};return (0,tslib_es6._)([(0,property/* property */.Cb)()],m.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],m.prototype,"suspended",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)(commonProperties/* combinedViewLayerTimeExtentProperty */.qG)],m.prototype,"timeExtent",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],m.prototype,"view",void 0),m=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.layers.ImageryLayerView")],m),m};\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/layers/LayerView.js\nvar LayerView = __webpack_require__(26216);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js\nvar RefreshableLayerView = __webpack_require__(55068);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet ImageryLayerView2D_g=class extends(ImageryLayerView_u((0,RefreshableLayerView/* RefreshableLayerView */.y)((0,LayerView2D/* LayerView2DMixin */.y)(LayerView/* default */.Z)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new GraphicsCollection/* GraphicsCollection */.J,this.subview=null}get pixelData(){return this.updating?null:"getPixelData"in this.subview?this.subview.getPixelData():null}get updating(){return!!(!this.subview||"updating"in this.subview&&this.subview.updating)}async hitTest(e,i){return this.subview?[this.subview.hitTest(e)]:null}update(e){var i;null==(i=this.subview)||i.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new GraphicsView2D/* default */.Z({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new HighlightGraphicContainer/* default */.Z(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.handles.add([(0,reactiveUtils/* watch */.YP)((()=>{var e;return null!=(e=this.layer.blendMode)?e:"normal"}),(e=>this.subview.container.blendMode=e),reactiveUtils/* syncAndInitial */.tX),(0,reactiveUtils/* watch */.YP)((()=>{var e;return null!=(e=this.layer.effect)?e:null}),(e=>this.subview.container.effect=e),reactiveUtils/* syncAndInitial */.tX),(0,reactiveUtils/* watch */.YP)((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),reactiveUtils/* sync */.Z_),(0,reactiveUtils/* watch */.YP)((()=>this.timeExtent),(e=>{this.subview.timeExtent=e,"redraw"in this.subview?this.requestUpdate():this.subview.redrawOrRefetch()}),reactiveUtils/* sync */.Z_),this.layer.on("redraw",(()=>{"redraw"in this.subview?this.subview.redraw():this.subview.redrawOrRefetch()})),(0,reactiveUtils/* watch */.YP)((()=>this.layer.renderer),(()=>this._setSubView()))],"imagerylayerview-update")}detach(){var e,i;this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),null==(e=this.subview)||e.destroy(),this.handles.remove("imagerylayerview-update"),this.subview=null,null==(i=this._highlightView)||i.destroy(),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,r){if(!((Array.isArray(e)?e[0]:Collection/* default.isCollection */.Z.isCollection(e)?e.getItemAt(0):e)instanceof Graphic/* default */.Z))return{remove:()=>{}};let s=[];return Array.isArray(e)||Collection/* default.isCollection */.Z.isCollection(e)?s=e.map((e=>e.clone())):e instanceof Graphic/* default */.Z&&(s=[e.clone()]),this._highlightGraphics.addMany(s),{remove:()=>{this._highlightGraphics.removeMany(s)}}}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.updating}_setSubView(){var e;if(!this.view)return;const i=null==(e=this.layer.renderer)?void 0:e.type;let t="imagery";if("vector-field"===i&&"lerc"===this.layer.format?t="imageryVF":"flow"===i&&(t="flow"),this.subview){var r;if(this.subview.type===t)return this._attachSubview(this.subview),void("flow"===this.subview.type&&this.subview.redrawOrRefetch());this._detachSubview(this.subview),null==(r=this.subview)||r.destroy()}this.subview="imagery"===t?new y({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):"imageryVF"===t?new g({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new FlowView2D/* default */.Z({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){null!=e&&e.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};(0,tslib_es6._)([(0,property/* property */.Cb)()],ImageryLayerView2D_g.prototype,"pixelData",null),(0,tslib_es6._)([(0,property/* property */.Cb)({readOnly:!0})],ImageryLayerView2D_g.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.Cb)()],ImageryLayerView2D_g.prototype,"subview",void 0),ImageryLayerView2D_g=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.2d.layers.ImageryLayerView2D")],ImageryLayerView2D_g);const b=ImageryLayerView2D_g;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js_+_5_modules?')},14945:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ n)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(36663);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13802);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7283);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_set_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(33156);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(40266);\n/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(38716);\n/* harmony import */ var _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(26204);\n/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(91907);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nlet i=class extends _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z{renderChildren(r){if(r.drawPhase!==_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__/* .WGLDrawPhase.HIGHLIGHT */ .jx.HIGHLIGHT)return;if(this.attributeView.bindTextures(r.context),!this.children.some((r=>r.hasData)))return;super.renderChildren(r);const{painter:e}=r,t=e.effects.highlight;t.bind(r),r.context.setColorMask(!0,!0,!0,!0),r.context.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_8__/* .ClearBufferBit.COLOR_BUFFER_BIT */ .lk.COLOR_BUFFER_BIT),this._renderChildren(r,t.defines.concat(["highlightAll"])),t.draw(r),t.unbind()}};i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_9__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .j)("esri.views.2d.layers.support.HighlightGraphicContainer")],i);const n=i;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js?')},23134:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": () => (/* binding */ S)\n});\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js\nvar tslib_es6 = __webpack_require__(36663);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 3 modules\nvar Accessor = __webpack_require__(53443);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js\nvar promiseUtils = __webpack_require__(78668);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\nvar property = __webpack_require__(81977);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js\nvar arrayUtils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js\nvar has = __webpack_require__(39994);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\nvar ensureType = __webpack_require__(7283);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\nvar subclass = __webpack_require__(40266);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js\nvar Extent = __webpack_require__(91772);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\nvar aaBoundingRect = __webpack_require__(24568);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\nvar spatialReferenceUtils = __webpack_require__(35925);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/TileInfo.js\nvar TileInfo = __webpack_require__(81590);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/viewStateUtils.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(n){return n*t}function o(t,n,o){const{resolution:r,size:u}=o;return t[0]=r*(Math.round(n[0]/r)+u[0]%2*.5),t[1]=r*(Math.round(n[1]/r)+u[1]%2*.5),t}function viewStateUtils_r(t,o){const r=n(o.rotation),u=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),[s,c]=o.size;return t[0]=Math.round(c*a+s*u),t[1]=Math.round(c*u+s*a),t}function u(t,n,o,r){const[u,a]=n,[s,c]=r,i=.5*o;return t[0]=u-i*s,t[1]=a-i*c,t[2]=u+i*s,t[3]=a+i*c,t}function a(t,n){const[o,r,u,a]=t,[s,c,i,e]=n;return!(o>i||u<s||r>e||a<c)}\n\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/Bitmap.js\nvar Bitmap = __webpack_require__(86602);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js + 2 modules\nvar TileInfoView = __webpack_require__(64970);\n// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/tiling/TileKey.js\nvar TileKey = __webpack_require__(87241);\n;// CONCATENATED MODULE: ./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst ExportStrategy_u=(0,aaBoundingRect/* create */.Ue)(),g=[0,0],f=new TileKey/* default */.Z(0,0,0,0),x={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let y=class extends Accessor/* default */.Z{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=x.hidpi,this.imageMaxWidth=x.imageMaxWidth,this.imageMaxHeight=x.imageMaxHeight,this.imageRotationSupported=x.imageRotationSupported,this.imageNormalizationSupported=x.imageNormalizationSupported,this.update=(0,promiseUtils/* debounce */.Ds)((async(t,e)=>{if(!t.stationary||this.destroyed)return null;const i=t.state,o=(0,spatialReferenceUtils/* getInfo */.C5)(i.spatialReference),r=this.hidpi?t.pixelRatio:1,s=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0];s?(g[0]=i.worldScreenWidth,g[1]=i.size[1]):this.imageRotationSupported?(g[0]=i.size[0],g[1]=i.size[1]):viewStateUtils_r(g,i);const a=Math.floor(g[0]*r)>this.imageMaxWidth||Math.floor(g[1]*r)>this.imageMaxHeight,n=o&&(i.extent.xmin<o.valid[0]||i.extent.xmax>o.valid[1]),l=!this.imageNormalizationSupported&&n,d=!a&&!l,h=this.imageRotationSupported?i.rotation:0;if(d){const t=s?i.paddedViewState.center:i.center;this._imagePromise=this._singleExport(i,g,t,i.resolution,h,r,e)}else{let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);l&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,h,r,e)}return this._imagePromise.then((async t=>{if(this._imagePromise=null,!this.destroyed){this.bitmaps=null!=t?t:[];for(const e of this.container.children)t.includes(e)||e.fadeOut().then((()=>{e.remove()}));for(const e of t)this.container.addChild(e),e.fadeIn()}})).catch((t=>{throw this._imagePromise=null,t}))}),5e3)}destroy(){this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}updateExports(t){for(const e of this.container.children){if(!e.visible||!e.stage)return;t(e),e.invalidateTexture(),e.requestRender()}}async _export(t,e,i,o,r,s){const a=await this.fetchSource(t,Math.floor(e*r),Math.floor(i*r),{rotation:o,pixelRatio:r,signal:s}),p=new Bitmap/* Bitmap */.eY(a,"additive");return p.x=t.xmin,p.y=t.ymax,p.resolution=t.width/e,p.rotation=o,p.pixelRatio=r,p}async _singleExport(t,e,i,o,r,a,p){u(ExportStrategy_u,i,o,e);const n=new Extent/* default */.Z(ExportStrategy_u[0],ExportStrategy_u[1],ExportStrategy_u[2],ExportStrategy_u[3],t.spatialReference);return[await this._export(n,e[0],e[1],r,a,p)]}_tiledExport(t,e,i,o,r){const a=TileInfo/* default.create */.Z.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),p=new TileInfoView/* default */.Z(a),m=p.getTileCoverage(t);if(!m)return null;const l=[];return m.forEach(((a,n,m,d)=>{f.set(a,n,m,d),p.getTileBounds(ExportStrategy_u,f);const h=new Extent/* default */.Z(ExportStrategy_u[0],ExportStrategy_u[1],ExportStrategy_u[2],ExportStrategy_u[3],t.spatialReference);l.push(this._export(h,e,e,i,o,r))})),Promise.all(l)}};(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"_imagePromise",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"bitmaps",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"container",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"fetchSource",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"hidpi",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"imageMaxWidth",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"imageMaxHeight",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"imageRotationSupported",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"imageNormalizationSupported",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"requestUpdate",void 0),(0,tslib_es6._)([(0,property/* property */.Cb)()],y.prototype,"updating",null),y=(0,tslib_es6._)([(0,subclass/* subclass */.j)("esri.views.2d.layers.support.ExportStrategy")],y);const S=y;\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js_+_1_modules?')},55068:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "y": () => (/* binding */ i)\n/* harmony export */ });\n/* unused harmony export default */\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(36663);\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13802);\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78668);\n/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(76868);\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81977);\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7753);\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39994);\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7283);\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(40266);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nconst i=i=>{let c=class extends i{initialize(){this.handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_2__.on)((()=>this.layer),"refresh",(r=>{this.doRefresh(r.dataChanged).catch((r=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isAbortError */ .D_)(r)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"].getLogger */ .Z.getLogger(this.declaredClass).error(r)}))})),"RefreshableLayerView")}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .Cb)()],c.prototype,"layer",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_8__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .j)("esri.layers.mixins.RefreshableLayerView")],c),c};\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/layers/RefreshableLayerView.js?')},59439:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "V": () => (/* binding */ d),\n/* harmony export */   "e": () => (/* binding */ t)\n/* harmony export */ });\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61681);\n/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17095);\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.23/esri/copyright.txt for details.\n*/\nasync function t(t,d=t.popupTemplate){if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .pC)(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes("*"))return["*"];const f=n?await (0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getFeatureEditFields */ .CH)(t):[],r=(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .fixFields */ .Q0)(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .pC)(l)&&l.defaultPopupTemplateEnabled&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .pC)(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}\n\n\n//# sourceURL=webpack://reveal-js-testing/./node_modules/@arcgis/core/views/layers/support/popupUtils.js?')}}]);